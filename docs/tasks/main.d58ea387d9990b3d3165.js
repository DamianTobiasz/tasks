(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{8255:Ue=>{function ve(F){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+F+"'");throw m.code="MODULE_NOT_FOUND",m})}ve.keys=()=>[],ve.resolve=ve,ve.id=8255,Ue.exports=ve},3018:(Ue,ve,F)=>{"use strict";F.d(ve,{deG:()=>sS,tb:()=>o_,AFp:()=>ls,ip1:()=>Hp,CZH:()=>fn,hGG:()=>YM,z2F:()=>Vl,sBO:()=>hd,Sil:()=>Ci,_Vd:()=>yl,EJc:()=>a_,SBq:()=>wr,qLn:()=>Au,vpe:()=>zi,gxx:()=>Is,tBr:()=>mr,XFs:()=>He,OlP:()=>jt,zs3:()=>Rt,ZZ4:()=>bl,aQg:()=>cp,soG:()=>Md,YKP:()=>es,v3s:()=>y_,h0i:()=>Xo,PXZ:()=>ED,R0b:()=>Cr,FiY:()=>Ro,Lbi:()=>i_,g9A:()=>r_,Qsj:()=>uI,FYo:()=>ld,JOm:()=>co,Tiy:()=>dv,q3G:()=>nn,tp0:()=>Oo,EAV:()=>BR,Rgc:()=>Us,dDg:()=>RM,DyG:()=>bu,q4F:()=>hv,GfV:()=>jE,s_b:()=>fp,ifc:()=>Yt,eFA:()=>xd,G48:()=>h_,Gpc:()=>se,X6Q:()=>d_,_c5:()=>zM,VLi:()=>Kp,c2e:()=>s_,zSh:()=>Ms,wAp:()=>$e,vHH:()=>De,EiD:()=>l0,mCW:()=>aa,qzn:()=>ws,JVY:()=>Fo,pB0:()=>ES,eBb:()=>Zb,L6k:()=>Ec,LAX:()=>Jb,cg1:()=>Qf,Tjo:()=>GM,kL8:()=>Zy,yhl:()=>Rh,dqk:()=>O,sIi:()=>ma,CqO:()=>el,QGY:()=>Ia,F4k:()=>Qc,RDi:()=>oc,AaK:()=>L,z3N:()=>ao,qOj:()=>Nf,TTD:()=>sh,_Bn:()=>ml,xp6:()=>$0,uIk:()=>ya,Tol:()=>Oa,ekj:()=>Hf,Suo:()=>Dd,Xpm:()=>Jl,lG2:()=>nb,Yz7:()=>mn,cJS:()=>cs,oAB:()=>th,Yjl:()=>rb,Y36:()=>Aa,_UZ:()=>Yc,qZA:()=>Bf,TgZ:()=>Vf,EpF:()=>Ay,n5z:()=>gc,Ikx:()=>xa,LFG:()=>bn,$8M:()=>Gg,NdJ:()=>vr,CRH:()=>GC,kcU:()=>dh,O4$:()=>ch,oxw:()=>Hw,ALo:()=>Bv,lcZ:()=>xl,xi3:()=>as,Hsn:()=>tl,F$t:()=>Gw,Q6J:()=>Xu,VKq:()=>Pv,iGM:()=>UC,MAs:()=>gy,Jf7:()=>C0,CHM:()=>Ng,LSH:()=>nm,kYT:()=>Xl,YNc:()=>py,W1O:()=>$v,_uU:()=>sl,hij:()=>zf});var m=F(9765),re=F(5319),ge=F(7574),oe=F(6682),ae=F(2441);var de=F(1307);function z(){return new m.xQ}function V(s){for(let a in s)if(s[a]===V)return a;throw Error("Could not find renamed property on target object.")}function U(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function L(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(L).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function H(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const le=V({__forward_ref__:V});function se(s){return s.__forward_ref__=se,s.toString=function(){return L(this())},s}function ue(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(le)&&s.__forward_ref__===se}class De extends Error{constructor(a,l){super(function(s,a){return`${s?`NG0${s}: `:""}${a}`}(a,l)),this.code=a}}function Ne(s){return"string"==typeof s?s:null==s?"":String(s)}function Pt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ne(s)}function te(s,a){const l=a?` in ${a}`:"";throw new De("201",`No provider for ${Pt(s)} found${l}`)}function Ot(s,a){null==s&&function(s,a,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${a} <=Actual]`))}(a,s,null,"!=")}function mn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function cs(s){return{providers:s.providers||[],imports:s.imports||[]}}function ct(s){return wt(s,Bt)||wt(s,nr)}function wt(s,a){return s.hasOwnProperty(a)?s[a]:null}function yn(s){return s&&(s.hasOwnProperty(Nn)||s.hasOwnProperty(Xd))?s[Nn]:null}const Bt=V({\u0275prov:V}),Nn=V({\u0275inj:V}),nr=V({ngInjectableDef:V}),Xd=V({ngInjectorDef:V});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let eh;function So(s){const a=eh;return eh=s,a}function an(s,a,l){const c=ct(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&He.Optional?null:void 0!==a?a:void te(L(s),"Injector")}function We(s){return{toString:s}.toString()}var Ar=(()=>((Ar=Ar||{})[Ar.OnPush=0]="OnPush",Ar[Ar.Default=1]="Default",Ar))(),Yt=(()=>((Yt=Yt||{})[Yt.Emulated=0]="Emulated",Yt[Yt.None=2]="None",Yt[Yt.ShadowDom=3]="ShadowDom",Yt))();const ui="undefined"!=typeof globalThis&&globalThis,gg="undefined"!=typeof window&&window,Qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,O=ui||"undefined"!=typeof global&&global||gg||Qt,q={},ye=[],Ke=V({\u0275cmp:V}),Et=V({\u0275dir:V}),At=V({\u0275pipe:V}),Dt=V({\u0275mod:V}),rr=V({\u0275loc:V}),un=V({\u0275fac:V}),qn=V({__NG_ELEMENT_ID__:V});let au=0;function Jl(s){return We(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ar.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ye,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Yt.Emulated,id:"c",styles:s.styles||ye,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return c.id+=au++,c.inputs=uu(s.inputs,l),c.outputs=uu(s.outputs),p&&p.forEach(v=>v(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(eb):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(mg):null,c})}function eb(s){return zn(s)||function(s){return s[Et]||null}(s)}function mg(s){return function(s){return s[At]||null}(s)}const tb={};function th(s){return We(()=>{const a={type:s.type,bootstrap:s.bootstrap||ye,declarations:s.declarations||ye,imports:s.imports||ye,exports:s.exports||ye,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(tb[s.id]=s.type),a})}function Xl(s,a){return We(()=>{const l=Ir(s,!0);l.declarations=a.declarations||ye,l.imports=a.imports||ye,l.exports=a.exports||ye})}function uu(s,a){if(null==s)return q;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=c,a&&(a[h]=p)}return l}const nb=Jl;function rb(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function zn(s){return s[Ke]||null}function Ir(s,a){const l=s[Dt]||null;if(!l&&!0===a)throw new Error(`Type ${L(s)} does not have '\u0275mod' property.`);return l}function Io(s){return Array.isArray(s)&&"object"==typeof s[1]}function ln(s){return Array.isArray(s)&&!0===s[1]}function wg(s){return 0!=(8&s.flags)}function ih(s){return 2==(2&s.flags)}function oh(s){return 1==(1&s.flags)}function Si(s){return null!==s.template}function du(s){return 0!=(512&s[2])}function ta(s,a){return s.hasOwnProperty(un)?s[un]:null}class ub{constructor(a,l,c){this.previousValue=a,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function sh(){return Eg}function Eg(s){return s.type.prototype.ngOnChanges&&(s.setInput=TN),DN}function DN(){const s=Cg(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===q)s.previous=a;else for(let c in a)l[c]=a[c];s.current=null,this.ngOnChanges(a)}}function TN(s,a,l,c){const h=Cg(s)||function(s,a){return s[kT]=a}(s,{previous:q,current:null}),p=h.current||(h.current={}),y=h.previous,v=this.declaredInputs[l],b=y[v];p[v]=new ub(b&&b.currentValue,a,y===q),s[c]=a}sh.ngInherit=!0;const kT="__ngSimpleChanges__";function Cg(s){return s[kT]||null}const lb="http://www.w3.org/2000/svg";let ic;function oc(s){ic=s}function Jt(s){return!!s.listen}const db={createRenderer:(s,a)=>void 0!==ic?ic:"undefined"!=typeof document?document:void 0};function Xt(s){for(;Array.isArray(s);)s=s[0];return s}function uh(s,a){return Xt(a[s])}function Ii(s,a){return Xt(a[s.index])}function hu(s,a){return s.data[a]}function sc(s,a){return s[a]}function qr(s,a){const l=a[s];return Io(l)?l:l[0]}function hb(s){return 4==(4&s[2])}function Sg(s){return 128==(128&s[2])}function hs(s,a){return null==a?null:s[a]}function pb(s){s[18]=0}function Ag(s,a){s[5]+=a;let l=s,c=s[3];for(;null!==c&&(1===a&&1===l[5]||-1===a&&0===l[5]);)c[5]+=a,l=c,c=c[3]}const rt={lFrame:Eb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mg(){return rt.bindingsEnabled}function me(){return rt.lFrame.lView}function vt(){return rt.lFrame.tView}function Ng(s){return rt.lFrame.contextLView=s,s[8]}function _n(){let s=mb();for(;null!==s&&64===s.type;)s=s.parent;return s}function mb(){return rt.lFrame.currentTNode}function to(s,a){const l=rt.lFrame;l.currentTNode=s,l.isParent=a}function Rg(){return rt.lFrame.isParent}function fu(){rt.lFrame.isParent=!1}function na(){return rt.isInCheckNoChangesMode}function pu(s){rt.isInCheckNoChangesMode=s}function Mr(){const s=rt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function gu(){return rt.lFrame.bindingIndex++}function Mo(s){const a=rt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function xg(s,a){const l=rt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Fg(a)}function Fg(s){rt.lFrame.currentDirectiveIndex=s}function _b(){return rt.lFrame.currentQueryIndex}function bb(s){rt.lFrame.currentQueryIndex=s}function $T(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function qT(s,a,l){if(l&He.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||l&He.Host||(h=$T(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;a=h,s=p}const c=rt.lFrame=wb();return c.currentTNode=a,c.lView=s,!0}function cc(s){const a=wb(),l=s[1];rt.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function wb(){const s=rt.lFrame,a=null===s?null:s.child;return null===a?Eb(s):a}function Eb(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function kg(){const s=rt.lFrame;return rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zT=kg;function Lg(){const s=kg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function pr(){return rt.lFrame.selectedIndex}function fs(s){rt.lFrame.selectedIndex=s}function en(){const s=rt.lFrame;return hu(s.tView,s.selectedIndex)}function ch(){rt.lFrame.currentNamespace=lb}function dh(){rt.lFrame.currentNamespace=null}function hh(s,a){for(let l=a.directiveStart,c=a.directiveEnd;l<c;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:D}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),v&&((s.contentHooks||(s.contentHooks=[])).push(l,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,v)),b&&(s.viewHooks||(s.viewHooks=[])).push(-l,b),E&&((s.viewHooks||(s.viewHooks=[])).push(l,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,E)),null!=D&&(s.destroyHooks||(s.destroyHooks=[])).push(l,D)}}function fh(s,a,l){Db(s,a,3,l)}function Vg(s,a,l,c){(3&s[2])===l&&Db(s,a,l,c)}function Cb(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Db(s,a,l,c){const p=null!=c?c:-1,y=a.length-1;let v=0;for(let b=void 0!==c?65535&s[18]:0;b<y;b++)if("number"==typeof a[b+1]){if(v=a[b],null!=c&&v>=c)break}else a[b]<0&&(s[18]+=65536),(v<p||-1==p)&&(ZT(s,l,a,b),s[18]=(4294901760&s[18])+b+2),b++}function ZT(s,a,l,c){const h=l[c]<0,p=l[c+1],v=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(v)}finally{}}}else try{p.call(v)}finally{}}class ra{constructor(a,l,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function mu(s,a,l){const c=Jt(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],v=l[h++],b=l[h++];c?s.setAttribute(a,v,b,y):a.setAttributeNS(y,v,b)}else{const y=p,v=l[++h];Sb(y)?c&&s.setProperty(a,y,v):c?s.setAttribute(a,y,v):a.setAttribute(y,v),h++}}return h}function Bg(s){return 3===s||4===s||6===s}function Sb(s){return 64===s.charCodeAt(0)}function jg(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?l=h:0===l||eS(s,l,h,null,-1===l||2===l?a[++c]:null)}}return s}function eS(s,a,l,c,h){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const v=s[p++];if("number"==typeof v){if(v===a){y=-1;break}if(v>a){y=p-1;break}}}for(;p<s.length;){const v=s[p];if("number"==typeof v)break;if(v===l){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,l),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Ab(s){return-1!==s}function dc(s){return 32767&s}function hc(s,a){let l=function(s){return s>>16}(s),c=a;for(;l>0;)c=c[15],l--;return c}let Ib=!0;function Ug(s){const a=Ib;return Ib=s,a}let Hg=0;function Ge(s,a){const l=gh(s,a);if(-1!==l)return l;const c=a[1];c.firstCreatePass&&(s.injectorIndex=a.length,Mi(c.data,s),Mi(a,null),Mi(c.blueprint,null));const h=Nr(s,a),p=s.injectorIndex;if(Ab(h)){const y=dc(h),v=hc(h,a),b=v[1].data;for(let E=0;E<8;E++)a[p+E]=v[y+E]|b[y+E]}return a[p+8]=h,p}function Mi(s,a){s.push(0,0,0,0,0,0,0,0,a)}function gh(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Nr(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=a;for(;null!==h;){const p=h[1],y=p.type;if(c=2===y?p.declTNode:1===y?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function fc(s,a,l){!function(s,a,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(qn)&&(c=l[qn]),null==c&&(c=l[qn]=Hg++);const h=255&c;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function di(s,a,l){if(l&He.Optional)return s;te(a,"NodeInjector")}function Mb(s,a,l,c){if(l&He.Optional&&void 0===c&&(c=null),0==(l&(He.Self|He.Host))){const h=s[9],p=So(void 0);try{return h?h.get(a,c,l&He.Optional):an(a,c,l&He.Optional)}finally{So(p)}}return di(c,a,l)}function Nb(s,a,l,c=He.Default,h){if(null!==s){const p=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(qn)?s[qn]:void 0;return"number"==typeof a?a>=0?255&a:Ni:a}(l);if("function"==typeof p){if(!qT(a,s,c))return c&He.Host?di(h,l,c):Mb(a,l,c,h);try{const y=p(c);if(null!=y||c&He.Optional)return y;te(l)}finally{zT()}}else if("number"==typeof p){let y=null,v=gh(s,a),b=-1,E=c&He.Host?a[16][6]:null;for((-1===v||c&He.SkipSelf)&&(b=-1===v?Nr(s,a):a[v+8],-1!==b&&xb(c,!1)?(y=a[1],v=dc(b),a=hc(b,a)):v=-1);-1!==v;){const D=a[1];if(Ob(p,v,D.data)){const A=rS(v,a,l,y,c,E);if(A!==Rb)return A}b=a[v+8],-1!==b&&xb(c,a[1].data[v+8]===E)&&Ob(p,v,a)?(y=D,v=dc(b),a=hc(b,a)):v=-1}}}return Mb(a,l,c,h)}const Rb={};function Ni(){return new pc(_n(),me())}function rS(s,a,l,c,h,p){const y=a[1],v=y.data[s+8],D=yh(v,y,l,null==c?ih(v)&&Ib:c!=y&&0!=(3&v.type),h&He.Host&&p===v);return null!==D?yu(a,y,D,v):Rb}function yh(s,a,l,c,h){const p=s.providerIndexes,y=a.data,v=1048575&p,b=s.directiveStart,D=p>>20,I=h?v+D:s.directiveEnd;for(let P=c?v:v+D;P<I;P++){const j=y[P];if(P<b&&l===j||P>=b&&j.type===l)return P}if(h){const P=y[b];if(P&&Si(P)&&P.type===l)return b}return null}function yu(s,a,l,c){let h=s[l];const p=a.data;if(function(s){return s instanceof ra}(h)){const y=h;y.resolving&&function(s,a){throw new De("200",`Circular dependency in DI detected for ${s}`)}(Pt(p[l]));const v=Ug(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?So(y.injectImpl):null;qT(s,c,He.Default);try{h=s[l]=y.factory(void 0,p,s,c),a.firstCreatePass&&l>=c.directiveStart&&function(s,a,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(c){const y=Eg(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],a)}finally{null!==b&&So(b),Ug(v),y.resolving=!1,zT()}}return h}function Ob(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function xb(s,a){return!(s&He.Self||s&He.Host&&a)}class pc{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,c){return Nb(this._tNode,this._lView,a,c,l)}}function gc(s){return We(()=>{const a=s.prototype.constructor,l=a[un]||vu(a),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[un]||vu(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function vu(s){return qe(s)?()=>{const a=vu(ue(s));return a&&a()}:ta(s)}function Gg(s){return function(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const p=l[h];if(Bg(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(p===a)return l[h+1];h+=2}}}return null}(_n(),s)}const zr="__parameters__";function hi(s,a,l){return We(()=>{const c=function(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(a);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return v.annotation=y,v;function v(b,E,D){const A=b.hasOwnProperty(zr)?b[zr]:Object.defineProperty(b,zr,{value:[]})[zr];for(;A.length<=D;)A.push(null);return(A[D]=A[D]||[]).push(y),b}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class jt{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=mn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sS=new jt("AnalyzeForEntryComponents"),bu=Function;function fi(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(a===s&&(a=s.slice(0,l)),fi(c,a)):a!==s&&a.push(c)}return a}function ro(s,a){s.forEach(l=>Array.isArray(l)?ro(l,a):a(l))}function bh(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function ys(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function vs(s,a){const l=[];for(let c=0;c<s;c++)l.push(a);return l}function Or(s,a,l){let c=Eu(s,a);return c>=0?s[1|c]=l:(c=~c,function(s,a,l,c){let h=s.length;if(h==a)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=c}}(s,c,a,l)),c}function qg(s,a){const l=Eu(s,a);if(l>=0)return s[1|l]}function Eu(s,a){return function(s,a,l){let c=0,h=s.length>>l;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<l];if(a===y)return p<<l;y>a?h=p:c=p+1}return~(h<<l)}(s,a,1)}const Cu={},Eh="__NG_DI_FLAG__",Du="ngTempTokenPath",dS=/\n/gm,Ch="__source",Kg=V({provide:String,useValue:V});let oo;function oa(s){const a=oo;return oo=s,a}function Yg(s,a=He.Default){if(void 0===oo)throw new Error("inject() must be called from an injection context");return null===oo?an(s,void 0,a):oo.get(s,a&He.Optional?null:void 0,a)}function bn(s,a=He.Default){return(eh||Yg)(ue(s),a)}function or(s){const a=[];for(let l=0;l<s.length;l++){const c=ue(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,p=He.Default;for(let y=0;y<c.length;y++){const v=c[y],b=Hb(v);"number"==typeof b?-1===b?h=v.token:p|=b:h=v}a.push(bn(h,p))}else a.push(bn(c))}return a}function Tu(s,a){return s[Eh]=a,s.prototype[Eh]=a,s}function Hb(s){return s[Eh]}function Qg(s,a,l,c){const h=s[Du];throw a[Ch]&&h.unshift(a[Ch]),s.message=function(s,a,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=L(a);if(Array.isArray(a))h=a.map(L).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let v=a[y];p.push(y+":"+("string"==typeof v?JSON.stringify(v):L(v)))}h=`{${p.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(dS,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Du]=null,s}const mr=Tu(hi("Inject",s=>({token:s})),-1),Ro=Tu(hi("Optional"),8),Oo=Tu(hi("SkipSelf"),4);let bs;function xo(s){var a;return(null===(a=function(){if(void 0===bs&&(bs=null,O.trustedTypes))try{bs=O.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return bs}())||void 0===a?void 0:a.createHTML(s))||s}class so{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yS extends so{getTypeName(){return"HTML"}}class vS extends so{getTypeName(){return"Style"}}class _S extends so{getTypeName(){return"Script"}}class bS extends so{getTypeName(){return"URL"}}class wS extends so{getTypeName(){return"ResourceURL"}}function ao(s){return s instanceof so?s.changingThisBreaksApplicationSecurity:s}function ws(s,a){const l=Rh(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function Rh(s){return s instanceof so&&s.getTypeName()||null}function Fo(s){return new yS(s)}function Ec(s){return new vS(s)}function Zb(s){return new _S(s)}function Jb(s){return new bS(s)}function ES(s){return new wS(s)}class Xb{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(xo(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class CS{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=xo(a),l;const c=this.inertDocument.createElement("body");return c.innerHTML=xo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(a){const l=a.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let c=a.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const e0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,n0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function aa(s){return(s=String(s)).match(e0)||s.match(n0)?s:"unsafe:"+s}function uo(s){const a={};for(const l of s.split(","))a[l]=!0;return a}function Es(...s){const a={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(a[c]=!0);return a}const em=uo("area,br,col,hr,img,wbr"),r0=uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i0=uo("rp,rt"),Cc=Es(em,Es(r0,uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Es(i0,uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Es(i0,r0)),Ph=uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kh=uo("srcset"),s0=Es(Ph,kh,uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DS=uo("script,style,template");class TS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!Cc.hasOwnProperty(l))return this.sanitizedSomething=!0,!DS.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=a.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),y=p.name,v=y.toLowerCase();if(!s0.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=p.value;Ph[v]&&(b=aa(b)),kh[v]&&(s=b,b=(s=String(s)).split(",").map(a=>aa(a.trim())).join(", ")),this.buf.push(" ",y,'="',u0(b),'"')}var s;return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();Cc.hasOwnProperty(l)&&!em.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(u0(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const a0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lh=/([^\#-~ |!])/g;function u0(s){return s.replace(/&/g,"&amp;").replace(a0,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Lh,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Su;function l0(s,a){let l=null;try{Su=Su||function(s){const a=new CS(s);return function(){try{return!!(new window.DOMParser).parseFromString(xo(""),"text/html")}catch(s){return!1}}()?new Xb(a):a}(s);let c=a?String(a):"";l=Su.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=l.innerHTML,l=Su.getInertBodyElement(c)}while(c!==p);return xo((new TS).sanitizeChildren(Vh(l)||l))}finally{if(l){const c=Vh(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Vh(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var nn=(()=>((nn=nn||{})[nn.NONE=0]="NONE",nn[nn.HTML=1]="HTML",nn[nn.STYLE=2]="STYLE",nn[nn.SCRIPT=3]="SCRIPT",nn[nn.URL=4]="URL",nn[nn.RESOURCE_URL=5]="RESOURCE_URL",nn))();function nm(s){const a=function(){const s=me();return s&&s[12]}();return a?a.sanitize(nn.URL,s)||"":ws(s,"URL")?ao(s):aa(Ne(s))}const h0="__ngContext__";function ar(s,a){s[h0]=a}function xr(s){const a=function(s){return s[h0]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function $h(s){return s.ngOriginalError}function FS(s,...a){s.error(...a)}class Au{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),c=this._findContext(a),h=(s=a)&&s.ngErrorLogger||FS;var s;h(this._console,"ERROR",a),l&&h(this._console,"ORIGINAL ERROR",l),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(a){return a?a.ngDebugContext||this._findContext($h(a)):null}_findOriginalError(a){let l=a&&$h(a);for(;l&&$h(l);)l=$h(l);return l||null}}const E0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(O))();function C0(s){return s.ownerDocument.defaultView}function lo(s){return s instanceof Function?s():s}var co=(()=>((co=co||{})[co.Important=1]="Important",co[co.DashCase=2]="DashCase",co))();function um(s,a){return undefined(s,a)}function Mu(s){const a=s[3];return ln(a)?a[3]:a}function Kh(s){return cm(s[13])}function Yh(s){return cm(s[4])}function cm(s){for(;null!==s&&!ln(s);)s=s[4];return s}function Nu(s,a,l,c,h){if(null!=c){let p,y=!1;ln(c)?p=c:Io(c)&&(y=!0,c=c[0]);const v=Xt(c);0===s&&null!==l?null==h?O0(a,l,v):dn(a,l,v,h||null,!0):1===s&&null!==l?dn(a,l,v,h||null,!0):2===s?function(s,a,l){const c=ko(s,a);c&&function(s,a,l,c){Jt(s)?s.removeChild(a,l,c):a.removeChild(l)}(s,c,a,l)}(a,v,y):3===s&&a.destroyNode(v),null!=p&&function(s,a,l,c,h){const p=l[7];p!==Xt(l)&&Nu(a,s,c,p,h);for(let v=10;v<l.length;v++){const b=l[v];Ou(b[1],b,s,a,c,p)}}(a,s,p,l,h)}}function Sc(s,a,l){return Jt(s)?s.createElement(a,l):null===l?s.createElement(a):s.createElementNS(l,a)}function da(s,a){const l=s[9],c=l.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Ag(h,-1)),l.splice(c,1)}function fm(s,a){if(s.length<=10)return;const l=10+a,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&da(h,c),a>0&&(s[l-1][4]=c[4]);const p=ys(s,10+a);!function(s,a){Ou(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function I0(s,a){if(!(256&a[2])){const l=a[11];Jt(l)&&l.destroyNode&&Ou(s,a,l,3,null,null),function(s){let a=s[13];if(!a)return pm(s[1],s);for(;a;){let l=null;if(Io(a))l=a[13];else{const c=a[10];c&&(l=c)}if(!l){for(;a&&!a[4]&&a!==s;)Io(a)&&pm(a[1],a),a=a[3];null===a&&(a=s),Io(a)&&pm(a[1],a),l=a&&a[4]}a=l}}(a)}}function pm(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=a[l[c]];if(!(h instanceof ra)){const p=l[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const v=h[p[y]],b=p[y+1];try{b.call(v)}finally{}}else try{p.call(h)}finally{}}}}(s,a),function(s,a){const l=s.cleanup,c=a[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],v="function"==typeof y?y(a):Xt(a[y]),b=c[h=l[p+2]],E=l[p+3];"boolean"==typeof E?v.removeEventListener(l[p],b,E):E>=0?c[h=E]():c[h=-E].unsubscribe(),p+=2}else{const y=c[h=l[p+1]];l[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)c[p]();a[7]=null}}(s,a),1===a[1].type&&Jt(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&ln(a[3])){l!==a[3]&&da(l,a);const c=a[19];null!==c&&c.detachView(s)}}}function N0(s,a,l){return function(s,a,l){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Yt.None||h===Yt.Emulated)return null}return Ii(c,l)}(s,a.parent,l)}function dn(s,a,l,c,h){Jt(s)?s.insertBefore(a,l,c,h):a.insertBefore(l,c,h)}function O0(s,a,l){Jt(s)?s.appendChild(a,l):a.appendChild(l)}function Ac(s,a,l,c,h){null!==c?dn(s,a,l,c,h):O0(s,a,l)}function ko(s,a){return Jt(s)?s.parentNode(a):a.parentNode}function x0(s,a,l){return Zh(s,a,l)}let Zh=function(s,a,l){return 40&s.type?Ii(s,l):null};function Jh(s,a,l,c){const h=N0(s,c,a),p=a[11],v=x0(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(l))for(let b=0;b<l.length;b++)Ac(p,h,l[b],v,!1);else Ac(p,h,l,v,!1)}function Ic(s,a){if(null!==a){const l=a.type;if(3&l)return Ii(a,s);if(4&l)return Mc(-1,s[a.index]);if(8&l){const c=a.child;if(null!==c)return Ic(s,c);{const h=s[a.index];return ln(h)?Mc(-1,h):Xt(h)}}if(32&l)return um(a,s)()||Xt(s[a.index]);{const c=ym(s,a);return null!==c?Array.isArray(c)?c[0]:Ic(Mu(s[16]),c):Ic(s,a.next)}}return null}function ym(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Mc(s,a){const l=10+s+1;if(l<a.length){const c=a[l],h=c[1].firstChild;if(null!==h)return Ic(c,h)}return a[7]}function Lo(s,a,l,c,h,p,y){for(;null!=l;){const v=c[l.index],b=l.type;if(y&&0===a&&(v&&ar(Xt(v),c),l.flags|=4),64!=(64&l.flags))if(8&b)Lo(s,a,l.child,c,h,p,!1),Nu(a,s,h,v,p);else if(32&b){const E=um(l,c);let D;for(;D=E();)Nu(a,s,h,D,p);Nu(a,s,h,v,p)}else 16&b?P0(s,a,c,l,h,p):Nu(a,s,h,v,p);l=y?l.projectionNext:l.next}}function Ou(s,a,l,c,h,p){Lo(l,c,s.firstChild,a,h,p,!1)}function P0(s,a,l,c,h,p){const y=l[16],b=y[6].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)Nu(a,s,h,b[E],p);else Lo(s,a,b,y[3],h,p,!0)}function k0(s,a,l){Jt(s)?s.setAttribute(a,"style",l):a.style.cssText=l}function vm(s,a,l){Jt(s)?""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l):a.className=l}function L0(s,a,l){let c=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}l=h+1}}const V0="ng-template";function XS(s,a,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==L0(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function B0(s){return 4===s.type&&s.value!==V0}function _m(s,a,l){return a===(4!==s.type||l?s.value:V0)}function eA(s,a,l){let c=4;const h=s.attrs||[],p=function(s){for(let a=0;a<s.length;a++)if(Bg(s[a]))return a;return s.length}(h);let y=!1;for(let v=0;v<a.length;v++){const b=a[v];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!_m(s,b,l)||""===b&&1===a.length){if(Ri(c))return!1;y=!0}}else{const E=8&c?b:a[++v];if(8&c&&null!==s.attrs){if(!XS(s.attrs,E,l)){if(Ri(c))return!1;y=!0}continue}const A=j0(8&c?"class":b,h,B0(s),l);if(-1===A){if(Ri(c))return!1;y=!0;continue}if(""!==E){let I;I=A>p?"":h[A+1].toLowerCase();const P=8&c?I:null;if(P&&-1!==L0(P,E,0)||2&c&&E!==I){if(Ri(c))return!1;y=!0}}}}else{if(!y&&!Ri(c)&&!Ri(b))return!1;if(y&&Ri(b))continue;y=!1,c=b|1&c}}return Ri(c)||y}function Ri(s){return 0==(1&s)}function j0(s,a,l,c){if(null===a)return-1;let h=0;if(c||!l){let p=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let v=a[++h];for(;"string"==typeof v;)v=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===a)return l;l++}return-1}(a,s)}function U0(s,a,l=!1){for(let c=0;c<a.length;c++)if(eA(s,a[c],l))return!0;return!1}function tA(s,a){e:for(let l=0;l<a.length;l++){const c=a[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function Xh(s,a){return s?":not("+a.trim()+")":a}function nA(s){let a=s[0],l=1,c=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&c){const v=s[++l];h+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Ri(y)&&(a+=Xh(p,h),h=""),c=y,p=p||!Ri(c);l++}return""!==h&&(a+=Xh(p,h)),a}const it={};function $0(s){Vo(vt(),me(),pr()+s,na())}function Vo(s,a,l,c){if(!c)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&fh(a,p,l)}else{const p=s.preOrderHooks;null!==p&&Vg(a,p,0,l)}fs(l)}function ef(s,a){return s<<17|a<<2}function Oi(s){return s>>17&32767}function Bo(s){return 2|s}function xi(s){return(131068&s)>>2}function bm(s,a){return-131069&s|a<<2}function Em(s){return 1|s}function Rc(s,a){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],p=l[c+1];if(-1!==p){const y=s.data[p];bb(h),y.contentQueries(2,a[p],p)}}}function ha(s,a,l,c,h,p,y,v,b,E){const D=a.blueprint.slice();return D[0]=h,D[2]=140|c,pb(D),D[3]=D[15]=s,D[8]=l,D[10]=y||s&&s[10],D[11]=v||s&&s[11],D[12]=b||s&&s[12]||null,D[9]=E||s&&s[9]||null,D[6]=p,D[16]=2==a.type?s[16]:D,D}function Fu(s,a,l,c,h){let p=s.data[a];if(null===p)p=function(s,a,l,c,h){const p=mb(),y=Rg(),b=s.data[a]=function(s,a,l,c,h,p){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,a,c,h);return null===s.firstChild&&(s.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,a,l,c,h),rt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=c,p.attrs=h;const y=function(){const s=rt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return to(p,!0),p}function Ss(s,a,l,c){if(0===l)return-1;const h=a.length;for(let p=0;p<l;p++)a.push(c),s.blueprint.push(c),s.data.push(null);return h}function Pu(s,a,l){cc(a);try{const c=s.viewQuery;null!==c&&yf(1,c,l);const h=s.template;null!==h&&Kn(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Rc(s,a),s.staticViewQueries&&yf(2,s.viewQuery,l);const p=s.components;null!==p&&function(s,a){for(let l=0;l<a.length;l++)uw(s,a[l])}(a,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{a[2]&=-5,Lg()}}function ku(s,a,l,c){const h=a[2];if(256==(256&h))return;cc(a);const p=na();try{pb(a),function(s){rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Kn(s,a,l,2,c);const y=3==(3&h);if(!p)if(y){const E=s.preOrderCheckHooks;null!==E&&fh(a,E,null)}else{const E=s.preOrderHooks;null!==E&&Vg(a,E,0,null),Cb(a,0)}if(function(s){for(let a=Kh(s);null!==a;a=Yh(a)){if(!a[2])continue;const l=a[9];for(let c=0;c<l.length;c++){const h=l[c],p=h[3];0==(1024&h[2])&&Ag(p,1),h[2]|=1024}}}(a),function(s){for(let a=Kh(s);null!==a;a=Yh(a))for(let l=10;l<a.length;l++){const c=a[l],h=c[1];Sg(c)&&ku(h,c,h.template,c[8])}}(a),null!==s.contentQueries&&Rc(s,a),!p)if(y){const E=s.contentCheckHooks;null!==E&&fh(a,E)}else{const E=s.contentHooks;null!==E&&Vg(a,E,1),Cb(a,1)}!function(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)fs(~h);else{const p=h,y=l[++c],v=l[++c];xg(y,p),v(2,a[p])}}}finally{fs(-1)}}(s,a);const v=s.components;null!==v&&function(s,a){for(let l=0;l<a.length;l++)aw(s,a[l])}(a,v);const b=s.viewQuery;if(null!==b&&yf(2,b,c),!p)if(y){const E=s.viewCheckHooks;null!==E&&fh(a,E)}else{const E=s.viewHooks;null!==E&&Vg(a,E,2),Cb(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ag(a[3],-1))}finally{Lg()}}function pA(s,a,l,c){const h=a[10],p=!na(),y=hb(a);try{p&&!y&&h.begin&&h.begin(),y&&Pu(s,a,c),ku(s,a,l,c)}finally{p&&!y&&h.end&&h.end()}}function Kn(s,a,l,c,h){const p=pr(),y=2&c;try{fs(-1),y&&a.length>20&&Vo(s,a,20,na()),l(c,h)}finally{fs(p)}}function Pm(s,a,l){!Mg()||(function(s,a,l,c){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||Ge(l,a),ar(c,a);const y=l.initialInputs;for(let v=h;v<p;v++){const b=s.data[v],E=Si(b);E&&Hm(a,l,b);const D=yu(a,s,v,l);ar(D,a),null!==y&&hf(0,v-h,D,b,0,y),E&&(qr(l.index,a)[8]=D)}}(s,a,l,Ii(l,a)),128==(128&l.flags)&&function(s,a,l){const c=l.directiveStart,h=l.directiveEnd,y=l.index,v=rt.lFrame.currentDirectiveIndex;try{fs(y);for(let b=c;b<h;b++){const E=s.data[b],D=a[b];Fg(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&nw(E,D)}}finally{fs(-1),Fg(v)}}(s,a,l))}function fa(s,a,l=Ii){const c=a.localNames;if(null!==c){let h=a.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],v=-1===y?l(a,s):s[y];s[h++]=v}}}function Z0(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=of(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function of(s,a,l,c,h,p,y,v,b,E){const D=20+c,A=D+h,I=function(s,a){const l=[];for(let c=0;c<a;c++)l.push(c<s?null:it);return l}(D,A),P="function"==typeof E?E():E;return I[1]={type:s,blueprint:I,template:l,queries:null,viewQuery:v,declTNode:a,data:I.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:P,incompleteFirstPass:!1}}function uf(s,a,l,c){const h=ur(a);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Ym(s).push(c,h.length-1))}function Lm(s,a,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(a,h):l[c]=[a,h]}return l}function kr(s,a,l,c,h,p,y,v){const b=Ii(a,l);let D,E=a.inputs;!v&&null!=E&&(D=E[c])?(Qm(s,l,D,c,h),ih(a)&&function(s,a){const l=qr(a,s);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,a.value||"",c):h,Jt(p)?p.setProperty(b,c,h):Sb(c)||(b.setProperty?b.setProperty(c,h):b[c]=h))}function wn(s,a,l,c){let h=!1;if(Mg()){const p=function(s,a,l){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];U0(l,y.selectors,!1)&&(h||(h=[]),fc(Ge(l,a),s,y.type),Si(y)?(iw(s,l),h.unshift(y)):h.push(y))}return h}(s,a,l),y=null===c?null:{"":-1};if(null!==p){h=!0,df(l,s.data.length,p.length);for(let D=0;D<p.length;D++){const A=p[D];A.providersResolver&&A.providersResolver(A)}let v=!1,b=!1,E=Ss(s,a,p.length,null);for(let D=0;D<p.length;D++){const A=p[D];l.mergedAttrs=jg(l.mergedAttrs,A.hostAttrs),ow(s,l,a,E,A),Um(E,A,y),null!==A.contentQueries&&(l.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(l.flags|=128);const I=A.type.prototype;!v&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!b&&(I.ngOnChanges||I.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),b=!0),E++}!function(s,a){const c=a.directiveEnd,h=s.data,p=a.attrs,y=[];let v=null,b=null;for(let E=a.directiveStart;E<c;E++){const D=h[E],A=D.inputs,I=null===p||B0(a)?null:$m(A,p);y.push(I),v=Lm(A,E,v),b=Lm(D.outputs,E,b)}null!==v&&(v.hasOwnProperty("class")&&(a.flags|=16),v.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=v,a.outputs=b}(s,l)}y&&function(s,a,l){if(a){const c=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=l[a[h+1]];if(null==p)throw new De("301",`Export of name '${a[h+1]}' not found!`);c.push(a[h],p)}}}(l,c,y)}return l.mergedAttrs=jg(l.mergedAttrs,l.attrs),h}function Ln(s,a,l,c,h,p){const y=p.hostBindings;if(y){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const b=~a.index;(function(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(v)!=b&&v.push(b),v.push(c,h,y)}}function nw(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function iw(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Um(s,a,l){if(l){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)l[a.exportAs[c]]=s;Si(a)&&(l[""]=s)}}function df(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function ow(s,a,l,c,h){s.data[c]=h;const p=h.factory||(h.factory=ta(h.type)),y=new ra(p,Si(h),null);s.blueprint[c]=y,l[c]=y,Ln(s,a,0,c,Ss(s,l,h.hostVars,it),h)}function Hm(s,a,l){const c=Ii(a,s),h=Z0(l),p=s[10],y=gf(s,ha(s,h,null,l.onPush?64:16,c,a,p,p.createRenderer(c,l),null,null));s[a.index]=y}function Fi(s,a,l,c,h,p){const y=Ii(s,a);!function(s,a,l,c,h,p,y){if(null==p)Jt(s)?s.removeAttribute(a,h,l):a.removeAttribute(h);else{const v=null==y?Ne(p):y(p,c||"",h);Jt(s)?s.setAttribute(a,h,v,l):l?a.setAttributeNS(l,h,v):a.setAttribute(h,v)}}(a[11],y,p,s.value,l,c,h)}function hf(s,a,l,c,h,p){const y=p[a];if(null!==y){const v=c.setInput;for(let b=0;b<y.length;){const E=y[b++],D=y[b++],A=y[b++];null!==v?c.setInput(l,A,E,D):l[D]=A}}}function $m(s,a){let l=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],a[c+1])),c+=2}else c+=2;else c+=4}return l}function qm(s,a,l,c){return new Array(s,!0,!1,a,null,0,c,l,null,null)}function aw(s,a){const l=qr(a,s);if(Sg(l)){const c=l[1];80&l[2]?ku(c,l,c.template,l[8]):l[5]>0&&ff(l)}}function ff(s){for(let c=Kh(s);null!==c;c=Yh(c))for(let h=10;h<c.length;h++){const p=c[h];if(1024&p[2]){const y=p[1];ku(y,p,y.template,p[8])}else p[5]>0&&ff(p)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=qr(l[c],s);Sg(h)&&h[5]>0&&ff(h)}}function uw(s,a){const l=qr(a,s),c=l[1];(function(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(c,l),Pu(c,l,l[8])}function gf(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function zm(s){for(;s;){s[2]|=64;const a=Mu(s);if(du(s)&&!a)return s;s=a}return null}function Km(s,a,l){const c=a[10];c.begin&&c.begin();try{ku(s,a,s.template,l)}catch(h){throw Fc(a,h),h}finally{c.end&&c.end()}}function As(s){!function(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],c=xr(l),h=c[1];pA(h,c,h.template,l)}}(s[8])}function yf(s,a,l){bb(0),a(s,l)}const cw=(()=>Promise.resolve(null))();function ur(s){return s[7]||(s[7]=[])}function Ym(s){return s.cleanup||(s.cleanup=[])}function Fc(s,a){const l=s[9],c=l?l.get(Au,null):null;c&&c.handleError(a)}function Qm(s,a,l,c,h){for(let p=0;p<l.length;){const y=l[p++],v=l[p++],b=a[y],E=s.data[y];null!==E.setInput?E.setInput(b,h,c,v):b[v]=h}}function Pi(s,a,l){const c=uh(a,s);!function(s,a,l){Jt(s)?s.setValue(a,l):a.textContent=l}(s[11],c,l)}function Pc(s,a,l){let c=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const v=a[y];"number"==typeof v?p=v:1==p?h=H(h,v):2==p&&(c=H(c,v+": "+a[++y]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const Is=new jt("INJECTOR",-1);class _f{get(a,l=Cu){if(l===Cu){const c=new Error(`NullInjectorError: No provider for ${L(a)}!`);throw c.name="NullInjectorError",c}return l}}const Ms=new jt("Set Injector scope."),Ho={},fw={};let Zm;function bf(){return void 0===Zm&&(Zm=new _f),Zm}function Ef(s,a=null,l=null,c){return new pw(s,l,a||bf(),c)}class pw{constructor(a,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&ro(l,v=>this.processProvider(v,a,l)),ro([a],v=>this.processInjectorType(v,[],p)),this.records.set(Is,pa(void 0,this));const y=this.records.get(Ms);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof a?null:L(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=Cu,c=He.Default){this.assertNotDestroyed();const h=oa(this),p=So(void 0);try{if(!(c&He.SkipSelf)){let v=this.records.get(a);if(void 0===v){const b=("function"==typeof(s=a)||"object"==typeof s&&s instanceof jt)&&ct(a);v=b&&this.injectableDefInScope(b)?pa(Cf(a),Ho):null,this.records.set(a,v)}if(null!=v)return this.hydrate(a,v)}return(c&He.Self?bf():this.parent).get(a,l=c&He.Optional&&l===Cu?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Du]=y[Du]||[]).unshift(L(a)),h)throw y;return Qg(y,a,"R3InjectorError",this.source)}throw y}finally{So(p),oa(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,h)=>a.push(L(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,l,c){if(!(a=ue(a)))return!1;let h=yn(a);const p=null==h&&a.ngModule||void 0,y=void 0===p?a:p,v=-1!==c.indexOf(y);if(void 0!==p&&(h=yn(p)),null==h)return!1;if(null!=h.imports&&!v){let D;c.push(y);try{ro(h.imports,A=>{this.processInjectorType(A,l,c)&&(void 0===D&&(D=[]),D.push(A))})}finally{}if(void 0!==D)for(let A=0;A<D.length;A++){const{ngModule:I,providers:P}=D[A];ro(P,j=>this.processProvider(j,I,P||ye))}}this.injectorDefTypes.add(y);const b=ta(y)||(()=>new y);this.records.set(y,pa(b,Ho));const E=h.providers;if(null!=E&&!v){const D=a;ro(E,A=>this.processProvider(A,D,E))}return void 0!==p&&void 0!==a.providers}processProvider(a,l,c){let h=Ns(a=ue(a))?a:ue(a&&a.provide);const p=Lc(s=a)?pa(void 0,s.useValue):pa(ju(s),Ho);var s;if(Ns(a)||!0!==a.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=pa(void 0,Ho,!0),y.factory=()=>or(y.multi),this.records.set(h,y)),h=a,y.multi.push(a)}this.records.set(h,p)}hydrate(a,l){return l.value===Ho&&(l.value=fw,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(a){if(!a.providedIn)return!1;const l=ue(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Cf(s){const a=ct(s),l=null!==a?a.factory:ta(s);if(null!==l)return l;if(s instanceof jt)throw new Error(`Token ${L(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const a=s.length;if(a>0){const c=vs(a,"?");throw new Error(`Can't resolve all parameters for ${L(s)}: (${c.join(", ")}).`)}const l=function(s){const a=s&&(s[Bt]||s[nr]);if(a){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function ju(s,a,l){let c;if(Ns(s)){const h=ue(s);return ta(h)||Cf(h)}if(Lc(s))c=()=>ue(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...or(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>bn(ue(s.useExisting));else{const h=ue(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return ta(h)||Cf(h);c=()=>new h(...or(s.deps))}return c}function pa(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function Lc(s){return null!==s&&"object"==typeof s&&Kg in s}function Ns(s){return"function"==typeof s}const yw=function(s,a,l){return function(s,a=null,l=null,c){const h=Ef(s,a,l,c);return h._resolveInjectorDefTypes(),h}({name:l},a,s,l)};let Rt=(()=>{class s{static create(l,c){return Array.isArray(l)?yw(l,c,""):yw(l.providers,l.parent,l.name||"")}}return s.THROW_IF_NOT_FOUND=Cu,s.NULL=new _f,s.\u0275prov=mn({token:s,providedIn:"any",factory:()=>bn(Is)}),s.__NG_ELEMENT_ID__=-1,s})();function jc(s,a){hh(xr(s)[1],_n())}function Nf(s){let a=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;a;){let h;if(Si(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(l){c.push(h);const y=s;y.inputs=sy(s.inputs),y.declaredInputs=sy(s.declaredInputs),y.outputs=sy(s.outputs);const v=h.hostBindings;v&&Ow(s,v);const b=h.viewQuery,E=h.contentQueries;if(b&&AA(s,b),E&&IA(s,E),U(s.inputs,h.inputs),U(s.declaredInputs,h.declaredInputs),U(s.outputs,h.outputs),Si(h)&&h.data.animation){const D=s.data;D.animation=(D.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const v=p[y];v&&v.ngInherit&&v(s),v===Nf&&(l=!1)}}a=Object.getPrototypeOf(a)}!function(s){let a=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=a+=h.hostVars,h.hostAttrs=jg(h.hostAttrs,l=jg(l,h.hostAttrs))}}(c)}function sy(s){return s===q?{}:s===ye?[]:s}function AA(s,a){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{a(c,h),l(c,h)}:a}function IA(s,a){const l=s.contentQueries;s.contentQueries=l?(c,h,p)=>{a(c,h,p),l(c,h,p)}:a}function Ow(s,a){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{a(c,h),l(c,h)}:a}let Uc=null;function Lr(){if(!Uc){const s=O.Symbol;if(s&&s.iterator)Uc=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const c=a[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Uc=c)}}}return Uc}class Vi{constructor(a){this.wrapped=a}static wrap(a){return new Vi(a)}static unwrap(a){return Vi.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Vi}}function ma(s){return!!Gc(s)&&(Array.isArray(s)||!(s instanceof Map)&&Lr()in s)}function Gc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Kr(s,a,l){return s[a]=l}function Vn(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function ya(s,a,l,c){const h=me();return Vn(h,gu(),a)&&(vt(),Fi(en(),h,s,a,l,c)),ya}function py(s,a,l,c,h,p,y,v){const b=me(),E=vt(),D=s+20,A=E.firstCreatePass?function(s,a,l,c,h,p,y,v,b){const E=a.consts,D=Fu(a,s,4,y||null,hs(E,v));wn(a,l,D,hs(E,b)),hh(a,D);const A=D.tViews=of(2,D,c,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,E);return null!==a.queries&&(a.queries.template(a,D),A.queries=a.queries.embeddedTView(D)),D}(D,E,b,a,l,c,h,p,y):E.data[D];to(A,!1);const I=b[11].createComment("");Jh(E,b,I,A),ar(I,b),gf(b,b[D]=qm(I,b,I,A)),oh(A)&&Pm(E,b,A),null!=y&&fa(b,A,v)}function gy(s){return sc(rt.lFrame.contextLView,20+s)}function Aa(s,a=He.Default){const l=me();return null===l?bn(s,a):Nb(_n(),l,ue(s),a)}function Xu(s,a,l){const c=me();return Vn(c,gu(),a)&&kr(vt(),en(),c,s,a,c[11],l,!1),Xu}function Kc(s,a,l,c,h){const y=h?"class":"style";Qm(s,l,a.inputs[y],y,c)}function Vf(s,a,l,c){const h=me(),p=vt(),y=20+s,v=h[11],b=h[y]=Sc(v,a,rt.lFrame.currentNamespace),E=p.firstCreatePass?function(s,a,l,c,h,p,y){const v=a.consts,E=Fu(a,s,2,h,hs(v,p));return wn(a,l,E,hs(v,y)),null!==E.attrs&&Pc(E,E.attrs,!1),null!==E.mergedAttrs&&Pc(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(y,p,h,0,a,l,c):p.data[y];to(E,!0);const D=E.mergedAttrs;null!==D&&mu(v,b,D);const A=E.classes;null!==A&&vm(v,b,A);const I=E.styles;null!==I&&k0(v,b,I),64!=(64&E.flags)&&Jh(p,h,b,E),0===rt.lFrame.elementDepthCount&&ar(b,h),rt.lFrame.elementDepthCount++,oh(E)&&(Pm(p,h,E),function(s,a,l){if(wg(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}(p,E,h)),null!==c&&fa(h,E)}function Bf(){let s=_n();Rg()?fu():(s=s.parent,to(s,!1));const a=s;rt.lFrame.elementDepthCount--;const l=vt();l.firstCreatePass&&(hh(l,s),wg(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(a)&&Kc(l,a,me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(a)&&Kc(l,a,me(),a.stylesWithoutHost,!1)}function Yc(s,a,l,c){Vf(s,a,l,c),Bf()}function Ay(){return me()}function Ia(s){return!!s&&"function"==typeof s.then}function Qc(s){return!!s&&"function"==typeof s.subscribe}const el=Qc;function vr(s,a,l,c){const h=me(),p=vt(),y=_n();return function(s,a,l,c,h,p,y,v){const b=oh(c),D=s.firstCreatePass&&Ym(s),A=a[8],I=ur(a);let P=!0;if(3&c.type||v){const G=Ii(c,a),we=v?v(G):G,ce=I.length,ke=v?ze=>v(Xt(ze[c.index])):c.index;if(Jt(l)){let ze=null;if(!v&&b&&(ze=function(s,a,l,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===c){const v=a[7],b=h[p+2];return v.length>b?v[b]:null}"string"==typeof y&&(p+=2)}return null}(s,a,h,c.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=p,ze.__ngLastListenerFn__=p,P=!1;else{p=My(c,a,A,p,!1);const mt=l.listen(we,h,p);I.push(p,mt),D&&D.push(h,ke,ce,ce+1)}}else p=My(c,a,A,p,!0),we.addEventListener(h,p,y),I.push(p),D&&D.push(h,ke,ce,y)}else p=My(c,a,A,p,!1);const j=c.outputs;let J;if(P&&null!==j&&(J=j[h])){const G=J.length;if(G)for(let we=0;we<G;we+=2){const Pn=a[J[we]][J[we+1]].subscribe(p),oi=I.length;I.push(p,Pn),D&&D.push(h,c.index,oi,-(oi+1))}}}(p,h,h[11],y,s,a,!!l,c),vr}function Iy(s,a,l,c){try{return!1!==l(c)}catch(h){return Fc(s,h),!1}}function My(s,a,l,c,h){return function p(y){if(y===Function)return c;const v=2&s.flags?qr(s.index,a):a;0==(32&a[2])&&zm(v);let b=Iy(a,0,c,y),E=p.__ngNextListenerFn__;for(;E;)b=Iy(a,0,E,y)&&b,E=E.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Hw(s=1){return function(s){return(rt.lFrame.contextLView=function(s,a){for(;s>0;)a=a[15],s--;return a}(s,rt.lFrame.contextLView))[8]}(s)}function kA(s,a){let l=null;const c=function(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(s);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===c?U0(s,p,!0):tA(c,p))return h}else l=h}return l}function Gw(s){const a=me()[16][6];if(!a.projection){const c=a.projection=vs(s?s.length:1,null),h=c.slice();let p=a.child;for(;null!==p;){const y=s?kA(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:c[y]=p,h[y]=p),p=p.next}}}function tl(s,a=0,l){const c=me(),h=vt(),p=Fu(h,20+s,16,null,l||null);null===p.projection&&(p.projection=a),fu(),64!=(64&p.flags)&&function(s,a,l){P0(a[11],0,a,l,N0(s,l,a),x0(l.parent||a[6],l,a))}(h,c,p)}function Na(s,a,l,c,h){const p=s[l+1],y=null===a;let v=c?Oi(p):xi(p),b=!1;for(;0!==v&&(!1===b||y);){const D=s[v+1];_i(s[v],a)&&(b=!0,s[v+1]=c?Em(D):Bo(D)),v=c?Oi(D):xi(D)}b&&(s[l+1]=c?Bo(p):Em(p))}function _i(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Eu(s,a)>=0}const Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nl(s){return s.substring(Cn.key,Cn.keyEnd)}function rl(s,a){const l=Cn.textEnd;return l===a?-1:(a=Cn.keyEnd=function(s,a,l){for(;a<l&&s.charCodeAt(a)>32;)a++;return a}(s,Cn.key=a,l),Ra(s,a,l))}function Ra(s,a,l){for(;a<l&&s.charCodeAt(a)<=32;)a++;return a}function Hf(s,a){return function(s,a,l,c){const h=me(),p=vt(),y=Mo(2);p.firstUpdatePass&&Yn(p,s,y,c),a!==it&&Vn(h,y,a)&&jy(p,p.data[pr()],h,h[11],s,h[y+1]=function(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=L(ao(s)))),s}(a,l),c,y)}(s,a,null,!0),Hf}function Oa(s){!function(s,a,l,c){const h=vt(),p=Mo(2);h.firstUpdatePass&&Yn(h,null,p,c);const y=me();if(l!==it&&Vn(y,p,l)){const v=h.data[pr()];if(bt(v,c)&&!Jw(h,p)){let b=c?v.classesWithoutHost:v.stylesWithoutHost;null!==b&&(l=H(b,l||"")),Kc(h,v,y,l,c)}else!function(s,a,l,c,h,p,y,v){h===it&&(h=ye);let b=0,E=0,D=0<h.length?h[0]:null,A=0<p.length?p[0]:null;for(;null!==D||null!==A;){const I=b<h.length?h[b+1]:void 0,P=E<p.length?p[E+1]:void 0;let J,j=null;D===A?(b+=2,E+=2,I!==P&&(j=A,J=P)):null===A||null!==D&&D<A?(b+=2,j=D):(E+=2,j=A,J=P),null!==j&&jy(s,a,l,c,j,J,y,v),D=b<h.length?h[b]:null,A=E<p.length?p[E]:null}}(h,v,y,y[11],y[p+1],y[p+1]=function(s,a,l){if(null==l||""===l)return ye;const c=[],h=ao(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&a(c,h);return c}(s,a,l),c,p)}}(Or,Ui,s,!0)}function Ui(s,a){for(let l=function(s){return function(s){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=s.length}(s),rl(s,Ra(s,0,Cn.textEnd))}(a);l>=0;l=rl(a,l))Or(s,nl(a),!0)}function Jw(s,a){return a>=s.expandoStartIndex}function Yn(s,a,l,c){const h=s.data;if(null===h[l+1]){const p=h[pr()],y=Jw(s,l);bt(p,c)&&null===a&&!y&&(a=!1),a=function(s,a,l,c){const h=function(s){const a=rt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(l=il(l=By(null,s,a,l,c),a.attrs,c),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(l=By(h,s,a,l,c),null===p){let b=function(s,a,l){const c=l?a.classBindings:a.styleBindings;if(0!==xi(c))return s[Oi(c)]}(s,a,c);void 0!==b&&Array.isArray(b)&&(b=By(null,s,a,b[1],c),b=il(b,a.attrs,c),function(s,a,l,c){s[Oi(l?a.classBindings:a.styleBindings)]=c}(s,a,c,b))}else p=function(s,a,l){let c;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)c=il(c,s[p].hostAttrs,l);return il(c,a.attrs,l)}(s,a,c)}return void 0!==p&&(c?a.residualClasses=p:a.residualStyles=p),l}(h,p,a,c),function(s,a,l,c,h,p){let y=p?a.classBindings:a.styleBindings,v=Oi(y),b=xi(y);s[c]=l;let D,E=!1;if(Array.isArray(l)){const A=l;D=A[1],(null===D||Eu(A,D)>0)&&(E=!0)}else D=l;if(h)if(0!==b){const I=Oi(s[v+1]);s[c+1]=ef(I,v),0!==I&&(s[I+1]=bm(s[I+1],c)),s[v+1]=function(s,a){return 131071&s|a<<17}(s[v+1],c)}else s[c+1]=ef(v,0),0!==v&&(s[v+1]=bm(s[v+1],c)),v=c;else s[c+1]=ef(b,0),0===v?v=c:s[b+1]=bm(s[b+1],c),b=c;E&&(s[c+1]=Bo(s[c+1])),Na(s,D,c,!0),Na(s,D,c,!1),function(s,a,l,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&Eu(p,a)>=0&&(l[c+1]=Em(l[c+1]))}(a,D,s,c,p),y=ef(v,b),p?a.classBindings=y:a.styleBindings=y}(h,p,a,l,y,c)}}function By(s,a,l,c,h){let p=null;const y=l.directiveEnd;let v=l.directiveStylingLast;for(-1===v?v=l.directiveStart:v++;v<y&&(p=a[v],c=il(c,p.hostAttrs,h),p!==s);)v++;return null!==s&&(l.directiveStylingLast=v),c}function il(s,a,l){const c=l?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Or(s,y,!!l||a[++p]))}return void 0===s?null:s}function jy(s,a,l,c,h,p,y,v){if(!(3&a.type))return;const b=s.data,E=b[v+1];td(function(s){return 1==(1&s)}(E)?Uy(b,a,l,h,xi(E),y):void 0)||(td(p)||function(s){return 2==(2&s)}(E)&&(p=Uy(b,null,l,h,v,y)),function(s,a,l,c,h){const p=Jt(s);if(a)h?p?s.addClass(l,c):l.classList.add(c):p?s.removeClass(l,c):l.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:co.DashCase;if(null==h)p?s.removeStyle(l,c,y):l.style.removeProperty(c);else{const v="string"==typeof h&&h.endsWith("!important");v&&(h=h.slice(0,-10),y|=co.Important),p?s.setStyle(l,c,h,y):l.style.setProperty(c,h,v?"important":"")}}}(c,y,uh(pr(),l),h,p))}function Uy(s,a,l,c,h,p){const y=null===a;let v;for(;h>0;){const b=s[h],E=Array.isArray(b),D=E?b[1]:b,A=null===D;let I=l[h+1];I===it&&(I=A?ye:void 0);let P=A?qg(I,c):D===c?I:void 0;if(E&&!td(P)&&(P=qg(b,c)),td(P)&&(v=P,y))return v;const j=s[h+1];h=y?Oi(j):xi(j)}if(null!==a){let b=p?a.residualClasses:a.residualStyles;null!=b&&(v=qg(b,c))}return v}function td(s){return void 0!==s}function bt(s,a){return 0!=(s.flags&(a?16:32))}function sl(s,a=""){const l=me(),c=vt(),h=s+20,p=c.firstCreatePass?Fu(c,h,1,a,null):c.data[h],y=l[h]=function(s,a){return Jt(s)?s.createText(a):s.createTextNode(a)}(l[11],a);Jh(c,l,y,p),to(p,!1)}function zf(s,a,l){const c=me(),h=function(s,a,l,c){return Vn(s,gu(),l)?a+Ne(l)+c:it}(c,s,a,l);return h!==it&&Pi(c,pr(),h),zf}function xa(s,a,l){const c=me();return Vn(c,gu(),a)&&kr(vt(),en(),c,s,a,c[11],l,!0),xa}const Yo=void 0;var rd=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Fa={};function Qf(s){const a=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Jy(a);if(l)return l;const c=a.split("-")[0];if(l=Jy(c),l)return l;if("en"===c)return rd;throw new Error(`Missing locale data for the locale "${s}".`)}function Zy(s){return Qf(s)[$e.PluralCase]}function Jy(s){return s in Fa||(Fa[s]=O.ng&&O.ng.common&&O.ng.common.locales&&O.ng.common.locales[s]),Fa[s]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const Zf="en-US";let gE=Zf;function Jf(s){Ot(s,"Expected localeId to be defined"),"string"==typeof s&&(gE=s.toLowerCase().replace(/_/g,"-"))}function uv(s,a,l,c,h){if(s=ue(s),Array.isArray(s))for(let p=0;p<s.length;p++)uv(s[p],a,l,c,h);else{const p=vt(),y=me();let v=Ns(s)?s:ue(s.provide),b=ju(s);const E=_n(),D=1048575&E.providerIndexes,A=E.directiveStart,I=E.providerIndexes>>20;if(Ns(s)||!s.multi){const P=new ra(b,h,Aa),j=gl(v,a,h?D:D+I,A);-1===j?(fc(Ge(E,y),p,v),ip(p,s,a.length),a.push(v),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(P),y.push(P)):(l[j]=P,y[j]=P)}else{const P=gl(v,a,D+I,A),j=gl(v,a,D,D+I),J=P>=0&&l[P],G=j>=0&&l[j];if(h&&!G||!h&&!J){fc(Ge(E,y),p,v);const we=function(s,a,l,c,h){const p=new ra(s,l,Aa);return p.multi=[],p.index=a,p.componentProviders=0,Jo(p,h,c&&!l),p}(h?PE:iI,l.length,h,c,b);!h&&G&&(l[j].providerFactory=we),ip(p,s,a.length,0),a.push(v),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(we),y.push(we)}else ip(p,s,P>-1?P:j,Jo(l[h?j:P],b,!h&&c));!h&&c&&G&&l[j].componentProviders++}}}function ip(s,a,l,c){const h=Ns(a);if(h||function(s){return!!s.useClass}(a)){const y=(a.useClass||a).prototype.ngOnDestroy;if(y){const v=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const b=v.indexOf(l);-1===b?v.push(l,[c,y]):v[b+1].push(c,y)}else v.push(l,y)}}}function Jo(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function gl(s,a,l,c){for(let h=l;h<c;h++)if(a[h]===s)return h;return-1}function iI(s,a,l,c){return ad(this.multi,[])}function PE(s,a,l,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=yu(l,l[1],this.providerFactory.index,c);p=v.slice(0,y),ad(h,p);for(let b=y;b<v.length;b++)p.push(v[b])}else p=[],ad(h,p);return p}function ad(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function ml(s,a=[]){return l=>{l.providersResolver=(c,h)=>function(s,a,l){const c=vt();if(c.firstCreatePass){const h=Si(s);uv(l,c.data,c.blueprint,h,!0),uv(a,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,a)}}class sp{}const lv="ngComponent";class LE{resolveComponentFactory(a){throw function(s){const a=Error(`No component factory found for ${L(s)}. Did you add it to @NgModule.entryComponents?`);return a[lv]=s,a}(a)}}let yl=(()=>{class s{}return s.NULL=new LE,s})();function up(...s){}function vl(s,a){return new wr(Ii(s,a))}const _l=function(){return vl(_n(),me())};let wr=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=_l,s})();function ud(s){return s instanceof wr?s.nativeElement:s}class ld{}let uI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>cI(),s})();const cI=function(){const s=me(),l=qr(_n().index,s);return function(s){return s[11]}(Io(l)?l:s)};let dv=(()=>{class s{}return s.\u0275prov=mn({token:s,providedIn:"root",factory:()=>null}),s})();class jE{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const hv=new jE("12.2.16");class UE{constructor(){}supports(a){return ma(a)}create(a){return new hI(a)}}const dI=(s,a)=>a;class hI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||dI}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,c=this._removalsHead,h=0,p=null;for(;l||c;){const y=!c||l&&l.currentIndex<lp(c,h,p)?l:c,v=lp(y,h,p),b=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const E=v-h,D=b-h;if(E!=D){for(let I=0;I<E;I++){const P=I<p.length?p[I]:p[I]=0,j=P+I;D<=j&&j<E&&(p[I]=P+1)}p[y.previousIndex]=D-E}}v!==b&&a(y,v,b)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!ma(a))throw new Error(`Error trying to diff '${L(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,l=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let v=0;v<this.length;v++)p=a[v],y=this._trackByFn(v,p),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,p,y,v)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,v),c=!0),l=l._next}else h=0,function(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Lr()]();let c;for(;!(c=l.next()).done;)a(c.value)}}(a,v=>{y=this._trackByFn(h,v),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,v,y,h)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,y,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,c,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,p,h)):a=this._addAfter(new Jn(l,c),p,h),a}_verifyReinsertion(a,l,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,l,c),this._addToMoves(a,c),a}_moveAfter(a,l,c){return this._unlink(a),this._insertAfter(a,l,c),this._addToMoves(a,c),a}_addAfter(a,l,c){return this._insertAfter(a,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,c){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new fv),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,c=a._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fv),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Jn{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const l=a._prevDup,c=a._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class fv{constructor(){this.map=new Map}put(a){const l=a.trackById;let c=this.map.get(l);c||(c=new HE,this.map.set(l,c)),c.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lp(s,a,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+a+h}class pv{constructor(){}supports(a){return a instanceof Map||Gc(a)}create(){return new gv}}class gv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Gc(a)))throw new Error(`Error trying to diff '${L(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const c=a._prev;return l._next=a,l._prev=c,a._prev=l,c&&(c._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new GE(a);return this._records.set(a,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(c=>l(a[c],c))}}class GE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new bl([new UE])}let bl=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||$E()),deps:[[s,new Oo,new Ro]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=mn({token:s,providedIn:"root",factory:$E}),s})();function yv(){return new cp([new pv])}let cp=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||yv()),deps:[[s,new Oo,new Ro]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=mn({token:s,providedIn:"root",factory:yv}),s})();function cd(s,a,l,c,h=!1){for(;null!==l;){const p=a[l.index];if(null!==p&&c.push(Xt(p)),ln(p))for(let v=10;v<p.length;v++){const b=p[v],E=b[1].firstChild;null!==E&&cd(b[1],b,E,c)}const y=l.type;if(8&y)cd(s,a,l.child,c);else if(32&y){const v=um(l,a);let b;for(;b=v();)c.push(b)}else if(16&y){const v=ym(a,l);if(Array.isArray(v))c.push(...v);else{const b=Mu(a[16]);cd(b[1],b,v,c,!0)}}l=h?l.projectionNext:l.next}return c}class dd{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return cd(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ln(a)){const l=a[8],c=l?l.indexOf(this):-1;c>-1&&(fm(a,c),ys(l,c))}this._attachedToViewContainer=!1}I0(this._lView[1],this._lView)}onDestroy(a){uf(this._lView[1],this._lView,null,a)}markForCheck(){zm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Km(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,a,l){pu(!0);try{Km(s,a,l)}finally{pu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Ou(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class fI extends dd{constructor(a){super(a),this._view=a}detectChanges(){As(this._view)}checkNoChanges(){!function(s){pu(!0);try{As(s)}finally{pu(!1)}}(this._view)}get context(){return null}}const dp=function(s){return function(s,a,l){if(ih(s)&&!l){const c=qr(s.index,a);return new dd(c,c)}return 47&s.type?new dd(a[16],a):null}(_n(),me(),16==(16&s))};let hd=(()=>{class s{}return s.__NG_ELEMENT_ID__=dp,s})();const mI=[new pv],vI=new bl([new UE]),_I=new cp(mI),wl=function(){return El(_n(),me())};let Us=(()=>{class s{}return s.__NG_ELEMENT_ID__=wl,s})();const fd=Us,_v=class extends fd{constructor(a,l,c){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(a){const l=this._declarationTContainer.tViews,c=ha(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(l)),Pu(l,c,a),new dd(c)}};function El(s,a){return 4&s.type?new _v(a,s,vl(s,a)):null}class Xo{}class es{}const wI=function(){return YE(_n(),me())};let fp=(()=>{class s{}return s.__NG_ELEMENT_ID__=wI,s})();const KE=fp,ja=class extends KE{constructor(a,l,c){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=c}get element(){return vl(this._hostTNode,this._hostLView)}get injector(){return new pc(this._hostTNode,this._hostLView)}get parentInjector(){const a=Nr(this._hostTNode,this._hostLView);if(Ab(a)){const l=hc(a,this._hostLView),c=dc(a);return new pc(l[1].data[c+8],l)}return new pc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=bv(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,c){const h=a.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(a,l,c,h,p){const y=c||this.parentInjector;if(!p&&null==a.ngModule&&y){const b=y.get(Xo,null);b&&(p=b)}const v=a.create(y,h,void 0,p);return this.insert(v.hostView,l),v}insert(a,l){const c=a._lView,h=c[1];if(ln(c[3])){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const A=c[3],I=new ja(A,A[6],A[3]);I.detach(I.indexOf(a))}}const p=this._adjustIndex(l),y=this._lContainer;!function(s,a,l,c){const h=10+c,p=l.length;c>0&&(l[h-1][4]=a),c<p-10?(a[4]=l[h],bh(l,10+c,a)):(l.push(a),a[4]=null),a[3]=l;const y=a[17];null!==y&&l!==y&&function(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(y,a);const v=a[19];null!==v&&v.insertView(s),a[2]|=128}(h,c,y,p);const v=Mc(p,y),b=c[11],E=ko(b,y[7]);return null!==E&&function(s,a,l,c,h,p){c[0]=h,c[6]=a,Ou(s,c,l,1,h,p)}(h,y[6],b,c,E,v),a.attachToViewContainerRef(),bh(gp(y),p,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=bv(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),c=fm(this._lContainer,l);c&&(ys(gp(this._lContainer),l),I0(c[1],c))}detach(a){const l=this._adjustIndex(a,-1),c=fm(this._lContainer,l);return c&&null!=ys(gp(this._lContainer),l)?new dd(c):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function bv(s){return s[8]}function gp(s){return s[8]||(s[8]=[])}function YE(s,a){let l;const c=a[s.index];if(ln(c))l=c;else{let h;if(8&s.type)h=Xt(c);else{const p=a[11];h=p.createComment("");const y=Ii(s,a);dn(p,ko(p,y),h,function(s,a){return Jt(s)?s.nextSibling(a):a.nextSibling}(p,y),!1)}a[s.index]=l=qm(c,a,h,s),gf(a,l)}return new ja(l,s,a)}const Wa={};class CC extends yl{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=zn(a);return new IC(l,this.ngModule)}}function DC(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}const SC=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>E0});class IC extends sp{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=a.selectors.map(nA).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return DC(this.componentDef.inputs)}get outputs(){return DC(this.componentDef.outputs)}create(a,l,c,h){const p=(h=h||this.ngModule)?function(s,a){return{get:(l,c,h)=>{const p=s.get(l,Wa,h);return p!==Wa||c===Wa?p:a.get(l,c,h)}}}(a,h.injector):a,y=p.get(ld,db),v=p.get(dv,null),b=y.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",D=c?function(s,a,l){if(Jt(s))return s.selectRootElement(a,l===Yt.ShadowDom);let c="string"==typeof a?s.querySelector(a):a;return c.textContent="",c}(b,c,this.componentDef.encapsulation):Sc(y.createRenderer(null,this.componentDef),E,function(s){const a=s.toLowerCase();return"svg"===a?lb:"math"===a?"http://www.w3.org/1998/MathML/":null}(E)),A=this.componentDef.onPush?576:528,I=function(s,a){return{components:[],scheduler:s||E0,clean:cw,playerHandler:a||null,flags:0}}(),P=of(0,null,null,1,0,null,null,null,null,null),j=ha(null,P,I,A,null,null,y,b,v,p);let J,G;cc(j);try{const we=function(s,a,l,c,h,p){const y=l[1];l[20]=s;const b=Fu(y,20,2,"#host",null),E=b.mergedAttrs=a.hostAttrs;null!==E&&(Pc(b,E,!0),null!==s&&(mu(h,s,E),null!==b.classes&&vm(h,s,b.classes),null!==b.styles&&k0(h,s,b.styles)));const D=c.createRenderer(s,a),A=ha(l,Z0(a),null,a.onPush?64:16,l[20],b,c,D,p||null,null);return y.firstCreatePass&&(fc(Ge(b,l),y,a.type),iw(y,b),df(b,l.length,1)),gf(l,A),l[20]=A}(D,this.componentDef,j,y,b);if(D)if(c)mu(b,D,["ng-version",hv.full]);else{const{attrs:ce,classes:ke}=function(s){const a=[],l=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++c]):8===h&&l.push(p);else{if(!Ri(h))break;h=p}c++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);ce&&mu(b,D,ce),ke&&ke.length>0&&vm(b,D,ke.join(" "))}if(G=hu(P,20),void 0!==l){const ce=G.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const ze=l[ke];ce.push(null!=ze?Array.from(ze):null)}}J=function(s,a,l,c,h){const p=l[1],y=function(s,a,l){const c=_n();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),ow(s,c,a,Ss(s,a,1,null),l));const h=yu(a,s,c.directiveStart,c);ar(h,a);const p=Ii(c,a);return p&&ar(p,a),h}(p,l,a);if(c.components.push(y),s[8]=y,h&&h.forEach(b=>b(y,a)),a.contentQueries){const b=_n();a.contentQueries(1,y,b.directiveStart)}const v=_n();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(fs(v.index),Ln(l[1],v,0,v.directiveStart,v.directiveEnd,a),nw(a,y)),y}(we,this.componentDef,j,I,[jc]),Pu(P,j,null)}finally{Lg()}return new Fv(this.componentType,J,vl(G,j),j,G)}}class Fv extends class{}{constructor(a,l,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new fI(h),this.componentType=a}get injector(){return new pc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Rl=new Map;class OC extends Xo{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new CC(this);const c=Ir(a),h=a[rr]||null;h&&Jf(h),this._bootstrapComponents=lo(c.bootstrap),this._r3Injector=Ef(a,l,[{provide:Xo,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],L(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=Rt.THROW_IF_NOT_FOUND,c=He.Default){return a===Rt||a===Xo||a===Is?this:this._r3Injector.get(a,l,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class os extends es{constructor(a){super(),this.moduleType=a,null!==Ir(a)&&function(s){const a=new Set;!function l(c){const h=Ir(c,!0),p=h.id;null!==p&&(function(s,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${s} - ${L(a)} vs ${L(a.name)}`)}(p,Rl.get(p),c),Rl.set(p,c));const y=lo(h.imports);for(const v of y)a.has(v)||(a.add(v),l(v))}(s)}(a)}create(a){return new OC(this.moduleType,a)}}function Pv(s,a,l,c){return $s(me(),Mr(),s,a,l,c)}function Gs(s,a){const l=s[a];return l===it?void 0:l}function $s(s,a,l,c,h,p){const y=a+l;return Vn(s,y,h)?Kr(s,y+1,p?c.call(p,h):c(h)):Gs(s,y+1)}function vo(s,a,l,c,h,p,y){const v=a+l;return function(s,a,l,c){const h=Vn(s,a,l);return Vn(s,a+1,c)||h}(s,v,h,p)?Kr(s,v+2,y?c.call(y,h,p):c(h,p)):Gs(s,v+2)}function Bv(s,a){const l=vt();let c;const h=s+20;l.firstCreatePass?(c=function(s,a){if(a)for(let l=a.length-1;l>=0;l--){const c=a[l];if(s===c.name)return c}throw new De("302",`The pipe '${s}' could not be found!`)}(a,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const p=c.factory||(c.factory=ta(c.type)),y=So(Aa);try{const v=Ug(!1),b=p();return Ug(v),function(s,a,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=c}(l,me(),h,b),b}finally{So(y)}}function xl(s,a,l){const c=s+20,h=me(),p=sc(h,c);return Pl(h,Fl(h,c)?$s(h,Mr(),a,p.transform,l,p):p.transform(l))}function as(s,a,l,c){const h=s+20,p=me(),y=sc(p,h);return Pl(p,Fl(p,h)?vo(p,Mr(),a,y.transform,l,c,y):y.transform(l,c))}function Fl(s,a){return s[1].data[a].pure}function Pl(s,a){return Vi.isWrapped(a)&&(a=Vi.unwrap(a),s[rt.lFrame.bindingIndex]=it),a}function Op(s){return a=>{setTimeout(s,void 0,a)}}const zi=class extends m.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,c){var h,p,y;let v=a,b=l||(()=>null),E=c;if(a&&"object"==typeof a){const A=a;v=null===(h=A.next)||void 0===h?void 0:h.bind(A),b=null===(p=A.error)||void 0===p?void 0:p.bind(A),E=null===(y=A.complete)||void 0===y?void 0:y.bind(A)}this.__isAsync&&(b=Op(b),v&&(v=Op(v)),E&&(E=Op(E)));const D=super.subscribe({next:v,error:b,complete:E});return a instanceof re.w&&a.add(D),D}};function BC(){return this._results[Lr()]()}class kl{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Lr(),c=kl.prototype;c[l]||(c[l]=BC)}get changes(){return this._changes||(this._changes=new zi)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const c=this;c.dirty=!1;const h=fi(a);(this._changesDetected=!function(s,a,l){if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=a[c];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class _o{constructor(a){this.queryList=a,this.matches=null}clone(){return new _o(this.queryList)}setDirty(){this.queryList.setDirty()}}class us{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const c=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let p=0;p<c;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new us(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==dr(a,l).matches&&this.queries[l].setDirty()}}class jv{constructor(a,l,c=null){this.predicate=a,this.flags=l,this.read=c}}class Fp{constructor(a=[]){this.queries=a}elementStart(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,p=this.getByIndex(c).embeddedTView(a,h);p&&(p.indexInDeclarationView=c,null!==l?l.push(p):l=[p])}return null!==l?new Fp(l):null}template(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Pp{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Pp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(a,l,Cd(l,p)),this.matchTNodeWithReadOption(a,l,yh(l,a,p,!1,!1))}else c===Us?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,yh(l,a,c,!1,!1))}matchTNodeWithReadOption(a,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===wr||h===fp||h===Us&&4&l.type)this.addMatch(l.index,-2);else{const p=yh(l,a,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,c)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function Cd(s,a){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===a)return l[c+1];return null}function WI(s,a,l,c){return-1===l?function(s,a){return 11&s.type?vl(s,a):4&s.type?El(s,a):null}(a,s):-2===l?function(s,a,l){return l===wr?vl(a,s):l===Us?El(a,s):l===fp?YE(a,s):void 0}(s,a,c):yu(s,s[1],l,a)}function Hv(s,a,l,c){const h=a[19].queries[c];if(null===h.matches){const p=s.data,y=l.matches,v=[];for(let b=0;b<y.length;b+=2){const E=y[b];v.push(E<0?null:WI(a,p[E],y[b+1],l.metadata.read))}h.matches=v}return h.matches}function kp(s,a,l,c){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=Hv(s,a,h,l);for(let v=0;v<p.length;v+=2){const b=p[v];if(b>0)c.push(y[v/2]);else{const E=p[v+1],D=a[-b];for(let A=10;A<D.length;A++){const I=D[A];I[17]===I[3]&&kp(I[1],I,E,c)}if(null!==D[9]){const A=D[9];for(let I=0;I<A.length;I++){const P=A[I];kp(P[1],P,E,c)}}}}}return c}function UC(s){const a=me(),l=vt(),c=_b();bb(c+1);const h=dr(l,c);if(s.dirty&&hb(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?kp(l,a,c,[]):Hv(l,a,h,c);s.reset(p,ud),s.notifyOnChanges()}return!0}return!1}function Dd(s,a,l,c){const h=vt();if(h.firstCreatePass){const p=_n();(function(s,a,l){null===s.queries&&(s.queries=new Fp),s.queries.track(new Pp(a,l))})(h,new jv(a,l,c),p.index),function(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}!function(s,a,l){const c=new kl(4==(4&l));uf(s,a,c,c.destroy),null===a[19]&&(a[19]=new us),a[19].queries.push(new _o(c))}(h,me(),l)}function GC(){return s=me(),a=_b(),s[19].queries[a].queryList;var s,a}function dr(s,a){return s.queries.getByIndex(a)}function $v(s,a){return El(s,a)}const Hp=new jt("Application Initializer");let fn=(()=>{class s{constructor(l){this.appInits=l,this.resolve=up,this.reject=up,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Ia(p))l.push(p);else if(el(p)){const y=new Promise((v,b)=>{p.subscribe({complete:v,error:b})});l.push(y)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(bn(Hp,8))},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();const ls=new jt("AppId"),vM={provide:ls,useFactory:function(){return`${Gp()}${Gp()}${Gp()}`},deps:[]};function Gp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const r_=new jt("Platform Initializer"),i_=new jt("Platform ID"),o_=new jt("appBootstrapListener");let s_=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();const Md=new jt("LocaleId"),a_=new jt("DefaultCurrencyCode");class dD{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}const qp=function(s){return new os(s)},u_=qp,fD=function(s){return Promise.resolve(qp(s))},Nd=function(s){const a=qp(s),c=lo(Ir(s).declarations).reduce((h,p)=>{const y=zn(p);return y&&h.push(new IC(y)),h},[]);return new dD(a,c)},gD=Nd,Er=function(s){return Promise.resolve(Nd(s))};let Ci=(()=>{class s{constructor(){this.compileModuleSync=u_,this.compileModuleAsync=fD,this.compileModuleAndAllComponentsSync=gD,this.compileModuleAndAllComponentsAsync=Er}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();const RR=(()=>Promise.resolve(0))();function zp(s){"undefined"==typeof Zone?RR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Cr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zi(!1),this.onMicrotaskEmpty=new zi(!1),this.onStable=new zi(!1),this.onError=new zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=O.requestAnimationFrame,a=O.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(s){const a=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(O,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,vD(s),s.isCheckStableRunning=!0,l_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),vD(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,p,y,v)=>{try{return MM(s),l.invokeTask(h,p,y,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),NM(s)}},onInvoke:(l,c,h,p,y,v,b)=>{try{return MM(s),l.invoke(h,p,y,v,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),NM(s)}},onHasTask:(l,c,h,p)=>{l.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,vD(s),l_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,c,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,c){return this._inner.run(a,l,c)}runTask(a,l,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,Wp,up,up);try{return p.runTask(y,l,c)}finally{p.cancelTask(y)}}runGuarded(a,l,c){return this._inner.runGuarded(a,l,c)}runOutsideAngular(a){return this._outer.run(a)}}const Wp={};function l_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function vD(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function MM(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function NM(s){s._nesting--,l_(s)}class OR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zi,this.onMicrotaskEmpty=new zi,this.onStable=new zi,this.onError=new zi}run(a,l,c){return a.apply(l,c)}runGuarded(a,l,c){return a.apply(l,c)}runOutsideAngular(a){return a()}runTask(a,l,c,h){return a.apply(l,c)}}let RM=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zp(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(bn(Cr))},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})(),OM=(()=>{class s{constructor(){this._applications=new Map,eu.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return eu.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();class xM{addToWindow(a){}findTestabilityInTree(a,l,c){return null}}function Kp(s){eu=s}let eu=new xM,Rd=!0,Od=!1;function d_(){return Od=!0,Rd}function h_(){if(Od)throw new Error("Cannot enable prod mode after platform setup.");Rd=!1}let Ur;const wD=new jt("AllowMultipleToken");class ED{constructor(a,l){this.name=a,this.token=l}}function xd(s,a,l=[]){const c=`Platform: ${a}`,h=new jt(c);return(p=[])=>{let y=Fd();if(!y||y.injector.get(wD,!1))if(s)s(l.concat(p).concat({provide:h,useValue:!0}));else{const v=l.concat(p).concat({provide:h,useValue:!0},{provide:Ms,useValue:"platform"});!function(s){if(Ur&&!Ur.destroyed&&!Ur.injector.get(wD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ur=s.get(tu);const a=s.get(r_,null);a&&a.forEach(l=>l())}(Rt.create({providers:v,name:c}))}return function(s){const a=Fd();if(!a)throw new Error("No platform exists!");if(!a.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function Fd(){return Ur&&!Ur.destroyed?Ur:null}let tu=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const v=function(s,a){let l;return l="noop"===s?new OR:("zone.js"===s?void 0:s)||new Cr({enableLongStackTrace:d_(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:Cr,useValue:v}];return v.run(()=>{const E=Rt.create({providers:b,parent:this.injector,name:l.moduleType.name}),D=l.create(E),A=D.injector.get(Au,null);if(!A)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const I=v.onError.subscribe({next:P=>{A.handleError(P)}});D.onDestroy(()=>{kd(this._modules,D),I.unsubscribe()})}),function(s,a,l){try{const c=l();return Ia(c)?c.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>s.handleError(c)),c}}(A,v,()=>{const I=D.injector.get(fn);return I.runInitializers(),I.donePromise.then(()=>(Jf(D.injector.get(Md,Zf)||Zf),this._moduleDoBootstrap(D),D))})})}bootstrapModule(l,c=[]){const h=Qp({},c);return function(s,a,l){const c=new os(l);return Promise.resolve(c)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const c=l.injector.get(Vl);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${L(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(bn(Rt))},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();function Qp(s,a){return Array.isArray(a)?a.reduce(Qp,s):Object.assign(Object.assign({},s),a)}let Vl=(()=>{class s{constructor(l,c,h,p,y){this._zone=l,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ge.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new ge.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(v,b.pipe(s=>(0,de.x)()(function(s,a){return function(c){let h;h="function"==typeof s?s:function(){return s};const p=Object.create(c,ae.N);return p.source=c,p.subjectFactory=h,p}}(z)(s))))}bootstrap(l,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=l instanceof sp?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const p=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Xo),v=h.create(Rt.NULL,[],c||h.selector,p),b=v.location.nativeElement,E=v.injector.get(RM,null),D=E&&v.injector.get(OM);return E&&D&&D.registerApplication(b,E),v.onDestroy(()=>{this.detachView(v.hostView),kd(this.components,v),D&&D.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;kd(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(o_,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(bn(Cr),bn(Rt),bn(Au),bn(yl),bn(fn))},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();function kd(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}class y_{}class __{}const DD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let BR=(()=>{class s{constructor(l,c){this._compiler=l,this._config=c||DD}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[c,h]=l.split("#");return void 0===h&&(h="default"),F(8255)(c).then(p=>p[h]).then(p=>VM(p,c,h)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(l){let[c,h]=l.split("#"),p="NgFactory";return void 0===h&&(h="default",p=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(y=>y[h+p]).then(y=>VM(y,c,h))}}return s.\u0275fac=function(l){return new(l||s)(bn(Ci),bn(__,8))},s.\u0275prov=mn({token:s,factory:s.\u0275fac}),s})();function VM(s,a,l){if(!s)throw new Error(`Cannot find '${l}' in '${a}'`);return s}const GM=function(s){return null},zM=xd(null,"core",[{provide:i_,useValue:"unknown"},{provide:tu,deps:[Rt]},{provide:OM,deps:[]},{provide:s_,deps:[]}]),GR=[{provide:Vl,useClass:Vl,deps:[Cr,Rt,Au,yl,fn]},{provide:SC,deps:[Cr],useFactory:function(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(l){a.push(l)}}},{provide:fn,useClass:fn,deps:[[new Ro,Hp]]},{provide:Ci,useClass:Ci,deps:[]},vM,{provide:bl,useFactory:function(){return vI},deps:[]},{provide:cp,useFactory:function(){return _I},deps:[]},{provide:Md,useFactory:function(s){return Jf(s=s||"undefined"!=typeof $localize&&$localize.locale||Zf),s},deps:[[new mr(Md),new Ro,new Oo]]},{provide:a_,useValue:"USD"}];let YM=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(bn(Vl))},s.\u0275mod=th({type:s}),s.\u0275inj=cs({providers:GR}),s})()},57:(Ue,ve,F)=>{"use strict";F.d(ve,{hO:()=>si,xv:()=>ue,Dh:()=>se,HU:()=>V,GT:()=>le,sI:()=>Pt,on:()=>De,ss:()=>U,pX:()=>H,yq:()=>Ye});var m=F(7771),re=F(3637),ge=F(3342),oe=F(3101),ae=F(309),ee=F(3018),fe=F(2329);function de(){}Ue=F.hmd(Ue);class z{constructor(te,K=m.N){this.zone=te,this.delegate=K}now(){return this.delegate.now()}schedule(te,K,Z){const be=this.zone;return this.delegate.schedule(function(Pe){be.runGuarded(()=>{te.apply(this,[Pe])})},K,Z)}}class x{constructor(te){this.zone=te,this.task=null}call(te,K){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",de,{},de,de)),K.pipe((0,ge.b)({next:Z,complete:Z,error:Z})).subscribe(te).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class V{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new z(Zone.current)),this.insideAngular=te.run(()=>new z(Zone.current,re.z))}}function U(Q){return function(K){return(K=K.lift(new x(Q.ngZone))).pipe((0,oe.R)(Q.outsideAngular),(0,ae.QV)(Q.insideAngular))}}const L=["ngOnDestroy"],H=(Q,te,K,Z={})=>new Proxy(Q,{get:(be,X)=>K.runOutsideAngular(()=>{var Pe;if(Q[X])return(null===(Pe=null==Z?void 0:Z.spy)||void 0===Pe?void 0:Pe.get)&&Z.spy.get(X,Q[X]),Q[X];if(L.indexOf(X)>-1)return()=>{};const Je=te.toPromise().then(Wt=>{const Be=Wt&&Wt[X];return"function"==typeof Be?Be.bind(Wt):Be&&Be.then?Be.then(Kt=>K.run(()=>Kt)):K.run(()=>Be)});return new Proxy(()=>{},{get:(Wt,Be)=>Je[Be],apply:(Wt,Be,Kt)=>Je.then(Qe=>{var Re;const ut=Qe&&Qe(...Kt);return(null===(Re=null==Z?void 0:Z.spy)||void 0===Re?void 0:Re.apply)&&Z.spy.apply(X,Kt,ut),ut})})})}),le=(Q,te)=>{te.forEach(K=>{Object.getOwnPropertyNames(K.prototype||K).forEach(Z=>{Object.defineProperty(Q.prototype,Z,Object.getOwnPropertyDescriptor(K.prototype||K,Z))})})},se=new ee.OlP("angularfire2.app.options"),ue=new ee.OlP("angularfire2.app.nameOrConfig"),Ae=new ee.GfV("6.1.5");function De(Q,te,K){const be="object"==typeof K&&K||{};be.name=be.name||"string"==typeof K&&K||"[DEFAULT]";const Pe=fe.Z.apps.filter(Je=>Je&&Je.name===be.name)[0]||te.runOutsideAngular(()=>fe.Z.initializeApp(Q,be));try{JSON.stringify(Q)!==JSON.stringify(Pe.options)&&Oe("error",`${Pe.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Je){}return Pe}const Ye=()=>{Oe("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Oe=(Q,...te)=>{(0,ee.X6Q)()&&"undefined"!=typeof console&&console[Q](...te)};function Pt(Q,te,K,Z,be){const[X,...Pe]=globalThis.\u0275AngularfireInstanceCache.get(Q)||[];if(X){try{be.some((Je,Wt)=>{const Be=Pe[Wt];return Je&&"object"==typeof Je?JSON.stringify(Je)!==JSON.stringify(Be):Je!==Be})&&Oe("error",`${te} was already initialized on the ${K.name} Firebase App instance with different settings.${Ue.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Je){}return X}{const Je=Z();return globalThis.\u0275AngularfireInstanceCache.set(Q,[Je,...be]),Je}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Vt={provide:class{},useFactory:De,deps:[se,ee.R0b,[new ee.FiY,ue]]};let si=(()=>{class Q{constructor(K){fe.Z.registerVersion("angularfire",Ae.full,K.toString()),fe.Z.registerVersion("angular",ee.q4F.full)}static initializeApp(K,Z){return{ngModule:Q,providers:[{provide:se,useValue:K},{provide:ue,useValue:Z}]}}}return Q.\u0275fac=function(K){return new(K||Q)(ee.LFG(ee.Lbi))},Q.\u0275mod=ee.oAB({type:Q}),Q.\u0275inj=ee.cJS({providers:[Vt]}),Q})()},9759:(Ue,ve,F)=>{"use strict";F.d(ve,{Z:()=>Kt});var ae,Oe,m=F(4762),re=F(4685),ge=F(6034),oe=F(300),ee=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),fe=new re.LL("app","Firebase",ee),de="@firebase/app",Ne="[DEFAULT]",Pt=((Oe={})[de]="fire-core",Oe["@firebase/analytics"]="fire-analytics",Oe["@firebase/app-check"]="fire-app-check",Oe["@firebase/auth"]="fire-auth",Oe["@firebase/database"]="fire-rtdb",Oe["@firebase/functions"]="fire-fn",Oe["@firebase/installations"]="fire-iid",Oe["@firebase/messaging"]="fire-fcm",Oe["@firebase/performance"]="fire-perf",Oe["@firebase/remote-config"]="fire-rc",Oe["@firebase/storage"]="fire-gcs",Oe["@firebase/firestore"]="fire-fst",Oe["fire-js"]="fire-js",Oe["firebase-wrapper"]="fire-js-all",Oe),Vt=new oe.Yd("@firebase/app"),si=function(){function Qe(Re,ut,Lt){var Ot=this;this.firebase_=Lt,this.isDeleted_=!1,this.name_=ut.name,this.automaticDataCollectionEnabled_=ut.automaticDataCollectionEnabled||!1,this.options_=(0,re.p$)(Re),this.container=new ge.H0(ut.name),this._addComponent(new ge.wA("app",function(){return Ot},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(yt){return Ot._addComponent(yt)})}return Object.defineProperty(Qe.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Re){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Re},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Qe.prototype.delete=function(){var Re=this;return new Promise(function(ut){Re.checkDestroyed_(),ut()}).then(function(){return Re.firebase_.INTERNAL.removeApp(Re.name_),Promise.all(Re.container.getProviders().map(function(ut){return ut.delete()}))}).then(function(){Re.isDeleted_=!0})},Qe.prototype._getService=function(Re,ut){var Lt;void 0===ut&&(ut=Ne),this.checkDestroyed_();var Ot=this.container.getProvider(Re);return!Ot.isInitialized()&&"EXPLICIT"===(null===(Lt=Ot.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:ut})},Qe.prototype._removeServiceInstance=function(Re,ut){void 0===ut&&(ut=Ne),this.container.getProvider(Re).clearInstance(ut)},Qe.prototype._addComponent=function(Re){try{this.container.addComponent(Re)}catch(ut){Vt.debug("Component "+Re.name+" failed to register with FirebaseApp "+this.name,ut)}},Qe.prototype._addOrOverwriteComponent=function(Re){this.container.addOrOverwriteComponent(Re)},Qe.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Qe.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fe.create("app-deleted",{appName:this.name_})},Qe}();si.prototype.name&&si.prototype.options||si.prototype.delete||console.log("dc");var Z=function K(){var Qe=function(Qe){var Re={},ut=new Map,Lt={__esModule:!0,initializeApp:function(ct,wt){void 0===wt&&(wt={}),("object"!=typeof wt||null===wt)&&(wt={name:wt});var tr=wt;void 0===tr.name&&(tr.name=Ne);var yn=tr.name;if("string"!=typeof yn||!yn)throw fe.create("bad-app-name",{appName:String(yn)});if((0,re.r3)(Re,yn))throw fe.create("duplicate-app",{appName:yn});var Bt=new Qe(ct,tr,Lt);return Re[yn]=Bt,Bt},app:yt,registerVersion:function(ct,wt,ai){var tr,yn=null!==(tr=Pt[ct])&&void 0!==tr?tr:ct;ai&&(yn+="-"+ai);var Bt=yn.match(/\s|\//),Nn=wt.match(/\s|\//);if(Bt||Nn){var nr=['Unable to register library "'+yn+'" with version "'+wt+'":'];return Bt&&nr.push('library name "'+yn+'" contains illegal characters (whitespace or "/")'),Bt&&Nn&&nr.push("and"),Nn&&nr.push('version name "'+wt+'" contains illegal characters (whitespace or "/")'),void Vt.warn(nr.join(" "))}pg(new ge.wA(yn+"-version",function(){return{library:yn,version:wt}},"VERSION"))},setLogLevel:oe.Ub,onLog:function(ct,wt){if(null!==ct&&"function"!=typeof ct)throw fe.create("invalid-log-argument");(0,oe.Am)(ct,wt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:pg,removeApp:function(ct){delete Re[ct]},components:ut,useAsService:function(ct,wt){return"serverAuth"===wt?null:wt}}};function yt(ct){if(!(0,re.r3)(Re,ct=ct||Ne))throw fe.create("no-app",{appName:ct});return Re[ct]}function pg(ct){var wt=ct.name;if(ut.has(wt))return Vt.debug("There were multiple attempts to register component "+wt+"."),"PUBLIC"===ct.type?Lt[wt]:null;if(ut.set(wt,ct),"PUBLIC"===ct.type){var ai=function(Nn){if(void 0===Nn&&(Nn=yt()),"function"!=typeof Nn[wt])throw fe.create("invalid-app-argument",{appName:wt});return Nn[wt]()};void 0!==ct.serviceProps&&(0,re.ZB)(ai,ct.serviceProps),Lt[wt]=ai,Qe.prototype[wt]=function(){for(var Nn=[],nr=0;nr<arguments.length;nr++)Nn[nr]=arguments[nr];return this._getService.bind(this,wt).apply(this,ct.multipleInstances?Nn:[])}}for(var tr=0,yn=Object.keys(Re);tr<yn.length;tr++)Re[yn[tr]]._addComponent(ct);return"PUBLIC"===ct.type?Lt[wt]:null}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function(){return Object.keys(Re).map(function(ct){return Re[ct]})}}),yt.App=Qe,Lt}(si);return Qe.INTERNAL=(0,m.pi)((0,m.pi)({},Qe.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(ut){(0,re.ZB)(Qe,ut)},createSubscribe:re.ne,ErrorFactory:re.LL,deepExtend:re.ZB}),Qe}(),be=function(){function Qe(Re){this.container=Re}return Qe.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ut){if(function(Qe){var Re=Qe.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(ut)){var Lt=ut.getImmediate();return Lt.library+"/"+Lt.version}return null}).filter(function(ut){return ut}).join(" ")},Qe}();if((0,re.jU)()&&void 0!==self.firebase){Vt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&Vt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Wt=Z.initializeApp;Z.initializeApp=function(){for(var Qe=[],Re=0;Re<arguments.length;Re++)Qe[Re]=arguments[Re];return(0,re.UG)()&&Vt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Wt.apply(void 0,Qe)};var Qe,Be=Z;(Qe=Be).INTERNAL.registerComponent(new ge.wA("platform-logger",function(ut){return new be(ut)},"PRIVATE")),Qe.registerVersion(de,"0.6.30",undefined),Qe.registerVersion("fire-js","");const Kt=Be},6034:(Ue,ve,F)=>{"use strict";F.d(ve,{wA:()=>ge,H0:()=>de});var m=F(4762),re=F(4685),ge=function(){function z(x,V,U){this.name=x,this.instanceFactory=V,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(x){return this.instantiationMode=x,this},z.prototype.setMultipleInstances=function(x){return this.multipleInstances=x,this},z.prototype.setServiceProps=function(x){return this.serviceProps=x,this},z.prototype.setInstanceCreatedCallback=function(x){return this.onInstanceCreated=x,this},z}(),oe="[DEFAULT]",ae=function(){function z(x,V){this.name=x,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(x){var V=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(V)){var U=new re.BH;if(this.instancesDeferred.set(V,U),this.isInitialized(V)||this.shouldAutoInitialize())try{var L=this.getOrInitializeService({instanceIdentifier:V});L&&U.resolve(L)}catch(H){}}return this.instancesDeferred.get(V).promise},z.prototype.getImmediate=function(x){var V,U=this.normalizeInstanceIdentifier(null==x?void 0:x.identifier),L=null!==(V=null==x?void 0:x.optional)&&void 0!==V&&V;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(L)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(H){if(L)return null;throw H}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(x){var V,U;if(x.name!==this.name)throw Error("Mismatching Component "+x.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=x,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(De){}try{for(var L=(0,m.XA)(this.instancesDeferred.entries()),H=L.next();!H.done;H=L.next()){var le=(0,m.CR)(H.value,2),ue=le[1],qe=this.normalizeInstanceIdentifier(le[0]);try{var Ae=this.getOrInitializeService({instanceIdentifier:qe});ue.resolve(Ae)}catch(De){}}}catch(De){V={error:De}}finally{try{H&&!H.done&&(U=L.return)&&U.call(L)}finally{if(V)throw V.error}}}},z.prototype.clearInstance=function(x){void 0===x&&(x=oe),this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)},z.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var x;return(0,m.Jh)(this,function(V){switch(V.label){case 0:return x=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(x.filter(function(U){return"INTERNAL"in U}).map(function(U){return U.INTERNAL.delete()}))),(0,m.CR)(x.filter(function(U){return"_delete"in U}).map(function(U){return U._delete()}))))];case 1:return V.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(x){return void 0===x&&(x=oe),this.instances.has(x)},z.prototype.getOptions=function(x){return void 0===x&&(x=oe),this.instancesOptions.get(x)||{}},z.prototype.initialize=function(x){var V,U;void 0===x&&(x={});var L=x.options,H=void 0===L?{}:L,le=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(le))throw Error(this.name+"("+le+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var se=this.getOrInitializeService({instanceIdentifier:le,options:H});try{for(var ue=(0,m.XA)(this.instancesDeferred.entries()),qe=ue.next();!qe.done;qe=ue.next()){var Ae=(0,m.CR)(qe.value,2),Ye=Ae[1];le===this.normalizeInstanceIdentifier(Ae[0])&&Ye.resolve(se)}}catch(Ne){V={error:Ne}}finally{try{qe&&!qe.done&&(U=ue.return)&&U.call(ue)}finally{if(V)throw V.error}}return se},z.prototype.onInit=function(x,V){var U,L=this.normalizeInstanceIdentifier(V),H=null!==(U=this.onInitCallbacks.get(L))&&void 0!==U?U:new Set;H.add(x),this.onInitCallbacks.set(L,H);var le=this.instances.get(L);return le&&x(le,L),function(){H.delete(x)}},z.prototype.invokeOnInitCallbacks=function(x,V){var U,L,H=this.onInitCallbacks.get(V);if(H)try{for(var le=(0,m.XA)(H),se=le.next();!se.done;se=le.next()){var ue=se.value;try{ue(x,V)}catch(qe){}}}catch(qe){U={error:qe}}finally{try{se&&!se.done&&(L=le.return)&&L.call(le)}finally{if(U)throw U.error}}},z.prototype.getOrInitializeService=function(x){var V=x.instanceIdentifier,U=x.options,L=void 0===U?{}:U,H=this.instances.get(V);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:ee(V),options:L}),this.instances.set(V,H),this.instancesOptions.set(V,L),this.invokeOnInitCallbacks(H,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,H)}catch(le){}return H||null},z.prototype.normalizeInstanceIdentifier=function(x){return void 0===x&&(x=oe),this.component?this.component.multipleInstances?x:oe:x},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function ee(z){return z===oe?void 0:z}var de=function(){function z(x){this.name=x,this.providers=new Map}return z.prototype.addComponent=function(x){var V=this.getProvider(x.name);if(V.isComponentSet())throw new Error("Component "+x.name+" has already been registered with "+this.name);V.setComponent(x)},z.prototype.addOrOverwriteComponent=function(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)},z.prototype.getProvider=function(x){if(this.providers.has(x))return this.providers.get(x);var V=new ae(x,this);return this.providers.set(x,V),V},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(Ue,ve,F)=>{"use strict";function m(){for(var U=0,L=0,H=arguments.length;L<H;L++)U+=arguments[L].length;var le=Array(U),se=0;for(L=0;L<H;L++)for(var ue=arguments[L],qe=0,Ae=ue.length;qe<Ae;qe++,se++)le[se]=ue[qe];return le}F.d(ve,{in:()=>oe,Yd:()=>z,Ub:()=>x,Am:()=>V});var re,ge=[],oe=(()=>{return(U=oe||(oe={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",oe;var U})(),ae={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},ee=oe.INFO,fe=((re={})[oe.DEBUG]="log",re[oe.VERBOSE]="log",re[oe.INFO]="info",re[oe.WARN]="warn",re[oe.ERROR]="error",re),de=function(U,L){for(var H=[],le=2;le<arguments.length;le++)H[le-2]=arguments[le];if(!(L<U.logLevel)){var se=(new Date).toISOString(),ue=fe[L];if(!ue)throw new Error("Attempted to log a message with an invalid logType (value: "+L+")");console[ue].apply(console,m(["["+se+"]  "+U.name+":"],H))}},z=function(){function U(L){this.name=L,this._logLevel=ee,this._logHandler=de,this._userLogHandler=null,ge.push(this)}return Object.defineProperty(U.prototype,"logLevel",{get:function(){return this._logLevel},set:function(L){if(!(L in oe))throw new TypeError('Invalid value "'+L+'" assigned to `logLevel`');this._logLevel=L},enumerable:!1,configurable:!0}),U.prototype.setLogLevel=function(L){this._logLevel="string"==typeof L?ae[L]:L},Object.defineProperty(U.prototype,"logHandler",{get:function(){return this._logHandler},set:function(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(L){this._userLogHandler=L},enumerable:!1,configurable:!0}),U.prototype.debug=function(){for(var L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.DEBUG],L)),this._logHandler.apply(this,m([this,oe.DEBUG],L))},U.prototype.log=function(){for(var L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.VERBOSE],L)),this._logHandler.apply(this,m([this,oe.VERBOSE],L))},U.prototype.info=function(){for(var L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.INFO],L)),this._logHandler.apply(this,m([this,oe.INFO],L))},U.prototype.warn=function(){for(var L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.WARN],L)),this._logHandler.apply(this,m([this,oe.WARN],L))},U.prototype.error=function(){for(var L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.ERROR],L)),this._logHandler.apply(this,m([this,oe.ERROR],L))},U}();function x(U){ge.forEach(function(L){L.setLogLevel(U)})}function V(U,L){for(var H=function(qe){var Ae=null;L&&L.level&&(Ae=ae[L.level]),qe.userLogHandler=null===U?null:function(De,Ye){for(var Oe=[],Ne=2;Ne<arguments.length;Ne++)Oe[Ne-2]=arguments[Ne];var Pt=Oe.map(function(Vt){if(null==Vt)return null;if("string"==typeof Vt)return Vt;if("number"==typeof Vt||"boolean"==typeof Vt)return Vt.toString();if(Vt instanceof Error)return Vt.message;try{return JSON.stringify(Vt)}catch(si){return null}}).filter(function(Vt){return Vt}).join(" ");Ye>=(null!=Ae?Ae:De.logLevel)&&U({level:oe[Ye].toLowerCase(),message:Pt,args:Oe,type:De.name})}},le=0,se=ge;le<se.length;le++)H(se[le])}},4685:(Ue,ve,F)=>{"use strict";F.d(ve,{BH:()=>H,LL:()=>Pe,r3:()=>yt,Sg:()=>le,ne:()=>tr,p$:()=>V,ZB:()=>U,m9:()=>Qt,z$:()=>se,jU:()=>Ae,ru:()=>De,d:()=>Oe,w1:()=>Ne,uI:()=>ue,UG:()=>qe,b$:()=>Ye,G6:()=>si,Mn:()=>Pt});var m=F(4762),ae=function(B){for(var O=[],W=0,ie=0;ie<B.length;ie++){var q=B.charCodeAt(ie);q<128?O[W++]=q:q<2048?(O[W++]=q>>6|192,O[W++]=63&q|128):55296==(64512&q)&&ie+1<B.length&&56320==(64512&B.charCodeAt(ie+1))?(q=65536+((1023&q)<<10)+(1023&B.charCodeAt(++ie)),O[W++]=q>>18|240,O[W++]=q>>12&63|128,O[W++]=q>>6&63|128,O[W++]=63&q|128):(O[W++]=q>>12|224,O[W++]=q>>6&63|128,O[W++]=63&q|128)}return O},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(B,O){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var W=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[],q=0;q<B.length;q+=3){var ye=B[q],Ke=q+1<B.length,Et=Ke?B[q+1]:0,At=q+2<B.length,Dt=At?B[q+2]:0,qn=(15&Et)<<2|Dt>>6,au=63&Dt;At||(au=64,Ke||(qn=64)),ie.push(W[ye>>2],W[(3&ye)<<4|Et>>4],W[qn],W[au])}return ie.join("")},encodeString:function(B,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(B):this.encodeByteArray(ae(B),O)},decodeString:function(B,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(B):function(B){for(var O=[],W=0,ie=0;W<B.length;){var q=B[W++];if(q<128)O[ie++]=String.fromCharCode(q);else if(q>191&&q<224){var ye=B[W++];O[ie++]=String.fromCharCode((31&q)<<6|63&ye)}else if(q>239&&q<365){var At=((7&q)<<18|(63&(ye=B[W++]))<<12|(63&(Ke=B[W++]))<<6|63&B[W++])-65536;O[ie++]=String.fromCharCode(55296+(At>>10)),O[ie++]=String.fromCharCode(56320+(1023&At))}else{ye=B[W++];var Ke=B[W++];O[ie++]=String.fromCharCode((15&q)<<12|(63&ye)<<6|63&Ke)}}return O.join("")}(this.decodeStringToByteArray(B,O))},decodeStringToByteArray:function(B,O){this.init_();for(var W=O?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[],q=0;q<B.length;){var ye=W[B.charAt(q++)],Et=q<B.length?W[B.charAt(q)]:0,Dt=++q<B.length?W[B.charAt(q)]:64,un=++q<B.length?W[B.charAt(q)]:64;if(++q,null==ye||null==Et||null==Dt||null==un)throw Error();ie.push(ye<<2|Et>>4),64!==Dt&&(ie.push(Et<<4&240|Dt>>2),64!==un&&ie.push(Dt<<6&192|un))}return ie},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},z=function(B){return function(B){var O=ae(B);return fe.encodeByteArray(O,!0)}(B).replace(/\./g,"")};function V(B){return U(void 0,B)}function U(B,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return O}for(var ie in O)!O.hasOwnProperty(ie)||!L(ie)||(B[ie]=U(B[ie],O[ie]));return B}function L(B){return"__proto__"!==B}var H=function(){function B(){var O=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(W,ie){O.resolve=W,O.reject=ie})}return B.prototype.wrapCallback=function(O){var W=this;return function(ie,q){ie?W.reject(ie):W.resolve(q),"function"==typeof O&&(W.promise.catch(function(){}),1===O.length?O(ie):O(ie,q))}},B}();function le(B,O){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ie=O||"demo-project",q=B.iat||0,ye=B.sub||B.user_id;if(!ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ke=(0,m.pi)({iss:"https://securetoken.google.com/"+ie,aud:ie,iat:q,exp:q+3600,auth_time:q,sub:ye,user_id:ye,firebase:{sign_in_provider:"custom",identities:{}}},B);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Ke)),""].join(".")}function se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function De(){var B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return se().indexOf("Electron/")>=0}function Ne(){var B=se();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Pt(){return se().indexOf("MSAppHost/")>=0}function si(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var X=function(B){function O(W,ie,q){var ye=B.call(this,ie)||this;return ye.code=W,ye.customData=q,ye.name="FirebaseError",Object.setPrototypeOf(ye,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(ye,Pe.prototype.create),ye}return(0,m.ZT)(O,B),O}(Error),Pe=function(){function B(O,W,ie){this.service=O,this.serviceName=W,this.errors=ie}return B.prototype.create=function(O){for(var W=[],ie=1;ie<arguments.length;ie++)W[ie-1]=arguments[ie];var q=W[0]||{},ye=this.service+"/"+O,Ke=this.errors[O],Et=Ke?Je(Ke,q):"Error",At=this.serviceName+": "+Et+" ("+ye+").",Dt=new X(ye,At,q);return Dt},B}();function Je(B,O){return B.replace(Wt,function(W,ie){var q=O[ie];return null!=q?String(q):"<"+ie+"?>"})}var Wt=/\{\$([^}]+)}/g;function yt(B,O){return Object.prototype.hasOwnProperty.call(B,O)}function tr(B,O){var W=new yn(B,O);return W.subscribe.bind(W)}!function(){function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}B.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(O,W){W||(W=0);var ie=this.W_;if("string"==typeof O)for(var q=0;q<16;q++)ie[q]=O.charCodeAt(W)<<24|O.charCodeAt(W+1)<<16|O.charCodeAt(W+2)<<8|O.charCodeAt(W+3),W+=4;else for(q=0;q<16;q++)ie[q]=O[W]<<24|O[W+1]<<16|O[W+2]<<8|O[W+3],W+=4;for(q=16;q<80;q++)ie[q]=4294967295&((ye=ie[q-3]^ie[q-8]^ie[q-14]^ie[q-16])<<1|ye>>>31);var un,qn,Ke=this.chain_[0],Et=this.chain_[1],At=this.chain_[2],Dt=this.chain_[3],rr=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(un=Dt^Et&(At^Dt),qn=1518500249):(un=Et^At^Dt,qn=1859775393):q<60?(un=Et&At|Dt&(Et|At),qn=2400959708):(un=Et^At^Dt,qn=3395469782);var ye=(Ke<<5|Ke>>>27)+un+rr+qn+ie[q]&4294967295;rr=Dt,Dt=At,At=4294967295&(Et<<30|Et>>>2),Et=Ke,Ke=ye}this.chain_[0]=this.chain_[0]+Ke&4294967295,this.chain_[1]=this.chain_[1]+Et&4294967295,this.chain_[2]=this.chain_[2]+At&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+rr&4294967295},B.prototype.update=function(O,W){if(null!=O){void 0===W&&(W=O.length);for(var ie=W-this.blockSize,q=0,ye=this.buf_,Ke=this.inbuf_;q<W;){if(0===Ke)for(;q<=ie;)this.compress_(O,q),q+=this.blockSize;if("string"==typeof O){for(;q<W;)if(ye[Ke]=O.charCodeAt(q),++q,++Ke===this.blockSize){this.compress_(ye),Ke=0;break}}else for(;q<W;)if(ye[Ke]=O[q],++q,++Ke===this.blockSize){this.compress_(ye),Ke=0;break}}this.inbuf_=Ke,this.total_+=W}},B.prototype.digest=function(){var O=[],W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&W,W/=256;this.compress_(this.buf_);var q=0;for(ie=0;ie<5;ie++)for(var ye=24;ye>=0;ye-=8)O[q]=this.chain_[ie]>>ye&255,++q;return O}}();var yn=function(){function B(O,W){var ie=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(function(){O(ie)}).catch(function(q){ie.error(q)})}return B.prototype.next=function(O){this.forEachObserver(function(W){W.next(O)})},B.prototype.error=function(O){this.forEachObserver(function(W){W.error(O)}),this.close(O)},B.prototype.complete=function(){this.forEachObserver(function(O){O.complete()}),this.close()},B.prototype.subscribe=function(O,W,ie){var ye,q=this;if(void 0===O&&void 0===W&&void 0===ie)throw new Error("Missing Observer.");void 0===(ye=function(B,O){if("object"!=typeof B||null===B)return!1;for(var W=0,ie=["next","error","complete"];W<ie.length;W++){var q=ie[W];if(q in B&&"function"==typeof B[q])return!0}return!1}(O)?O:{next:O,error:W,complete:ie}).next&&(ye.next=nr),void 0===ye.error&&(ye.error=nr),void 0===ye.complete&&(ye.complete=nr);var Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?ye.error(q.finalError):ye.complete()}catch(Et){}}),this.observers.push(ye),Ke},B.prototype.unsubscribeOne=function(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},B.prototype.forEachObserver=function(O){if(!this.finalized)for(var W=0;W<this.observers.length;W++)this.sendOne(W,O)},B.prototype.sendOne=function(O,W){var ie=this;this.task.then(function(){if(void 0!==ie.observers&&void 0!==ie.observers[O])try{W(ie.observers[O])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},B.prototype.close=function(O){var W=this;this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(function(){W.observers=void 0,W.onNoObservers=void 0}))},B}();function nr(){}function Qt(B){return B&&B._delegate?B._delegate:B}},2329:(Ue,ve,F)=>{"use strict";F.d(ve,{Z:()=>m.Z});var m=F(9759);m.Z.registerVersion("firebase","8.10.1","app"),m.Z.SDK_VERSION="8.10.1"},7574:(Ue,ve,F)=>{"use strict";F.d(ve,{y:()=>V});var m=F(7393),ge=F(9181),oe=F(6490),ee=F(6554),fe=F(4487);var x=F(2494);let V=(()=>{class L{constructor(le){this._isScalar=!1,le&&(this._subscribe=le)}lift(le){const se=new L;return se.source=this,se.operator=le,se}subscribe(le,se,ue){const{operator:qe}=this,Ae=function(L,H,le){if(L){if(L instanceof m.L)return L;if(L[ge.b])return L[ge.b]()}return L||H||le?new m.L(L,H,le):new m.L(oe.c)}(le,se,ue);if(Ae.add(qe?qe.call(Ae,this.source):this.source||x.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),x.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(le){try{return this._subscribe(le)}catch(se){x.v.useDeprecatedSynchronousErrorHandling&&(le.syncErrorThrown=!0,le.syncErrorValue=se),function(L){for(;L;){const{closed:H,destination:le,isStopped:se}=L;if(H||se)return!1;L=le&&le instanceof m.L?le:null}return!0}(le)?le.error(se):console.warn(se)}}forEach(le,se){return new(se=U(se))((ue,qe)=>{let Ae;Ae=this.subscribe(De=>{try{le(De)}catch(Ye){qe(Ye),Ae&&Ae.unsubscribe()}},qe,ue)})}_subscribe(le){const{source:se}=this;return se&&se.subscribe(le)}[ee.L](){return this}pipe(...le){return 0===le.length?this:function(L){return 0===L.length?fe.y:1===L.length?L[0]:function(le){return L.reduce((se,ue)=>ue(se),le)}}(le)(this)}toPromise(le){return new(le=U(le))((se,ue)=>{let qe;this.subscribe(Ae=>qe=Ae,Ae=>ue(Ae),()=>se(qe))})}}return L.create=H=>new L(H),L})();function U(L){if(L||(L=x.v.Promise||Promise),!L)throw new Error("no Promise impl found");return L}},6490:(Ue,ve,F)=>{"use strict";F.d(ve,{c:()=>ge});var m=F(2494),re=F(4449);const ge={closed:!0,next(oe){},error(oe){if(m.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,re.z)(oe)},complete(){}}},9765:(Ue,ve,F)=>{"use strict";F.d(ve,{Yc:()=>fe,xQ:()=>de});var m=F(7574),re=F(7393),ge=F(5319),oe=F(7971),ae=F(8858),ee=F(9181);class fe extends re.L{constructor(V){super(V),this.destination=V}}let de=(()=>{class x extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new fe(this)}lift(U){const L=new z(this,this);return L.operator=U,L}next(U){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:L}=this,H=L.length,le=L.slice();for(let se=0;se<H;se++)le[se].next(U)}}error(U){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=U,this.isStopped=!0;const{observers:L}=this,H=L.length,le=L.slice();for(let se=0;se<H;se++)le[se].error(U);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:U}=this,L=U.length,H=U.slice();for(let le=0;le<L;le++)H[le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(U){if(this.closed)throw new oe.N;return super._trySubscribe(U)}_subscribe(U){if(this.closed)throw new oe.N;return this.hasError?(U.error(this.thrownError),ge.w.EMPTY):this.isStopped?(U.complete(),ge.w.EMPTY):(this.observers.push(U),new ae.W(this,U))}asObservable(){const U=new m.y;return U.source=this,U}}return x.create=(V,U)=>new z(V,U),x})();class z extends de{constructor(V,U){super(),this.destination=V,this.source=U}next(V){const{destination:U}=this;U&&U.next&&U.next(V)}error(V){const{destination:U}=this;U&&U.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:U}=this;return U?this.source.subscribe(V):ge.w.EMPTY}}},8858:(Ue,ve,F)=>{"use strict";F.d(ve,{W:()=>re});var m=F(5319);class re extends m.w{constructor(oe,ae){super(),this.subject=oe,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,ae=oe.observers;if(this.subject=null,!ae||0===ae.length||oe.isStopped||oe.closed)return;const ee=ae.indexOf(this.subscriber);-1!==ee&&ae.splice(ee,1)}}},7393:(Ue,ve,F)=>{"use strict";F.d(ve,{L:()=>fe});var m=F(9105),re=F(6490),ge=F(5319),oe=F(9181),ae=F(2494),ee=F(4449);class fe extends ge.w{constructor(x,V,U){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=re.c;break;case 1:if(!x){this.destination=re.c;break}if("object"==typeof x){x instanceof fe?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new de(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new de(this,x,V,U)}}[oe.b](){return this}static create(x,V,U){const L=new fe(x,V,U);return L.syncErrorThrowable=!1,L}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class de extends fe{constructor(x,V,U,L){super(),this._parentSubscriber=x;let H,le=this;(0,m.m)(V)?H=V:V&&(H=V.next,U=V.error,L=V.complete,V!==re.c&&(le=Object.create(V),(0,m.m)(le.unsubscribe)&&this.add(le.unsubscribe.bind(le)),le.unsubscribe=this.unsubscribe.bind(this))),this._context=le,this._next=H,this._error=U,this._complete=L}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;ae.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:U}=ae.v;if(this._error)U&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if(V.syncErrorThrowable)U?(V.syncErrorValue=x,V.syncErrorThrown=!0):(0,ee.z)(x),this.unsubscribe();else{if(this.unsubscribe(),U)throw x;(0,ee.z)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const V=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,V){try{x.call(this._context,V)}catch(U){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw U;(0,ee.z)(U)}}__tryOrSetError(x,V,U){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,U)}catch(L){return ae.v.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=L,x.syncErrorThrown=!0,!0):((0,ee.z)(L),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},5319:(Ue,ve,F)=>{"use strict";F.d(ve,{w:()=>ee});var m=F(9796),re=F(1555),ge=F(9105);const ae=(()=>{function de(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((x,V)=>`${V+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return de.prototype=Object.create(Error.prototype),de})();class ee{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:V,_unsubscribe:U,_subscriptions:L}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof ee)x.remove(this);else if(null!==x)for(let H=0;H<x.length;++H)x[H].remove(this);if((0,ge.m)(U)){V&&(this._unsubscribe=void 0);try{U.call(this)}catch(H){z=H instanceof ae?fe(H.errors):[H]}}if((0,m.k)(L)){let H=-1,le=L.length;for(;++H<le;){const se=L[H];if((0,re.K)(se))try{se.unsubscribe()}catch(ue){z=z||[],ue instanceof ae?z=z.concat(fe(ue.errors)):z.push(ue)}}}if(z)throw new ae(z)}add(z){let x=z;if(!z)return ee.EMPTY;switch(typeof z){case"function":x=new ee(z);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof ee)){const L=x;x=new ee,x._subscriptions=[L]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:V}=x;if(null===V)x._parentOrParents=this;else if(V instanceof ee){if(V===this)return x;x._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return x;V.push(this)}const U=this._subscriptions;return null===U?this._subscriptions=[x]:U.push(x),x}remove(z){const x=this._subscriptions;if(x){const V=x.indexOf(z);-1!==V&&x.splice(V,1)}}}var de;function fe(de){return de.reduce((z,x)=>z.concat(x instanceof ae?x.errors:x),[])}ee.EMPTY=((de=new ee).closed=!0,de)},2494:(Ue,ve,F)=>{"use strict";F.d(ve,{v:()=>re});let m=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ge){if(ge){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=ge},get useDeprecatedSynchronousErrorHandling(){return m}}},5345:(Ue,ve,F)=>{"use strict";F.d(ve,{IY:()=>oe,Ds:()=>ee,ft:()=>de});var m=F(7393),re=F(7574),ge=F(7444);class oe extends m.L{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends m.L{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function de(z,x){if(x.closed)return;if(z instanceof re.y)return z.subscribe(x);let V;try{V=(0,ge.s)(z)(x)}catch(U){x.error(U)}return V}},2441:(Ue,ve,F)=>{"use strict";F.d(ve,{c:()=>ae,N:()=>ee});var m=F(9765),re=F(7574),ge=F(5319),oe=F(1307);class ae extends re.y{constructor(V,U){super(),this.source=V,this.subjectFactory=U,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new ge.w,V.add(this.source.subscribe(new fe(this.getSubject(),this))),V.closed&&(this._connection=null,V=ge.w.EMPTY)),V}refCount(){return(0,oe.x)()(this)}}const ee=(()=>{const x=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:x._subscribe},_isComplete:{value:x._isComplete,writable:!0},getSubject:{value:x.getSubject},connect:{value:x.connect},refCount:{value:x.refCount}}})();class fe extends m.Yc{constructor(V,U){super(V),this.connectable=U}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const U=V._connection;V._refCount=0,V._subject=null,V._connection=null,U&&U.unsubscribe()}}}},9193:(Ue,ve,F)=>{"use strict";F.d(ve,{E:()=>re,c:()=>ge});var m=F(7574);const re=new m.y(ae=>ae.complete());function ge(ae){return ae?function(ae){return new m.y(ee=>ae.schedule(()=>ee.complete()))}(ae):re}},4402:(Ue,ve,F)=>{"use strict";F.d(ve,{D:()=>le});var m=F(7574),re=F(7444),ge=F(5319),oe=F(6554),fe=F(4087),de=F(377),V=F(4072),U=F(9489);function le(se,ue){return ue?function(se,ue){if(null!=se){if(function(se){return se&&"function"==typeof se[oe.L]}(se))return function(se,ue){return new m.y(qe=>{const Ae=new ge.w;return Ae.add(ue.schedule(()=>{const De=se[oe.L]();Ae.add(De.subscribe({next(Ye){Ae.add(ue.schedule(()=>qe.next(Ye)))},error(Ye){Ae.add(ue.schedule(()=>qe.error(Ye)))},complete(){Ae.add(ue.schedule(()=>qe.complete()))}}))})),Ae})}(se,ue);if((0,V.t)(se))return function(se,ue){return new m.y(qe=>{const Ae=new ge.w;return Ae.add(ue.schedule(()=>se.then(De=>{Ae.add(ue.schedule(()=>{qe.next(De),Ae.add(ue.schedule(()=>qe.complete()))}))},De=>{Ae.add(ue.schedule(()=>qe.error(De)))}))),Ae})}(se,ue);if((0,U.z)(se))return(0,fe.r)(se,ue);if(function(se){return se&&"function"==typeof se[de.hZ]}(se)||"string"==typeof se)return function(se,ue){if(!se)throw new Error("Iterable cannot be null");return new m.y(qe=>{const Ae=new ge.w;let De;return Ae.add(()=>{De&&"function"==typeof De.return&&De.return()}),Ae.add(ue.schedule(()=>{De=se[de.hZ](),Ae.add(ue.schedule(function(){if(qe.closed)return;let Ye,Oe;try{const Ne=De.next();Ye=Ne.value,Oe=Ne.done}catch(Ne){return void qe.error(Ne)}Oe?qe.complete():(qe.next(Ye),this.schedule())}))})),Ae})}(se,ue)}throw new TypeError((null!==se&&typeof se||se)+" is not observable")}(se,ue):se instanceof m.y?se:new m.y((0,re.s)(se))}},6693:(Ue,ve,F)=>{"use strict";F.d(ve,{n:()=>oe});var m=F(7574),re=F(5015),ge=F(4087);function oe(ae,ee){return ee?(0,ge.r)(ae,ee):new m.y((0,re.V)(ae))}},6682:(Ue,ve,F)=>{"use strict";F.d(ve,{T:()=>ae});var m=F(7574),re=F(4869),ge=F(3282),oe=F(6693);function ae(...ee){let fe=Number.POSITIVE_INFINITY,de=null,z=ee[ee.length-1];return(0,re.K)(z)?(de=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(fe=ee.pop())):"number"==typeof z&&(fe=ee.pop()),null===de&&1===ee.length&&ee[0]instanceof m.y?ee[0]:(0,ge.J)(fe)((0,oe.n)(ee,de))}},5917:(Ue,ve,F)=>{"use strict";F.d(ve,{of:()=>oe});var m=F(4869),re=F(6693),ge=F(4087);function oe(...ae){let ee=ae[ae.length-1];return(0,m.K)(ee)?(ae.pop(),(0,ge.r)(ae,ee)):(0,re.n)(ae)}},8002:(Ue,ve,F)=>{"use strict";F.d(ve,{U:()=>re});var m=F(7393);function re(ae,ee){return function(de){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return de.lift(new ge(ae,ee))}}class ge{constructor(ee,fe){this.project=ee,this.thisArg=fe}call(ee,fe){return fe.subscribe(new oe(ee,this.project,this.thisArg))}}class oe extends m.L{constructor(ee,fe,de){super(ee),this.project=fe,this.count=0,this.thisArg=de||this}_next(ee){let fe;try{fe=this.project.call(this.thisArg,ee,this.count++)}catch(de){return void this.destination.error(de)}this.destination.next(fe)}}},3282:(Ue,ve,F)=>{"use strict";F.d(ve,{J:()=>ge});var m=F(9773),re=F(4487);function ge(oe=Number.POSITIVE_INFINITY){return(0,m.zg)(re.y,oe)}},9773:(Ue,ve,F)=>{"use strict";F.d(ve,{zg:()=>oe});var m=F(8002),re=F(4402),ge=F(5345);function oe(de,z,x=Number.POSITIVE_INFINITY){return"function"==typeof z?V=>V.pipe(oe((U,L)=>(0,re.D)(de(U,L)).pipe((0,m.U)((H,le)=>z(U,H,L,le))),x)):("number"==typeof z&&(x=z),V=>V.lift(new ae(de,x)))}class ae{constructor(z,x=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=x}call(z,x){return x.subscribe(new ee(z,this.project,this.concurrent))}}class ee extends ge.Ds{constructor(z,x,V=Number.POSITIVE_INFINITY){super(z),this.project=x,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let x;const V=this.index++;try{x=this.project(z,V)}catch(U){return void this.destination.error(U)}this.active++,this._innerSub(x)}_innerSub(z){const x=new ge.IY(this),V=this.destination;V.add(x);const U=(0,ge.ft)(z,x);U!==x&&V.add(U)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ue,ve,F)=>{"use strict";F.d(ve,{ht:()=>V,QV:()=>z});var m=F(7393),re=F(9193),ge=F(5917),oe=F(7574);class de{constructor(H,le,se){this.kind=H,this.value=le,this.error=se,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,le,se){switch(this.kind){case"N":return H&&H(this.value);case"E":return le&&le(this.error);case"C":return se&&se()}}accept(H,le,se){return H&&"function"==typeof H.next?this.observe(H):this.do(H,le,se)}toObservable(){switch(this.kind){case"N":return(0,ge.of)(this.value);case"E":return L=this.error,new oe.y(le=>le.error(L));case"C":return(0,re.c)()}var L;throw new Error("unexpected notification kind value")}static createNext(H){return void 0!==H?new de("N",H):de.undefinedValueNotification}static createError(H){return new de("E",void 0,H)}static createComplete(){return de.completeNotification}}function z(L,H=0){return function(se){return se.lift(new x(L,H))}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0);class x{constructor(H,le=0){this.scheduler=H,this.delay=le}call(H,le){return le.subscribe(new V(H,this.scheduler,this.delay))}}class V extends m.L{constructor(H,le,se=0){super(H),this.scheduler=le,this.delay=se}static dispatch(H){const{notification:le,destination:se}=H;le.observe(se),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new U(H,this.destination)))}_next(H){this.scheduleMessage(de.createNext(H))}_error(H){this.scheduleMessage(de.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(de.createComplete()),this.unsubscribe()}}class U{constructor(H,le){this.notification=H,this.destination=le}}},1307:(Ue,ve,F)=>{"use strict";F.d(ve,{x:()=>re});var m=F(7393);function re(){return function(ee){return ee.lift(new ge(ee))}}class ge{constructor(ee){this.connectable=ee}call(ee,fe){const{connectable:de}=this;de._refCount++;const z=new oe(ee,de),x=fe.subscribe(z);return z.closed||(z.connection=de.connect()),x}}class oe extends m.L{constructor(ee,fe){super(ee),this.connectable=fe}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const fe=ee._refCount;if(fe<=0)return void(this.connection=null);if(ee._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:de}=this,z=ee._connection;this.connection=null,z&&(!de||z===de)&&z.unsubscribe()}}},3101:(Ue,ve,F)=>{"use strict";F.d(ve,{R:()=>ue});var m=F(7574);let re=1;const ge=Promise.resolve(),oe={};function ae(Ae){return Ae in oe&&(delete oe[Ae],!0)}const ee={setImmediate(Ae){const De=re++;return oe[De]=!0,ge.then(()=>ae(De)&&Ae()),De},clearImmediate(Ae){ae(Ae)}};var de=F(6465),x=F(6102);const L=new class extends x.v{flush(De){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let Oe,Ne=-1,Pt=Ye.length;De=De||Ye.shift();do{if(Oe=De.execute(De.state,De.delay))break}while(++Ne<Pt&&(De=Ye.shift()));if(this.active=!1,Oe){for(;++Ne<Pt&&(De=Ye.shift());)De.unsubscribe();throw Oe}}}(class extends de.o{constructor(De,Ye){super(De,Ye),this.scheduler=De,this.work=Ye}requestAsyncId(De,Ye,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId(De,Ye,Oe):(De.actions.push(this),De.scheduled||(De.scheduled=ee.setImmediate(De.flush.bind(De,null))))}recycleAsyncId(De,Ye,Oe=0){if(null!==Oe&&Oe>0||null===Oe&&this.delay>0)return super.recycleAsyncId(De,Ye,Oe);0===De.actions.length&&(ee.clearImmediate(Ye),De.scheduled=void 0)}});var H=F(9796);class se extends m.y{constructor(De,Ye=0,Oe=L){var Ae;super(),this.source=De,this.delayTime=Ye,this.scheduler=Oe,(!(!(0,H.k)(Ae=Ye)&&Ae-parseFloat(Ae)+1>=0)||Ye<0)&&(this.delayTime=0),(!Oe||"function"!=typeof Oe.schedule)&&(this.scheduler=L)}static create(De,Ye=0,Oe=L){return new se(De,Ye,Oe)}static dispatch(De){const{source:Ye,subscriber:Oe}=De;return this.add(Ye.subscribe(Oe))}_subscribe(De){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:De})}}function ue(Ae,De=0){return function(Oe){return Oe.lift(new qe(Ae,De))}}class qe{constructor(De,Ye){this.scheduler=De,this.delay=Ye}call(De,Ye){return new se(Ye,this.delay,this.scheduler).subscribe(De)}}},3342:(Ue,ve,F)=>{"use strict";F.d(ve,{b:()=>oe});var m=F(7393);function re(){}var ge=F(9105);function oe(fe,de,z){return function(V){return V.lift(new ae(fe,de,z))}}class ae{constructor(de,z,x){this.nextOrObserver=de,this.error=z,this.complete=x}call(de,z){return z.subscribe(new ee(de,this.nextOrObserver,this.error,this.complete))}}class ee extends m.L{constructor(de,z,x,V){super(de),this._tapNext=re,this._tapError=re,this._tapComplete=re,this._tapError=x||re,this._tapComplete=V||re,(0,ge.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||re,this._tapError=z.error||re,this._tapComplete=z.complete||re)}_next(de){try{this._tapNext.call(this._context,de)}catch(z){return void this.destination.error(z)}this.destination.next(de)}_error(de){try{this._tapError.call(this._context,de)}catch(z){return void this.destination.error(z)}this.destination.error(de)}_complete(){try{this._tapComplete.call(this._context)}catch(de){return void this.destination.error(de)}return this.destination.complete()}}},4087:(Ue,ve,F)=>{"use strict";F.d(ve,{r:()=>ge});var m=F(7574),re=F(5319);function ge(oe,ae){return new m.y(ee=>{const fe=new re.w;let de=0;return fe.add(ae.schedule(function(){de!==oe.length?(ee.next(oe[de++]),ee.closed||fe.add(this.schedule())):ee.complete()})),fe})}},6465:(Ue,ve,F)=>{"use strict";F.d(ve,{o:()=>ge});var m=F(5319);class re extends m.w{constructor(ae,ee){super()}schedule(ae,ee=0){return this}}class ge extends re{constructor(ae,ee){super(ae,ee),this.scheduler=ae,this.work=ee,this.pending=!1}schedule(ae,ee=0){if(this.closed)return this;this.state=ae;const fe=this.id,de=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(de,fe,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(de,this.id,ee),this}requestAsyncId(ae,ee,fe=0){return setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,ee,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return ee;clearInterval(ee)}execute(ae,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,ee);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ee){let de,fe=!1;try{this.work(ae)}catch(z){fe=!0,de=!!z&&z||new Error(z)}if(fe)return this.unsubscribe(),de}_unsubscribe(){const ae=this.id,ee=this.scheduler,fe=ee.actions,de=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==de&&fe.splice(de,1),null!=ae&&(this.id=this.recycleAsyncId(ee,ae,null)),this.delay=null}}},6102:(Ue,ve,F)=>{"use strict";F.d(ve,{v:()=>re});let m=(()=>{class ge{constructor(ae,ee=ge.now){this.SchedulerAction=ae,this.now=ee}schedule(ae,ee=0,fe){return new this.SchedulerAction(this,ae).schedule(fe,ee)}}return ge.now=()=>Date.now(),ge})();class re extends m{constructor(oe,ae=m.now){super(oe,()=>re.delegate&&re.delegate!==this?re.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,ae=0,ee){return re.delegate&&re.delegate!==this?re.delegate.schedule(oe,ae,ee):super.schedule(oe,ae,ee)}flush(oe){const{actions:ae}=this;if(this.active)return void ae.push(oe);let ee;this.active=!0;do{if(ee=oe.execute(oe.state,oe.delay))break}while(oe=ae.shift());if(this.active=!1,ee){for(;oe=ae.shift();)oe.unsubscribe();throw ee}}}},3637:(Ue,ve,F)=>{"use strict";F.d(ve,{z:()=>ge});var m=F(6465);const ge=new(F(6102).v)(m.o)},7771:(Ue,ve,F)=>{"use strict";F.d(ve,{c:()=>ee,N:()=>ae});var m=F(6465),ge=F(6102);const ae=new class extends ge.v{}(class extends m.o{constructor(de,z){super(de,z),this.scheduler=de,this.work=z}schedule(de,z=0){return z>0?super.schedule(de,z):(this.delay=z,this.state=de,this.scheduler.flush(this),this)}execute(de,z){return z>0||this.closed?super.execute(de,z):this._execute(de,z)}requestAsyncId(de,z,x=0){return null!==x&&x>0||null===x&&this.delay>0?super.requestAsyncId(de,z,x):de.flush(this)}}),ee=ae},377:(Ue,ve,F)=>{"use strict";F.d(ve,{hZ:()=>re});const re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ue,ve,F)=>{"use strict";F.d(ve,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ue,ve,F)=>{"use strict";F.d(ve,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ue,ve,F)=>{"use strict";F.d(ve,{N:()=>re});const re=(()=>{function ge(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ge.prototype=Object.create(Error.prototype),ge})()},4449:(Ue,ve,F)=>{"use strict";function m(re){setTimeout(()=>{throw re},0)}F.d(ve,{z:()=>m})},4487:(Ue,ve,F)=>{"use strict";function m(re){return re}F.d(ve,{y:()=>m})},9796:(Ue,ve,F)=>{"use strict";F.d(ve,{k:()=>m});const m=Array.isArray||(re=>re&&"number"==typeof re.length)},9489:(Ue,ve,F)=>{"use strict";F.d(ve,{z:()=>m});const m=re=>re&&"number"==typeof re.length&&"function"!=typeof re},9105:(Ue,ve,F)=>{"use strict";function m(re){return"function"==typeof re}F.d(ve,{m:()=>m})},1555:(Ue,ve,F)=>{"use strict";function m(re){return null!==re&&"object"==typeof re}F.d(ve,{K:()=>m})},4072:(Ue,ve,F)=>{"use strict";function m(re){return!!re&&"function"!=typeof re.subscribe&&"function"==typeof re.then}F.d(ve,{t:()=>m})},4869:(Ue,ve,F)=>{"use strict";function m(re){return re&&"function"==typeof re.schedule}F.d(ve,{K:()=>m})},7444:(Ue,ve,F)=>{"use strict";F.d(ve,{s:()=>V});var m=F(5015),re=F(4449),oe=F(377),ee=F(6554),de=F(9489),z=F(4072),x=F(1555);const V=U=>{if(U&&"function"==typeof U[ee.L])return(U=>L=>{const H=U[ee.L]();if("function"!=typeof H.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return H.subscribe(L)})(U);if((0,de.z)(U))return(0,m.V)(U);if((0,z.t)(U))return(U=>L=>(U.then(H=>{L.closed||(L.next(H),L.complete())},H=>L.error(H)).then(null,re.z),L))(U);if(U&&"function"==typeof U[oe.hZ])return(U=>L=>{const H=U[oe.hZ]();for(;;){let le;try{le=H.next()}catch(se){return L.error(se),L}if(le.done){L.complete();break}if(L.next(le.value),L.closed)break}return"function"==typeof H.return&&L.add(()=>{H.return&&H.return()}),L})(U);{const H=`You provided ${(0,x.K)(U)?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(H)}}},5015:(Ue,ve,F)=>{"use strict";F.d(ve,{V:()=>m});const m=re=>ge=>{for(let oe=0,ae=re.length;oe<ae&&!ge.closed;oe++)ge.next(re[oe]);ge.complete()}},1016:(Ue,ve,F)=>{"use strict";var m=F(3018);let re=null;function ge(){return re}const fe=new m.OlP("DocumentToken");let de=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,m.Yz7)({factory:z,token:i,providedIn:"platform"}),i})();function z(){return(0,m.LFG)(V)}const x=new m.OlP("Location Initialized");let V=(()=>{class i extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(t){const o=ge().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=ge().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,u){U()?this._history.pushState(t,o,u):this.location.hash=u}replaceState(t,o,u){U()?this._history.replaceState(t,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(fe))},i.\u0275prov=(0,m.Yz7)({factory:L,token:i,providedIn:"platform"}),i})();function U(){return!!window.history.pushState}function L(){return new V((0,m.LFG)(fe))}function H(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function le(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function se(i){return i&&"?"!==i[0]?"?"+i:i}let ue=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,m.Yz7)({factory:qe,token:i,providedIn:"root"}),i})();function qe(i){const e=(0,m.LFG)(fe).location;return new De((0,m.LFG)(de),e&&e.origin||"")}const Ae=new m.OlP("appBaseHref");let De=(()=>{class i extends ue{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+se(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${o}${u}`:o}pushState(t,o,u,d){const f=this.prepareExternalUrl(u+se(d));this._platformLocation.pushState(t,o,f)}replaceState(t,o,u,d){const f=this.prepareExternalUrl(u+se(d));this._platformLocation.replaceState(t,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(de),m.LFG(Ae,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Ye=(()=>{class i extends ue{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=H(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,u,d){let f=this.prepareExternalUrl(u+se(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,o,f)}replaceState(t,o,u,d){let f=this.prepareExternalUrl(u+se(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(de),m.LFG(Ae,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Oe=(()=>{class i{constructor(t,o){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=le(Vt(u)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+se(o))}normalize(t){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,Vt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",u=null){this._platformStrategy.pushState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+se(o)),u)}replaceState(t,o="",u=null){this._platformStrategy.replaceState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+se(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(u=>u(t,o))}subscribe(t,o,u){return this._subject.subscribe({next:t,error:o,complete:u})}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(ue),m.LFG(de))},i.normalizeQueryParams=se,i.joinWithSlash=H,i.stripTrailingSlash=le,i.\u0275prov=(0,m.Yz7)({factory:Ne,token:i,providedIn:"root"}),i})();function Ne(){return new Oe((0,m.LFG)(ue),(0,m.LFG)(de))}function Vt(i){return i.replace(/\/index.html$/,"")}var te=(()=>((te=te||{})[te.Zero=0]="Zero",te[te.One=1]="One",te[te.Two=2]="Two",te[te.Few=3]="Few",te[te.Many=4]="Many",te[te.Other=5]="Other",te))(),K=(()=>((K=K||{})[K.Format=0]="Format",K[K.Standalone=1]="Standalone",K))(),Z=(()=>((Z=Z||{})[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z))(),be=(()=>((be=be||{})[be.Short=0]="Short",be[be.Medium=1]="Medium",be[be.Long=2]="Long",be[be.Full=3]="Full",be))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function Lt(i,e){return Bt((0,m.cg1)(i)[m.wAp.DateFormat],e)}function Ot(i,e){return Bt((0,m.cg1)(i)[m.wAp.TimeFormat],e)}function yt(i,e){return Bt((0,m.cg1)(i)[m.wAp.DateTimeFormat],e)}function Sr(i,e){const t=(0,m.cg1)(i),o=t[m.wAp.NumberSymbols][e];if(void 0===o){if(e===X.CurrencyDecimal)return t[m.wAp.NumberSymbols][X.Decimal];if(e===X.CurrencyGroup)return t[m.wAp.NumberSymbols][X.Group]}return o}const ct=m.kL8;function wt(i){if(!i[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bt(i,e){for(let t=e;t>-1;t--)if(void 0!==i[t])return i[t];throw new Error("Locale data API: locale data undefined")}function Nn(i){const[e,t]=i.split(":");return{hours:+e,minutes:+t}}const eh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,su={},So=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),Ze=(()=>((Ze=Ze||{})[Ze.FullYear=0]="FullYear",Ze[Ze.Month=1]="Month",Ze[Ze.Date=2]="Date",Ze[Ze.Hours=3]="Hours",Ze[Ze.Minutes=4]="Minutes",Ze[Ze.Seconds=5]="Seconds",Ze[Ze.FractionalSeconds=6]="FractionalSeconds",Ze[Ze.Day=7]="Day",Ze))(),We=(()=>((We=We||{})[We.DayPeriods=0]="DayPeriods",We[We.Days=1]="Days",We[We.Months=2]="Months",We[We.Eras=3]="Eras",We))();function Ar(i,e,t,o){let u=function(i){if(mg(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[u,d=1,f=1]=i.split("-").map(g=>+g);return Zl(u,d-1,f)}const t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let o;if(o=i.match(eh))return function(i){const e=new Date(0);let t=0,o=0;const u=i[8]?e.setUTCFullYear:e.setFullYear,d=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),o=Number(i[9]+i[11])),u.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));const f=Number(i[4]||0)-t,g=Number(i[5]||0)-o,_=Number(i[6]||0),w=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return d.call(e,f,g,_,w),e}(o)}const e=new Date(i);if(!mg(e))throw new Error(`Unable to convert "${i}" into a date`);return e}(i);e=Ji(t,e)||e;let g,f=[];for(;e;){if(g=So.exec(e),!g){f.push(e);break}{f=f.concat(g.slice(1));const C=f.pop();if(!C)break;e=C}}let _=u.getTimezoneOffset();o&&(_=qn(o,_),u=function(i,e,t){const u=i.getTimezoneOffset();return function(i,e){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+e),i}(i,-1*(qn(e,u)-u))}(u,o));let w="";return f.forEach(C=>{const T=function(i){if(rr[i])return rr[i];let e;switch(i){case"G":case"GG":case"GGG":e=O(We.Eras,Z.Abbreviated);break;case"GGGG":e=O(We.Eras,Z.Wide);break;case"GGGGG":e=O(We.Eras,Z.Narrow);break;case"y":e=Qt(Ze.FullYear,1,0,!1,!0);break;case"yy":e=Qt(Ze.FullYear,2,0,!0,!0);break;case"yyy":e=Qt(Ze.FullYear,3,0,!1,!0);break;case"yyyy":e=Qt(Ze.FullYear,4,0,!1,!0);break;case"Y":e=Dt(1);break;case"YY":e=Dt(2,!0);break;case"YYY":e=Dt(3);break;case"YYYY":e=Dt(4);break;case"M":case"L":e=Qt(Ze.Month,1,1);break;case"MM":case"LL":e=Qt(Ze.Month,2,1);break;case"MMM":e=O(We.Months,Z.Abbreviated);break;case"MMMM":e=O(We.Months,Z.Wide);break;case"MMMMM":e=O(We.Months,Z.Narrow);break;case"LLL":e=O(We.Months,Z.Abbreviated,K.Standalone);break;case"LLLL":e=O(We.Months,Z.Wide,K.Standalone);break;case"LLLLL":e=O(We.Months,Z.Narrow,K.Standalone);break;case"w":e=At(1);break;case"ww":e=At(2);break;case"W":e=At(1,!0);break;case"d":e=Qt(Ze.Date,1);break;case"dd":e=Qt(Ze.Date,2);break;case"c":case"cc":e=Qt(Ze.Day,1);break;case"ccc":e=O(We.Days,Z.Abbreviated,K.Standalone);break;case"cccc":e=O(We.Days,Z.Wide,K.Standalone);break;case"ccccc":e=O(We.Days,Z.Narrow,K.Standalone);break;case"cccccc":e=O(We.Days,Z.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=O(We.Days,Z.Abbreviated);break;case"EEEE":e=O(We.Days,Z.Wide);break;case"EEEEE":e=O(We.Days,Z.Narrow);break;case"EEEEEE":e=O(We.Days,Z.Short);break;case"a":case"aa":case"aaa":e=O(We.DayPeriods,Z.Abbreviated);break;case"aaaa":e=O(We.DayPeriods,Z.Wide);break;case"aaaaa":e=O(We.DayPeriods,Z.Narrow);break;case"b":case"bb":case"bbb":e=O(We.DayPeriods,Z.Abbreviated,K.Standalone,!0);break;case"bbbb":e=O(We.DayPeriods,Z.Wide,K.Standalone,!0);break;case"bbbbb":e=O(We.DayPeriods,Z.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=O(We.DayPeriods,Z.Abbreviated,K.Format,!0);break;case"BBBB":e=O(We.DayPeriods,Z.Wide,K.Format,!0);break;case"BBBBB":e=O(We.DayPeriods,Z.Narrow,K.Format,!0);break;case"h":e=Qt(Ze.Hours,1,-12);break;case"hh":e=Qt(Ze.Hours,2,-12);break;case"H":e=Qt(Ze.Hours,1);break;case"HH":e=Qt(Ze.Hours,2);break;case"m":e=Qt(Ze.Minutes,1);break;case"mm":e=Qt(Ze.Minutes,2);break;case"s":e=Qt(Ze.Seconds,1);break;case"ss":e=Qt(Ze.Seconds,2);break;case"S":e=Qt(Ze.FractionalSeconds,1);break;case"SS":e=Qt(Ze.FractionalSeconds,2);break;case"SSS":e=Qt(Ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ie(an.Short);break;case"ZZZZZ":e=ie(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ie(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ie(an.Long);break;default:return null}return rr[i]=e,e}(C);w+=T?T(u,t,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function Zl(i,e,t){const o=new Date(0);return o.setFullYear(i,e,t),o.setHours(0,0,0),o}function Ji(i,e){const t=function(i){return(0,m.cg1)(i)[m.wAp.LocaleId]}(i);if(su[t]=su[t]||{},su[t][e])return su[t][e];let o="";switch(e){case"shortDate":o=Lt(i,be.Short);break;case"mediumDate":o=Lt(i,be.Medium);break;case"longDate":o=Lt(i,be.Long);break;case"fullDate":o=Lt(i,be.Full);break;case"shortTime":o=Ot(i,be.Short);break;case"mediumTime":o=Ot(i,be.Medium);break;case"longTime":o=Ot(i,be.Long);break;case"fullTime":o=Ot(i,be.Full);break;case"short":const u=Ji(i,"shortTime"),d=Ji(i,"shortDate");o=Yt(yt(i,be.Short),[u,d]);break;case"medium":const f=Ji(i,"mediumTime"),g=Ji(i,"mediumDate");o=Yt(yt(i,be.Medium),[f,g]);break;case"long":const _=Ji(i,"longTime"),w=Ji(i,"longDate");o=Yt(yt(i,be.Long),[_,w]);break;case"full":const C=Ji(i,"fullTime"),T=Ji(i,"fullDate");o=Yt(yt(i,be.Full),[C,T])}return o&&(su[t][e]=o),o}function Yt(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,o){return null!=e&&o in e?e[o]:t})),i}function ui(i,e,t="-",o,u){let d="";(i<0||u&&i<=0)&&(u?i=1-i:(i=-i,d=t));let f=String(i);for(;f.length<e;)f="0"+f;return o&&(f=f.substr(f.length-e)),d+f}function Qt(i,e,t=0,o=!1,u=!1){return function(d,f){let g=function(i,e){switch(i){case Ze.FullYear:return e.getFullYear();case Ze.Month:return e.getMonth();case Ze.Date:return e.getDate();case Ze.Hours:return e.getHours();case Ze.Minutes:return e.getMinutes();case Ze.Seconds:return e.getSeconds();case Ze.FractionalSeconds:return e.getMilliseconds();case Ze.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,d);if((t>0||g>-t)&&(g+=t),i===Ze.Hours)0===g&&-12===t&&(g=12);else if(i===Ze.FractionalSeconds)return function(i,e){return ui(i,3).substr(0,e)}(g,e);const _=Sr(f,X.MinusSign);return ui(g,e,_,o,u)}}function O(i,e,t=K.Format,o=!1){return function(u,d){return function(i,e,t,o,u,d){switch(t){case We.Months:return function(i,e,t){const o=(0,m.cg1)(i),d=Bt([o[m.wAp.MonthsFormat],o[m.wAp.MonthsStandalone]],e);return Bt(d,t)}(e,u,o)[i.getMonth()];case We.Days:return function(i,e,t){const o=(0,m.cg1)(i),d=Bt([o[m.wAp.DaysFormat],o[m.wAp.DaysStandalone]],e);return Bt(d,t)}(e,u,o)[i.getDay()];case We.DayPeriods:const f=i.getHours(),g=i.getMinutes();if(d){const w=function(i){const e=(0,m.cg1)(i);return wt(e),(e[m.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Nn(o):[Nn(o[0]),Nn(o[1])])}(e),C=function(i,e,t){const o=(0,m.cg1)(i);wt(o);const d=Bt([o[m.wAp.ExtraData][0],o[m.wAp.ExtraData][1]],e)||[];return Bt(d,t)||[]}(e,u,o),T=w.findIndex(S=>{if(Array.isArray(S)){const[N,R]=S,k=f>=N.hours&&g>=N.minutes,$=f<R.hours||f===R.hours&&g<R.minutes;if(N.hours<R.hours){if(k&&$)return!0}else if(k||$)return!0}else if(S.hours===f&&S.minutes===g)return!0;return!1});if(-1!==T)return C[T]}return function(i,e,t){const o=(0,m.cg1)(i),d=Bt([o[m.wAp.DayPeriodsFormat],o[m.wAp.DayPeriodsStandalone]],e);return Bt(d,t)}(e,u,o)[f<12?0:1];case We.Eras:return function(i,e){return Bt((0,m.cg1)(i)[m.wAp.Eras],e)}(e,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(u,d,i,e,t,o)}}function ie(i){return function(e,t,o){const u=-1*o,d=Sr(t,X.MinusSign),f=u>0?Math.floor(u/60):Math.ceil(u/60);switch(i){case an.Short:return(u>=0?"+":"")+ui(f,2,d)+ui(Math.abs(u%60),2,d);case an.ShortGMT:return"GMT"+(u>=0?"+":"")+ui(f,1,d);case an.Long:return"GMT"+(u>=0?"+":"")+ui(f,2,d)+":"+ui(Math.abs(u%60),2,d);case an.Extended:return 0===o?"Z":(u>=0?"+":"")+ui(f,2,d)+":"+ui(Math.abs(u%60),2,d);default:throw new Error(`Unknown zone width "${i}"`)}}}function Et(i){return Zl(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function At(i,e=!1){return function(t,o){let u;if(e){const d=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,f=t.getDate();u=1+Math.floor((f+d)/7)}else{const d=Et(t),f=function(i){const e=Zl(i,0,1).getDay();return Zl(i,0,1+(e<=4?4:11)-e)}(d.getFullYear()),g=d.getTime()-f.getTime();u=1+Math.round(g/6048e5)}return ui(u,i,Sr(o,X.MinusSign))}}function Dt(i,e=!1){return function(t,o){return ui(Et(t).getFullYear(),i,Sr(o,X.MinusSign),e)}}const rr={};function qn(i,e){i=i.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function mg(i){return i instanceof Date&&!isNaN(i.valueOf())}class Xi{}let ec=(()=>{class i extends Xi{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(ct(o||this.locale)(t)){case te.Zero:return"zero";case te.One:return"one";case te.Two:return"two";case te.Few:return"few";case te.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.soG))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),lu=(()=>{class i{constructor(t,o,u,d){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=u,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},i.\u0275dir=m.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class yg{constructor(e,t,o,u){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ds=(()=>{class i{constructor(t,o,u){this._viewContainer=t,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=[];t.forEachOperation((u,d,f)=>{if(null==u.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new yg(null,this._ngForOf,-1,-1),null===f?void 0:f),_=new fr(u,g);o.push(_)}else if(null==f)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const g=this._viewContainer.get(d);this._viewContainer.move(g,f);const _=new fr(u,g);o.push(_)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,d=this._viewContainer.length;u<d;u++){const f=this._viewContainer.get(u);f.context.index=u,f.context.count=d,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(t,o){t.context.$implicit=o.item}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},i.\u0275dir=m.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class fr{constructor(e,t){this.record=e,this.view=t}}let eo=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new Ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.s_b),m.Y36(m.Rgc))},i.\u0275dir=m.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Ti{constructor(){this.$implicit=null,this.ngIf=null}}function kt(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}function ln(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,m.AaK)(i)}'`)}class wg{createSubscription(e,t){return e.subscribe({next:t,error:o=>{throw o}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ih{createSubscription(e,t){return e.then(t,o=>{throw o})}dispose(e){}onDestroy(e){}}const oh=new ih,Si=new wg;let du=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,o=>this._updateLatestValue(t,o))}_selectStrategy(t){if((0,m.QGY)(t))return oh;if((0,m.F4k)(t))return Si;throw ln(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,o){t===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.sBO,16))},i.\u0275pipe=m.Yjl({name:"async",type:i,pure:!1}),i})(),xT=(()=>{class i{constructor(t){this.locale=t}transform(t,o="mediumDate",u,d){if(null==t||""===t||t!=t)return null;try{return Ar(t,o,d||this.locale,u)}catch(f){throw ln(i,f.message)}}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.soG,16))},i.\u0275pipe=m.Yjl({name:"date",type:i,pure:!0}),i})(),ci=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[{provide:Xi,useClass:ec}]}),i})();function sh(i){return"browser"===i}let Cg=(()=>{class i{}return i.\u0275prov=(0,m.Yz7)({token:i,providedIn:"root",factory:()=>new LT((0,m.LFG)(fe),window)}),i})();class LT{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const d=u.shadowRoot;if(d){const f=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(f)return f}u=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],u-d[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ah(this.window.history)||ah(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ah(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ic extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ic,re||(re=i)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(oc=oc||document.querySelector("base"),oc?oc.getAttribute("href"):null);return null==t?null:function(i){Tg=Tg||document.createElement("a"),Tg.setAttribute("href",i);const e=Tg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){oc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[u,d]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(u.trim()===e)return decodeURIComponent(d)}return null}(document.cookie,e)}}let Tg,oc=null;const BT=new m.OlP("TRANSITION_ID"),jT=[{provide:m.ip1,useFactory:function(i,e,t){return()=>{t.get(m.CZH).donePromise.then(()=>{const o=ge(),u=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<u.length;d++)o.remove(u[d])})}},deps:[BT,fe,m.zs3],multi:!0}];class Xt{static init(){(0,m.VLi)(new Xt)}addToWindow(e){m.dqk.getAngularTestability=(o,u=!0)=>{const d=e.findTestabilityInTree(o,u);if(null==d)throw new Error("Could not find testability for element.");return d},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(o=>{const u=m.dqk.getAllAngularTestabilities();let d=u.length,f=!1;const g=function(_){f=f||_,d--,0==d&&o(f)};u.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const u=e.getTestability(t);return null!=u?u:o?ge().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let UT=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const ac=new m.OlP("EventManagerPlugins");let lh=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(u=>u.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,u){return this._findPluginFor(o).addEventListener(t,o,u)}addGlobalEventListener(t,o,u){return this._findPluginFor(o).addGlobalEventListener(t,o,u)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const u=this._plugins;for(let d=0;d<u.length;d++){const f=u[d];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(ac),m.LFG(m.R0b))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class Ig{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const u=ge().getGlobalEventTarget(this._doc,e);if(!u)throw new Error(`Unsupported event target ${u} for event ${t}`);return this.addEventListener(u,t,o)}}let Mg=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),uc=(()=>{class i extends Mg{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,u){t.forEach(d=>{const f=this._doc.createElement("style");f.textContent=d,u.push(o.appendChild(f))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(gb),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(t,u,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gb))}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(fe))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();function gb(i){ge().remove(i)}const me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vt=/%COMP%/g;function fu(i,e,t){for(let o=0;o<e.length;o++){let u=e[o];Array.isArray(u)?fu(i,u,t):(u=u.replace(vt,i),t.push(u))}return t}function HT(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let na=(()=>{class i{constructor(t,o,u){this.eventManager=t,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new pu(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case m.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new gu(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(t),u}case 1:case m.ifc.ShadowDom:return new Mo(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const u=fu(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(lh),m.LFG(uc),m.LFG(m.AFp))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class pu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(me[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,u){if(u){t=u+":"+t;const d=me[u];d?e.setAttributeNS(d,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const u=me[o];u?e.removeAttributeNS(u,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,u){u&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(t,o,u&m.JOm.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&m.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,HT(o)):this.eventManager.addEventListener(e,t,HT(o))}}class gu extends pu{constructor(e,t,o,u){super(e),this.component=o;const d=fu(u+"-"+o.id,o.styles,[]);t.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(vt,u+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(vt,i)}(u+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class Mo extends pu{constructor(e,t,o,u){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=fu(u.id,u.styles,[]);for(let f=0;f<d.length;f++){const g=document.createElement("style");g.textContent=d[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let GT=(()=>{class i extends Ig{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,u){return t.addEventListener(o,u,!1),()=>this.removeEventListener(t,o,u)}removeEventListener(t,o,u){return t.removeEventListener(o,u)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(fe))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const cc=["alt","control","meta","shift"],Eb={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let fs=(()=>{class i extends Ig{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,u){const d=i.parseEventName(o),f=i.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ge().onAndCancel(t,d.domEventName,f))}static parseEventName(t){const o=t.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const d=i._normalizeKey(o.pop());let f="";if(cc.forEach(_=>{const w=o.indexOf(_);w>-1&&(o.splice(w,1),f+=_+".")}),f+=d,0!=o.length||0===d.length)return null;const g={};return g.domEventName=u,g.fullKey=f,g}static getEventFullKey(t){let o="",u=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&kg.hasOwnProperty(e)&&(e=kg[e]))}return Eb[e]||e}(t);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),cc.forEach(d=>{d!=u&&pr[d](t)&&(o+=d+".")}),o+=u,o}static eventCallback(t,o,u){return d=>{i.getEventFullKey(d)===t&&u.runGuarded(()=>o(d))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(fe))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const ZT=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function(){ic.makeCurrent(),Xt.init()},multi:!0},{provide:fe,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),ps=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:ac,useClass:GT,multi:!0,deps:[fe,m.R0b,m.Lbi]},{provide:ac,useClass:fs,multi:!0,deps:[fe]},[],{provide:na,useClass:na,deps:[lh,uc,m.AFp]},{provide:m.FYo,useExisting:na},{provide:Mg,useExisting:uc},{provide:uc,useClass:uc,deps:[fe]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:lh,useClass:lh,deps:[ac,m.R0b]},{provide:class{},useClass:UT,deps:[]},[]];let ra=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:m.AFp,useValue:t.appId},{provide:BT,useExisting:m.AFp},jT]}}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(i,12))},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:ps,imports:[ci,m.hGG]}),i})();"undefined"!=typeof window&&window;var cn=F(57);let Hg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci]]}),i})();var tn=F(4402),Ge=F(5917),Mi=F(9765),gh=F(7971);class Nr extends Mi.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gh.N;return this._value}next(e){super.next(this._value=e)}}var fc=F(4869),mh=F(9796),di=F(7393);class Mb extends di.L{notifyNext(e,t,o,u,d){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Nb extends di.L{constructor(e,t,o){super(),this.parent=e,this.outerValue=t,this.outerIndex=o,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Rb=F(7444),Ni=F(7574);function rS(i,e,t,o,u=new Nb(i,t,o)){if(!u.closed)return e instanceof Ni.y?e.subscribe(u):(0,Rb.s)(e)(u)}var yh=F(6693);const yu={};class Ob{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new xb(e,this.resultSelector))}}class xb extends Mb{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(yu),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let o=0;o<t;o++)this.add(rS(this,e[o],void 0,o))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,o){const u=this.values,f=this.toRespond?u[o]===yu?--this.toRespond:this.toRespond:0;u[o]=t,0===f&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}const gc=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var vu=F(3282);function ms(...i){return(0,vu.J)(1)((0,Ge.of)(...i))}var zr=F(9193);function ia(i){return new Ni.y(e=>{let t;try{t=i()}catch(u){return void e.error(u)}return(t?(0,tn.D)(t):(0,zr.c)()).subscribe(e)})}var mc=F(2441),st=F(8002),hi=F(5345);function gr(i,e){return"function"==typeof e?t=>t.pipe(gr((o,u)=>(0,tn.D)(i(o,u)).pipe((0,st.U)((d,f)=>e(o,d,u,f))))):t=>t.lift(new kN(i))}class kN{constructor(e){this.project=e}call(e,t){return t.subscribe(new oS(e,this.project))}}class oS extends hi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(u){return void this.destination.error(u)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const o=new hi.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,hi.ft)(e,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Fb=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function jt(i){return e=>0===i?(0,zr.c)():e.lift(new sS(i))}class sS{constructor(e){if(this.total=e,this.total<0)throw new Fb}call(e,t){return t.subscribe(new Pb(e,this.total))}}class Pb extends di.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,o=++this.count;o<=t&&(this.destination.next(e),o===t&&(this.destination.complete(),this.unsubscribe()))}}function $g(...i){const e=i[i.length-1];return(0,fc.K)(e)?(i.pop(),t=>ms(i,t,e)):t=>ms(i,t)}function vh(i,e){let t=!1;return arguments.length>=2&&(t=!0),function(u){return u.lift(new LN(i,e,t))}}class LN{constructor(e,t,o=!1){this.accumulator=e,this.seed=t,this.hasSeed=o}call(e,t){return t.subscribe(new VN(e,this.accumulator,this.seed,this.hasSeed))}}class VN extends di.L{constructor(e,t,o,u){super(e),this.accumulator=t,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let o;try{o=this.accumulator(this.seed,e,t)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function No(i,e){return function(o){return o.lift(new BN(i,e))}}class BN{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new jN(e,this.predicate,this.thisArg))}}class jN extends di.L{constructor(e,t,o){super(e),this.predicate=t,this.thisArg=o,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}t&&this.destination.next(e)}}function _u(i){return function(t){const o=new UN(i),u=t.lift(o);return o.caught=u}}class UN{constructor(e){this.selector=e}call(e,t){return t.subscribe(new yc(e,this.selector,this.caught))}}class yc extends hi.Ds{constructor(e,t,o){super(e),this.selector=t,this.caught=o}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const o=new hi.IY(this);this.add(o);const u=(0,hi.ft)(t,o);u!==o&&this.add(u)}}}var Rr=F(9773);function Gt(i,e){return(0,Rr.zg)(i,e,1)}function bu(i){return function(t){return 0===i?(0,zr.c)():t.lift(new _h(i))}}class _h{constructor(e){if(this.total=e,this.total<0)throw new Fb}call(e,t){return t.subscribe(new HN(e,this.total))}}class HN extends di.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,o=this.total,u=this.count++;t.length<o?t.push(e):t[u%o]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let d=0;d<o;d++){const f=t++%o;e.next(u[f])}}e.complete()}}function kb(i=bh){return e=>e.lift(new fi(i))}class fi{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new ro(e,this.errorFactory))}}class ro extends di.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function bh(){return new gc}function ys(i=null){return e=>e.lift(new vs(i))}class vs{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Lb(e,this.defaultValue))}}class Lb extends di.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Vb=F(4487);function wu(i,e){const t=arguments.length>=2;return o=>o.pipe(i?No((u,d)=>i(u,d,o)):Vb.y,jt(1),t?ys(e):kb(()=>new gc))}var pi=F(3342),Bb=F(1307),Or=F(5319);class Eu{constructor(e){this.callback=e}call(e,t){return t.subscribe(new GN(e,this.callback))}}class GN extends di.L{constructor(e,t){super(e),this.add(new Or.w(t))}}class io{constructor(e,t){this.id=e,this.url=t}}class zg extends io{constructor(e,t,o="imperative",u=null){super(e,t),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends io{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jb extends io{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uS extends io{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lS extends io{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _c extends io{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wg extends io{constructor(e,t,o,u,d){super(e,t),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wh extends io{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $N extends io{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Eh{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Du{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cS{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dS{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hS{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ch{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gt="primary";class Kg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oo(i){return new Kg(i)}const oa="ngNavigationCancelingError";function Yg(i){const e=Error("NavigationCancelingError: "+i);return e[oa]=!0,e}function Ub(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const u={};for(let d=0;d<o.length;d++){const f=o[d],g=i[d];if(f.startsWith(":"))u[f.substring(1)]=g;else if(f!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function or(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let u;for(let d=0;d<t.length;d++)if(u=t[d],!Tu(i[u],e[u]))return!1;return!0}function Tu(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((u,d)=>o[d]===u)}return i===e}function Hb(i){return Array.prototype.concat.apply([],i)}function Qg(i){return i.length>0?i[i.length-1]:null}function sr(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function mr(i){return(0,m.CqO)(i)?i:(0,m.QGY)(i)?(0,tn.D)(Promise.resolve(i)):(0,Ge.of)(i)}const Dh={exact:function Th(i,e,t){if(!_s(i.segments,e.segments)||!Ah(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!Th(i.children[o],e.children[o],t))return!1;return!0},subset:Zg},Oo={exact:function(i,e){return or(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>Tu(i[t],e[t]))},ignored:()=>!0};function Gb(i,e,t){return Dh[t.paths](i.root,e.root,t.matrixParams)&&Oo[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function Zg(i,e,t){return qb(i,e,e.segments,t)}function qb(i,e,t,o){if(i.segments.length>t.length){const u=i.segments.slice(0,t.length);return!(!_s(u,t)||e.hasChildren()||!Ah(u,t,o))}if(i.segments.length===t.length){if(!_s(i.segments,t)||!Ah(i.segments,t,o))return!1;for(const u in e.children)if(!i.children[u]||!Zg(i.children[u],e.children[u],o))return!1;return!0}{const u=t.slice(0,i.segments.length),d=t.slice(i.segments.length);return!!(_s(i.segments,u)&&Ah(i.segments,u,o)&&i.children[gt])&&qb(i.children[gt],e,d,o)}}function Ah(i,e,t){return e.every((o,u)=>Oo[t](i[u].parameters,o.parameters))}class gi{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oo(this.queryParams)),this._queryParamMap}toString(){return gS.serialize(this)}}class ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sr(t,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ih(this)}}class bc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oo(this.parameters)),this._parameterMap}toString(){return Nh(this)}}function _s(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class zb{}class Wb{parse(e){const t=new wS(e);return new gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var i;return`${`/${bs(e.root,!0)}`}${function(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(u=>`${xo(t)}=${xo(u)}`).join("&"):`${xo(t)}=${xo(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${i=e.fragment,encodeURI(i)}`:""}`}}const gS=new Wb;function Ih(i){return i.segments.map(e=>Nh(e)).join("/")}function bs(i,e){if(!i.hasChildren())return Ih(i);if(e){const t=i.children[gt]?bs(i.children[gt],!1):"",o=[];return sr(i.children,(u,d)=>{d!==gt&&o.push(`${d}:${bs(u,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function(i,e){let t=[];return sr(i.children,(o,u)=>{u===gt&&(t=t.concat(e(o,u)))}),sr(i.children,(o,u)=>{u!==gt&&(t=t.concat(e(o,u)))}),t}(i,(o,u)=>u===gt?[bs(i.children[gt],!1)]:[`${u}:${bs(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[gt]?`${Ih(i)}/${t[0]}`:`${Ih(i)}/(${t.join("//")})`}}function Mh(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xo(i){return Mh(i).replace(/%3B/gi,";")}function Jg(i){return Mh(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xg(i){return decodeURIComponent(i)}function wc(i){return Xg(i.replace(/\+/g,"%20"))}function Nh(i){return`${Jg(i.path)}${function(i){return Object.keys(i).map(e=>`;${Jg(e)}=${Jg(i[e])}`).join("")}(i.parameters)}`}const Qb=/^[^\/()?;=#]+/;function so(i){const e=i.match(Qb);return e?e[0]:""}const yS=/^[^=?&#]+/,_S=/^[^?&#]+/;class wS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[gt]=new ht(e,t)),o}parseSegment(){const e=so(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new bc(Xg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=so(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const u=so(this.remaining);u&&(o=u,this.capture(o))}e[Xg(t)]=Xg(o)}parseQueryParam(e){const t=function(i){const e=i.match(yS);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const f=function(i){const e=i.match(_S);return e?e[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const u=wc(t),d=wc(o);if(e.hasOwnProperty(u)){let f=e[u];Array.isArray(f)||(f=[f],e[u]=f),f.push(d)}else e[u]=d}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=so(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=gt);const f=this.parseChildren();t[d]=1===Object.keys(f).length?f[gt]:new ht([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ao{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ws(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=ws(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==e)}pathFromRoot(e){return Rh(e,this._root).map(t=>t.value)}}function ws(i,e){if(i===e.value)return e;for(const t of e.children){const o=ws(i,t);if(o)return o}return null}function Rh(i,e){if(i===e.value)return[e];for(const t of e.children){const o=Rh(i,t);if(o.length)return o.unshift(e),o}return[]}class Fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ec(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class Zb extends ao{constructor(e,t){super(e),this.snapshot=t,t0(this,e)}toString(){return this.snapshot.toString()}}function Jb(i,e){const t=function(i,e){const f=new Oh([],{},{},"",{},gt,e,null,i.root,-1,{});return new e0("",new Fo(f,[]))}(i,e),o=new Nr([new bc("",{})]),u=new Nr({}),d=new Nr({}),f=new Nr({}),g=new Nr(""),_=new sa(o,u,f,g,d,gt,e,t.root);return _.snapshot=t.root,new Zb(new Fo(_,[]),t)}class sa{constructor(e,t,o,u,d,f,g,_){this.url=e,this.params=t,this.queryParams=o,this.fragment=u,this.data=d,this.outlet=f,this.component=g,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>oo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>oo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xb(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const u=t[o],d=t[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(d.component)break;o--}}return function(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Oh{constructor(e,t,o,u,d,f,g,_,w,C,T){this.url=e,this.params=t,this.queryParams=o,this.fragment=u,this.data=d,this.outlet=f,this.component=g,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e0 extends ao{constructor(e,t){super(t),this.url=e,t0(this,t)}toString(){return n0(this._root)}}function t0(i,e){e.value._routerState=i,e.children.forEach(t=>t0(i,t))}function n0(i){const e=i.children.length>0?` { ${i.children.map(n0).join(", ")} } `:"";return`${i.value}${e}`}function aa(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,or(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),or(e.params,t.params)||i.params.next(t.params),function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!or(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),or(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function xh(i,e){return or(i.params,e.params)&&function(i,e){return _s(i,e)&&i.every((t,o)=>or(t.parameters,e[o].parameters))}(i.url,e.url)&&!(!i.parent!=!e.parent)&&(!i.parent||xh(i.parent,e.parent))}function Es(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const u=function(i,e,t){return e.children.map(o=>{for(const u of t.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return Es(i,o,u);return Es(i,o)})}(i,e,t);return new Fo(o,u)}{if(i.shouldAttach(e.value)){const d=i.retrieve(e.value);if(null!==d){const f=d.route;return em(e,f),f}}const o=function(i){return new sa(new Nr(i.url),new Nr(i.params),new Nr(i.queryParams),new Nr(i.fragment),new Nr(i.data),i.outlet,i.component,i)}(e.value),u=e.children.map(d=>Es(i,d));return new Fo(o,u)}}function em(i,e){if(i.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=i.value;for(let t=0;t<i.children.length;++t)em(i.children[t],e.children[t])}function tm(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Fh(i){return"object"==typeof i&&null!=i&&i.outlets}function Cc(i,e,t,o,u){let d={};return o&&sr(o,(f,g)=>{d[g]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),new gi(t.root===i?e:Ph(t.root,i,e),d,u)}function Ph(i,e,t){const o={};return sr(i.children,(u,d)=>{o[d]=u===e?t:Ph(u,e,t)}),new ht(i.segments,o)}class kh{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&tm(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(Fh);if(u&&u!==Qg(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class o0{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function a0(i,e,t){if(i||(i=new ht([],{})),0===i.segments.length&&i.hasChildren())return Lh(i,e,t);const o=function(i,e,t){let o=0,u=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=t.length)return d;const f=i.segments[u],g=t[o];if(Fh(g))break;const _=`${g}`,w=o<t.length-1?t[o+1]:null;if(u>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!c0(_,w,f))return d;o+=2}else{if(!c0(_,{},f))return d;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,e,t),u=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const d=new ht(i.segments.slice(0,o.pathIndex),{});return d.children[gt]=new ht(i.segments.slice(o.pathIndex),i.children),Lh(d,0,u)}return o.match&&0===u.length?new ht(i.segments,{}):o.match&&!i.hasChildren()?Su(i,e,t):o.match?Lh(i,0,u):Su(i,e,t)}function Lh(i,e,t){if(0===t.length)return new ht(i.segments,{});{const o=function(i){return Fh(i[0])?i[0].outlets:{[gt]:i}}(t),u={};return sr(o,(d,f)=>{"string"==typeof d&&(d=[d]),null!==d&&(u[f]=a0(i.children[f],e,d))}),sr(i.children,(d,f)=>{void 0===o[f]&&(u[f]=d)}),new ht(i.segments,u)}}function Su(i,e,t){const o=i.segments.slice(0,e);let u=0;for(;u<t.length;){const d=t[u];if(Fh(d)){const _=l0(d.outlets);return new ht(o,_)}if(0===u&&tm(t[0])){o.push(new bc(i.segments[e].path,Vh(t[0]))),u++;continue}const f=Fh(d)?d.outlets[gt]:`${d}`,g=u<t.length-1?t[u+1]:null;f&&g&&tm(g)?(o.push(new bc(f,Vh(g))),u+=2):(o.push(new bc(f,{})),u++)}return new ht(o,{})}function l0(i){const e={};return sr(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=Su(new ht([],{}),0,t))}),e}function Vh(i){const e={};return sr(i,(t,o)=>e[o]=`${t}`),e}function c0(i,e,t){return i==t.path&&or(e,t.parameters)}class SS{constructor(e,t,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=u}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),aa(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const u=Ec(t);e.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,u[f],o),delete u[f]}),sr(u,(d,f)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(e,t,o){const u=e.value,d=t?t.value:null;if(u===d)if(u.component){const f=o.getContext(u.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,o);else d&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),u=o&&e.value.component?o.children:t,d=Ec(e);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const u=Ec(t);e.children.forEach(d=>{this.activateRoutes(d,u[d.value.outlet],o),this.forwardEvent(new hS(d.value.snapshot))}),e.children.length&&this.forwardEvent(new cS(e.value.snapshot))}activateRoutes(e,t,o){const u=e.value,d=t?t.value:null;if(aa(u),u===d)if(u.component){const f=o.getOrCreateContext(u.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,o);else if(u.component){const f=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const g=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),f.children.onOutletReAttached(g.contexts),f.attachRef=g.componentRef,f.route=g.route.value,f.outlet&&f.outlet.attach(g.componentRef,g.route.value),d0(g.route)}else{const g=function(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(u.snapshot),_=g?g.module.componentFactoryResolver:null;f.attachRef=null,f.route=u,f.resolver=_,f.outlet&&f.outlet.activateWith(u,_),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,o)}}function d0(i){aa(i.value),i.children.forEach(d0)}class Bh{constructor(e,t){this.routes=e,this.module=t}}function Cs(i){return"function"==typeof i}function ua(i){return i instanceof gi}const Po=Symbol("INITIAL_VALUE");function Rn(){return gr(i=>function(...i){let e,t;return(0,fc.K)(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&(0,mh.k)(i[0])&&(i=i[0]),(0,yh.n)(i,t).lift(new Ob(e))}(i.map(e=>e.pipe(jt(1),$g(Po)))).pipe(vh((e,t)=>{let o=!1;return t.reduce((u,d,f)=>u!==Po?u:(d===Po&&(o=!0),o||!1!==d&&f!==t.length-1&&!ua(d)?u:d),e)},Po),No(e=>e!==Po),(0,st.U)(e=>ua(e)?e:!0===e),jt(1)))}let jh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&m._UZ(0,"router-outlet")},directives:function(){return[Zh]},encapsulation:2}),i})();function rm(i,e=""){for(let t=0;t<i.length;t++){const o=i[t];h0(o,ar(e,o))}}function h0(i,e){i.children&&rm(i.children,e)}function ar(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function la(i){const e=i.children&&i.children.map(la),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==gt&&(t.component=jh),t}function xr(i){return i.outlet||gt}function f0(i,e){const t=i.filter(o=>xr(o)===e);return t.push(...i.filter(o=>xr(o)!==e)),t}const p0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Dc(i,e,t){var o;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},p0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(e.matcher||Ub)(t,i,e);if(!d)return Object.assign({},p0);const f={};sr(d.posParams,(_,w)=>{f[w]=_.path});const g=d.consumed.length>0?Object.assign(Object.assign({},f),d.consumed[d.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:g,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Uh(i,e,t,o,u="corrected"){if(t.length>0&&function(i,e,t){return t.some(o=>Hh(i,e,o)&&xr(o)!==gt)}(i,t,o)){const f=new ht(e,function(i,e,t,o){const u={};u[gt]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const d of t)if(""===d.path&&xr(d)!==gt){const f=new ht([],{});f._sourceSegment=i,f._segmentIndexShift=e.length,u[xr(d)]=f}return u}(i,e,o,new ht(t,i.children)));return f._sourceSegment=i,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(i,e,t){return t.some(o=>Hh(i,e,o))}(i,t,o)){const f=new ht(i.segments,function(i,e,t,o,u,d){const f={};for(const g of o)if(Hh(i,t,g)&&!u[xr(g)]){const _=new ht([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===d?i.segments.length:e.length,f[xr(g)]=_}return Object.assign(Object.assign({},u),f)}(i,e,t,o,i.children,u));return f._sourceSegment=i,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const d=new ht(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}function Hh(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function y0(i,e,t,o){return!!(xr(i)===o||o!==gt&&Hh(e,t,i))&&("**"===i.path||Dc(e,i,t).matched)}function im(i,e,t){return 0===e.length&&!i.children[t]}class ca{constructor(e){this.segmentGroup=e||null}}class om{constructor(e){this.urlTree=e}}function Gh(i){return new Ni.y(e=>e.error(new ca(i)))}function OS(i){return new Ni.y(e=>e.error(new om(i)))}function v0(i){return new Ni.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class FS{constructor(e,t,o,u,d){this.configLoader=t,this.urlSerializer=o,this.urlTree=u,this.config=d,this.allowRedirects=!0,this.ngModule=e.get(m.h0i)}apply(){const e=Uh(this.urlTree.root,[],[],this.config).segmentGroup,t=new ht(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,gt).pipe((0,st.U)(d=>this.createUrlTree(sm(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_u(d=>{if(d instanceof om)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof ca?this.noMatchError(d):d}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,gt).pipe((0,st.U)(u=>this.createUrlTree(sm(u),e.queryParams,e.fragment))).pipe(_u(u=>{throw u instanceof ca?this.noMatchError(u):u}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const u=e.segments.length>0?new ht([],{[gt]:e}):e;return new gi(u,t,o)}expandSegmentGroup(e,t,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe((0,st.U)(d=>new ht([],d))):this.expandSegment(e,o,t,o.segments,u,!0)}expandChildren(e,t,o){const u=[];for(const d of Object.keys(o.children))"primary"===d?u.unshift(d):u.push(d);return(0,tn.D)(u).pipe(Gt(d=>{const f=o.children[d],g=f0(t,d);return this.expandSegmentGroup(e,g,f,d).pipe((0,st.U)(_=>({segment:_,outlet:d})))}),vh((d,f)=>(d[f.outlet]=f.segment,d),{}),function(i,e){const t=arguments.length>=2;return o=>o.pipe(i?No((u,d)=>i(u,d,o)):Vb.y,bu(1),t?ys(e):kb(()=>new gc))}())}expandSegment(e,t,o,u,d,f){return(0,tn.D)(o).pipe(Gt(g=>this.expandSegmentAgainstRoute(e,t,o,g,u,d,f).pipe(_u(w=>{if(w instanceof ca)return(0,Ge.of)(null);throw w}))),wu(g=>!!g),_u((g,_)=>{if(g instanceof gc||"EmptyError"===g.name){if(im(t,u,d))return(0,Ge.of)(new ht([],{}));throw new ca(t)}throw g}))}expandSegmentAgainstRoute(e,t,o,u,d,f,g){return y0(u,t,d,f)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(e,t,u,d,f):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,u,d,f):Gh(t):Gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,u,d,f){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,u,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,u,d,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,u){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?OS(d):this.lineralizeSegments(o,d).pipe((0,Rr.zg)(f=>{const g=new ht(f,{});return this.expandSegment(e,g,t,f,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,u,d,f){const{matched:g,consumedSegments:_,lastChild:w,positionalParamSegments:C}=Dc(t,u,d);if(!g)return Gh(t);const T=this.applyRedirectCommands(_,u.redirectTo,C);return u.redirectTo.startsWith("/")?OS(T):this.lineralizeSegments(u,T).pipe((0,Rr.zg)(S=>this.expandSegment(e,t,o,S.concat(d.slice(w)),f,!1)))}matchSegmentAgainstRoute(e,t,o,u,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ge.of)(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe((0,st.U)(S=>(o._loadedConfig=S,new ht(u,{})))):(0,Ge.of)(new ht(u,{}));const{matched:f,consumedSegments:g,lastChild:_}=Dc(t,o,u);if(!f)return Gh(t);const w=u.slice(_);return this.getChildConfig(e,o,u).pipe((0,Rr.zg)(T=>{const S=T.module,N=T.routes,{segmentGroup:R,slicedSegments:k}=Uh(t,g,w,N),$=new ht(R.segments,R.children);if(0===k.length&&$.hasChildren())return this.expandChildren(S,N,$).pipe((0,st.U)(Te=>new ht(g,Te)));if(0===N.length&&0===k.length)return(0,Ge.of)(new ht(g,{}));const Y=xr(o)===d;return this.expandSegment(S,$,N,k,Y?gt:d,!0).pipe((0,st.U)(pe=>new ht(g.concat(pe.segments),pe.children)))}))}getChildConfig(e,t,o){return t.children?(0,Ge.of)(new Bh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ge.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe((0,Rr.zg)(u=>{return u?this.configLoader.load(e.injector,t).pipe((0,st.U)(d=>(t._loadedConfig=d,d))):(i=t,new Ni.y(e=>e.error(Yg(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Ge.of)(new Bh([],e))}runCanLoadGuards(e,t,o){const u=t.canLoad;if(!u||0===u.length)return(0,Ge.of)(!0);const d=u.map(f=>{const g=e.get(f);let _;if((i=g)&&Cs(i.canLoad))_=g.canLoad(t,o);else{if(!Cs(g))throw new Error("Invalid CanLoad guard");_=g(t,o)}var i;return mr(_)});return(0,Ge.of)(d).pipe(Rn(),(0,pi.b)(f=>{if(!ua(f))return;const g=Yg(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw g.url=f,g}),(0,st.U)(f=>!0===f))}lineralizeSegments(e,t){let o=[],u=t.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Ge.of)(o);if(u.numberOfChildren>1||!u.children[gt])return v0(e.redirectTo);u=u.children[gt]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,u){const d=this.createSegmentGroup(e,t.root,o,u);return new gi(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return sr(e,(u,d)=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);o[d]=t[g]}else o[d]=u}),o}createSegmentGroup(e,t,o,u){const d=this.createSegments(e,t.segments,o,u);let f={};return sr(t.children,(g,_)=>{f[_]=this.createSegmentGroup(e,g,o,u)}),new ht(d,f)}createSegments(e,t,o,u){return t.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,u):this.findOrReturn(d,o))}findPosParam(e,t,o){const u=o[t.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return u}findOrReturn(e,t){let o=0;for(const u of t){if(u.path===e.path)return t.splice(o),u;o++}return e}}function sm(i){const e={};for(const o of Object.keys(i.children)){const d=sm(i.children[o]);(d.segments.length>0||d.hasChildren())&&(e[o]=d)}return function(i){if(1===i.numberOfChildren&&i.children[gt]){const e=i.children[gt];return new ht(i.segments.concat(e.segments),e.children)}return i}(new ht(i.segments,e))}class _0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qh{constructor(e,t){this.component=e,this.route=t}}function kS(i,e,t){const o=i._root;return Tc(o,e?e._root:null,t,[o.value])}function yr(i,e,t){const o=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:t).get(i)}function Tc(i,e,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ec(e);return i.children.forEach(f=>{(function(i,e,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,f=e?e.value:null,g=t?t.getContext(i.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const _=function(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!_s(i.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(i.url,e.url)||!or(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xh(i,e)||!or(i.queryParams,e.queryParams);case"paramsChange":default:return!xh(i,e)}}(f,d,d.routeConfig.runGuardsAndResolvers);_?u.canActivateChecks.push(new _0(o)):(d.data=f.data,d._resolvedData=f._resolvedData),Tc(i,e,d.component?g?g.children:null:t,o,u),_&&g&&g.outlet&&g.outlet.isActivated&&u.canDeactivateChecks.push(new qh(g.outlet.component,f))}else f&&Wh(e,g,u),u.canActivateChecks.push(new _0(o)),Tc(i,null,d.component?g?g.children:null:t,o,u)})(f,d[f.value.outlet],t,o.concat([f.value]),u),delete d[f.value.outlet]}),sr(d,(f,g)=>Wh(f,t.getContext(g),u)),u}function Wh(i,e,t){const o=Ec(i),u=i.value;sr(o,(d,f)=>{Wh(d,u.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new qh(u.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,u))}class D0{}function jS(i){return new Ni.y(e=>e.error(i))}class am{constructor(e,t,o,u,d,f){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f}recognize(){const e=Uh(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,gt);if(null===t)return null;const o=new Oh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Fo(o,t),d=new e0(this.url,u);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(e){const t=e.value,o=Xb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const d of Object.keys(t.children)){const f=t.children[d],g=f0(e,d),_=this.processSegmentGroup(g,f,d);if(null===_)return null;o.push(..._)}const u=Mu(o);return u.sort((e,t)=>e.value.outlet===gt?-1:t.value.outlet===gt?1:e.value.outlet.localeCompare(t.value.outlet)),u}processSegment(e,t,o,u){for(const d of e){const f=this.processSegmentAgainstRoute(d,t,o,u);if(null!==f)return f}return im(t,o,u)?[]:null}processSegmentAgainstRoute(e,t,o,u){if(e.redirectTo||!y0(e,t,o,u))return null;let d,f=[],g=[];if("**"===e.path){const N=o.length>0?Qg(o).parameters:{};d=new Oh(o,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yh(e),xr(e),e.component,e,lm(t),Kh(t)+o.length,cm(e))}else{const N=Dc(t,e,o);if(!N.matched)return null;f=N.consumedSegments,g=o.slice(N.lastChild),d=new Oh(f,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yh(e),xr(e),e.component,e,lm(t),Kh(t)+f.length,cm(e))}const _=(i=e).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:C}=Uh(t,f,g,_.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);var i;if(0===C.length&&w.hasChildren()){const N=this.processChildren(_,w);return null===N?null:[new Fo(d,N)]}if(0===_.length&&0===C.length)return[new Fo(d,[])];const T=xr(e)===u,S=this.processSegment(_,w,C,T?gt:u);return null===S?null:[new Fo(d,S)]}}function T0(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Mu(i){const e=[],t=new Set;for(const o of i){if(!T0(o)){e.push(o);continue}const u=e.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==u?(u.children.push(...o.children),t.add(u)):e.push(o)}for(const o of t){const u=Mu(o.children);e.push(new Fo(o.value,u))}return e.filter(o=>!t.has(o))}function lm(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kh(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Yh(i){return i.data||{}}function cm(i){return i.resolve||{}}function Sc(i){return gr(e=>{const t=i(e);return t?(0,tn.D)(t).pipe((0,st.U)(()=>e)):(0,Ge.of)(e)})}class zS extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hm=new m.OlP("ROUTES");class A0{constructor(e,t,o,u){this.loader=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=u}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const u=this.loadModuleFactory(t.loadChildren).pipe((0,st.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=d.create(e);return new Bh(Hb(f.injector.get(hm,void 0,m.XFs.Self|m.XFs.Optional)).map(la),f)}),_u(d=>{throw t._loader$=void 0,d}));return t._loader$=new mc.c(u,()=>new Mi.xQ).pipe((0,Bb.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,tn.D)(this.loader.load(e)):mr(e()).pipe((0,Rr.zg)(t=>t instanceof m.YKP?(0,Ge.of)(t):(0,tn.D)(this.compiler.compileModuleAsync(t))))}}class WS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new da,this.attachRef=null}}class da{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new WS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class I0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pm(i){throw i}function KS(i,e,t){return e.parse("/")}function M0(i,e){return(0,Ge.of)(null)}const N0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dn=(()=>{class i{constructor(t,o,u,d,f,g,_,w){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=u,this.location=d,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mi.xQ,this.errorHandler=pm,this.malformedUriErrorHandler=KS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:M0,afterPreactivation:M0},this.urlHandlingStrategy=new I0,this.routeReuseStrategy=new zS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(m.h0i),this.console=f.get(m.c2e);const S=f.get(m.R0b);this.isNgZoneEnabled=S instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new gi(new ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new A0(g,_,N=>this.triggerEvent(new Cu(N)),N=>this.triggerEvent(new Eh(N))),this.routerState=Jb(this.currentUrlTree,this.rootComponentType),this.transitions=new Nr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(No(u=>0!==u.id),(0,st.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),gr(u=>{let d=!1,f=!1;return(0,Ge.of)(u).pipe((0,pi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gr(g=>{const _=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Ac(g.source)&&(this.browserUrlTree=g.extractedUrl),(0,Ge.of)(g).pipe(gr(T=>{const S=this.transitions.getValue();return o.next(new zg(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),S!==this.transitions.getValue()?zr.E:Promise.resolve(T)}),function(i,e,t,o){return gr(u=>function(i,e,t,o,u){return new FS(i,e,t,o,u).apply()}(i,e,t,u.extractedUrl,o).pipe((0,st.U)(d=>Object.assign(Object.assign({},u),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pi.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(i,e,t,o,u){return(0,Rr.zg)(d=>function(i,e,t,o,u="emptyOnly",d="legacy"){try{const f=new am(i,e,t,o,u,d).recognize();return null===f?jS(new D0):(0,Ge.of)(f)}catch(f){return jS(f)}}(i,e,d.urlAfterRedirects,t(d.urlAfterRedirects),o,u).pipe((0,st.U)(f=>Object.assign(Object.assign({},d),{targetSnapshot:f}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pi.b)(T=>{"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(T.urlAfterRedirects,T),this.browserUrlTree=T.urlAfterRedirects);const S=new lS(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);o.next(S)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:N,source:R,restoredState:k,extras:$}=g,Y=new zg(S,this.serializeUrl(N),R,k);o.next(Y);const he=Jb(N,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},g),{targetSnapshot:he,urlAfterRedirects:N,extras:Object.assign(Object.assign({},$),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),zr.E}),Sc(g=>{const{targetSnapshot:_,id:w,extractedUrl:C,rawUrl:T,extras:{skipLocationChange:S,replaceUrl:N}}=g;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:C,rawUrlTree:T,skipLocationChange:!!S,replaceUrl:!!N})}),(0,pi.b)(g=>{const _=new _c(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,st.U)(g=>Object.assign(Object.assign({},g),{guards:kS(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(i,e){return(0,Rr.zg)(t=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:d,canDeactivateChecks:f}}=t;return 0===f.length&&0===d.length?(0,Ge.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(i,e,t,o){return(0,tn.D)(i).pipe((0,Rr.zg)(u=>function(i,e,t,o,u){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Ge.of)(!0);const f=d.map(g=>{const _=yr(g,e,u);let w;if(function(i){return i&&Cs(i.canDeactivate)}(_))w=mr(_.canDeactivate(i,e,t,o));else{if(!Cs(_))throw new Error("Invalid CanDeactivate guard");w=mr(_(i,e,t,o))}return w.pipe(wu())});return(0,Ge.of)(f).pipe(Rn())}(u.component,u.route,t,e,o)),wu(u=>!0!==u,!0))}(f,o,u,i).pipe((0,Rr.zg)(g=>g&&function(i){return"boolean"==typeof i}(g)?function(i,e,t,o){return(0,tn.D)(e).pipe(Gt(u=>ms(function(i,e){return null!==i&&e&&e(new Du(i)),(0,Ge.of)(!0)}(u.route.parent,o),function(i,e){return null!==i&&e&&e(new dS(i)),(0,Ge.of)(!0)}(u.route,o),function(i,e,t){const o=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(f=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(f)).filter(f=>null!==f).map(f=>ia(()=>{const g=f.guards.map(_=>{const w=yr(_,f.node,t);let C;if(function(i){return i&&Cs(i.canActivateChild)}(w))C=mr(w.canActivateChild(o,i));else{if(!Cs(w))throw new Error("Invalid CanActivateChild guard");C=mr(w(o,i))}return C.pipe(wu())});return(0,Ge.of)(g).pipe(Rn())}));return(0,Ge.of)(d).pipe(Rn())}(i,u.path,t),function(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ge.of)(!0);const u=o.map(d=>ia(()=>{const f=yr(d,e,t);let g;if(function(i){return i&&Cs(i.canActivate)}(f))g=mr(f.canActivate(e,i));else{if(!Cs(f))throw new Error("Invalid CanActivate guard");g=mr(f(e,i))}return g.pipe(wu())}));return(0,Ge.of)(u).pipe(Rn())}(i,u.route,t))),wu(u=>!0!==u,!0))}(o,d,i,e):(0,Ge.of)(g)),(0,st.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,pi.b)(g=>{if(ua(g.guardsResult)){const w=Yg(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw w.url=g.guardsResult,w}const _=new Wg(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),No(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Sc(g=>{if(g.guards.canActivateChecks.length)return(0,Ge.of)(g).pipe((0,pi.b)(_=>{const w=new wh(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),gr(_=>{let w=!1;return(0,Ge.of)(_).pipe(function(i,e){return(0,Rr.zg)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=t;if(!u.length)return(0,Ge.of)(t);let d=0;return(0,tn.D)(u).pipe(Gt(f=>function(i,e,t,o){return function(i,e,t,o){const u=Object.keys(i);if(0===u.length)return(0,Ge.of)({});const d={};return(0,tn.D)(u).pipe((0,Rr.zg)(f=>function(i,e,t,o){const u=yr(i,e,o);return mr(u.resolve?u.resolve(e,t):u(e,t))}(i[f],e,t,o).pipe((0,pi.b)(g=>{d[f]=g}))),bu(1),(0,Rr.zg)(()=>Object.keys(d).length===u.length?(0,Ge.of)(d):zr.E))}(i._resolve,i,e,o).pipe((0,st.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Xb(i,t).resolve),null)))}(f.route,o,i,e)),(0,pi.b)(()=>d++),bu(1),(0,Rr.zg)(f=>d===u.length?(0,Ge.of)(t):zr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pi.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,pi.b)(_=>{const w=new $N(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Sc(g=>{const{targetSnapshot:_,id:w,extractedUrl:C,rawUrl:T,extras:{skipLocationChange:S,replaceUrl:N}}=g;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:C,rawUrlTree:T,skipLocationChange:!!S,replaceUrl:!!N})}),(0,st.U)(g=>{const _=function(i,e,t){const o=Es(i,e._root,t?t._root:void 0);return new Zb(o,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:_})}),(0,pi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,e,t)=>(0,st.U)(o=>(new SS(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,pi.b)({next(){d=!0},complete(){d=!0}}),function(i){return e=>e.lift(new Eu(i))}(()=>{var g;if(!d&&!f){const _=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,_)):this.cancelNavigationTransition(u,_)}(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===u.id&&(this.currentNavigation=null)}),_u(g=>{if(f=!0,function(i){return i&&i[oa]}(g)){const _=ua(g.url);_||(this.navigated=!0,this.restoreHistory(u,!0));const w=new jb(u.id,this.serializeUrl(u.extractedUrl),g.message);o.next(w),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),T={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ac(u.source)};this.scheduleNavigation(C,"imperative",null,T,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const _=new uS(u.id,this.serializeUrl(u.extractedUrl),g);o.next(_);try{u.resolve(this.errorHandler(g))}catch(w){u.reject(w)}}return zr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:d,urlTree:f}=o,g={replaceUrl:!0};if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(g.state=_)}this.scheduleNavigation(f,u,d,g)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(t){var o;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,o){if(!t)return!0;const u=o.urlTree.toString()===t.urlTree.toString();return o.transitionId!==t.transitionId||!u||!("hashchange"===o.source&&"popstate"===t.source||"popstate"===o.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){rm(t),this.config=t.map(la),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:u,queryParams:d,fragment:f,queryParamsHandling:g,preserveFragment:_}=o,w=u||this.routerState.root,C=_?this.currentUrlTree.fragment:f;let T=null;switch(g){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=d||null}return null!==T&&(T=this.removeEmptyProps(T)),function(i,e,t,o,u){if(0===t.length)return Cc(e.root,e.root,e,o,u);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new kh(!0,0,i);let e=0,t=!1;const o=i.reduce((u,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const g={};return sr(d.outlets,(_,w)=>{g[w]="string"==typeof _?_.split("/"):_}),[...u,{outlets:g}]}if(d.segmentPath)return[...u,d.segmentPath]}return"string"!=typeof d?[...u,d]:0===f?(d.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&u.push(g))}),u):[...u,d]},[]);return new kh(t,e,o)}(t);if(d.toRoot())return Cc(e.root,new ht([],{}),e,o,u);const f=function(i,e,t){if(i.isAbsolute)return new o0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const d=t.snapshot._urlSegment;return new o0(d,d===e.root,0)}const o=tm(i.commands[0])?0:1;return function(i,e,t){let o=i,u=e,d=t;for(;d>u;){if(d-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new o0(o,!1,u-d)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(d,e,i),g=f.processChildren?Lh(f.segmentGroup,f.index,d.commands):a0(f.segmentGroup,f.index,d.commands);return Cc(f.segmentGroup,g,e,o,u)}(w,this.currentUrlTree,t,T,null!=C?C:null)}navigateByUrl(t,o={skipLocationChange:!1}){const u=ua(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return o}isActive(t,o){let u;if(u=!0===o?Object.assign({},N0):!1===o?Object.assign({},R0):o,ua(t))return Gb(this.currentUrlTree,t,u);const d=this.parseUrl(t);return Gb(this.currentUrlTree,d,u)}removeEmptyProps(t){return Object.keys(t).reduce((o,u)=>{const d=t[u];return null!=d&&(o[u]=d),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new vc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,u,d,f){var g,_;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),C=Ac(o)&&w&&!Ac(w.source),N=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===t.toString();if(C&&N)return Promise.resolve(!0);let R,k,$;f?(R=f.resolve,k=f.reject,$=f.promise):$=new Promise((pe,Te)=>{R=pe,k=Te});const Y=++this.navigationId;let he;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),he=u&&u.\u0275routerPageId?u.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):he=0,this.setTransition({id:Y,targetPageId:he,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:d,resolve:R,reject:k,promise:$,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$.catch(pe=>Promise.reject(pe))}setBrowserUrl(t,o){const u=this.urlSerializer.serialize(t),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",d):this.location.go(u,"",d)}restoreHistory(t,o=!1){var u,d;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===f?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const u=new jb(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.DyG),m.LFG(zb),m.LFG(da),m.LFG(Oe),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();function Ac(i){return"imperative"!==i}let Qh=(()=>{class i{constructor(t,o,u,d,f){this.router=t,this.route=o,this.commands=[],this.onChanges=new Mi.xQ,null==u&&d.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Ru(this.skipLocationChange),replaceUrl:Ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ru(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(dn),m.Y36(sa),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},i.\u0275dir=m.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,o){1&t&&m.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),i})(),ko=(()=>{class i{constructor(t,o,u){this.router=t,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new Mi.xQ,this.subscription=t.events.subscribe(d=>{d instanceof vc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,u,d,f){if(0!==t||o||u||d||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const g={skipLocationChange:Ru(this.skipLocationChange),replaceUrl:Ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ru(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(dn),m.Y36(sa),m.Y36(ue))},i.\u0275dir=m.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&m.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&t&&(m.Ikx("href",o.href,m.LSH),m.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),i})();function Ru(i){return""===i||!!i}let Zh=(()=>{class i{constructor(t,o,u,d,f){this.parentContexts=t,this.location=o,this.resolver=u,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=d||gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,_=new gm(t,g,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(da),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},i.\u0275dir=m.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class gm{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===sa?this.route:e===da?this.childContexts:this.parent.get(e,t)}}class mm{}class Ic{preload(e,t){return(0,Ge.of)(null)}}let ym=(()=>{class i{constructor(t,o,u,d,f){this.router=t,this.injector=d,this.preloadingStrategy=f,this.loader=new A0(o,u,w=>t.triggerEvent(new Cu(w)),w=>t.triggerEvent(new Eh(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(No(t=>t instanceof vc),Gt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(m.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const u=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const f=d._loadedConfig;u.push(this.processRoutes(f.module,f.routes))}else d.loadChildren&&!d.canLoad?u.push(this.preloadConfig(t,d)):d.children&&u.push(this.processRoutes(t,d.children));return(0,tn.D)(u).pipe((0,vu.J)(),(0,st.U)(d=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ge.of)(o._loadedConfig):this.loader.load(t.injector,o)).pipe((0,Rr.zg)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(dn),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(mm))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Mc=(()=>{class i{constructor(t,o,u={}){this.router=t,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ch&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new Ch(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(dn),m.LFG(Cg),m.LFG(void 0))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const Lo=new m.OlP("ROUTER_CONFIGURATION"),Ou=new m.OlP("ROUTER_FORROOT_GUARD"),P0=[Oe,{provide:zb,useClass:Wb},{provide:dn,useFactory:function(i,e,t,o,u,d,f,g={},_,w){const C=new dn(null,i,e,t,o,u,d,Hb(f));return _&&(C.urlHandlingStrategy=_),w&&(C.routeReuseStrategy=w),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy)}(g,C),g.enableTracing&&C.events.subscribe(T=>{var S,N;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(N=console.groupEnd)||void 0===N||N.call(console)}),C},deps:[zb,da,Oe,m.zs3,m.v3s,m.Sil,hm,Lo,[class{},new m.FiY],[class{},new m.FiY]]},da,{provide:sa,useFactory:function(i){return i.routerState.root},deps:[dn]},{provide:m.v3s,useClass:m.EAV},ym,Ic,class{preload(e,t){return t().pipe(_u(()=>(0,Ge.of)(null)))}},{provide:Lo,useValue:{enableTracing:!1}}];function ZS(){return new m.PXZ("Router",dn)}let Ds=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[P0,JS(t),{provide:Ou,useFactory:L0,deps:[[dn,new m.FiY,new m.tp0]]},{provide:Lo,useValue:o||{}},{provide:ue,useFactory:vm,deps:[de,[new m.tBr(Ae),new m.FiY],Lo]},{provide:Mc,useFactory:k0,deps:[dn,Cg,Lo]},{provide:mm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Ic},{provide:m.PXZ,multi:!0,useFactory:ZS},[_m,{provide:m.ip1,multi:!0,useFactory:eA,deps:[_m]},{provide:j0,useFactory:Ri,deps:[_m]},{provide:m.tb,multi:!0,useExisting:j0}]]}}static forChild(t){return{ngModule:i,providers:[JS(t)]}}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(Ou,8),m.LFG(dn,8))},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({}),i})();function k0(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mc(i,e,t)}function vm(i,e,t={}){return t.useHash?new Ye(i,e):new De(i,e)}function L0(i){return"guarded"}function JS(i){return[{provide:m.deG,multi:!0,useValue:i},{provide:hm,multi:!0,useValue:i}]}let _m=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mi.xQ}appInitializer(){return this.injector.get(x,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(g=>o=g),d=this.injector.get(dn),f=this.injector.get(Lo);return"disabled"===f.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),u})}bootstrapListener(t){const o=this.injector.get(Lo),u=this.injector.get(ym),d=this.injector.get(Mc),f=this.injector.get(dn),g=this.injector.get(m.z2F);t===g.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&f.initialNavigation(),u.setUpPreloading(),d.init(),f.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.zs3))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();function eA(i){return i.appInitializer.bind(i)}function Ri(i){return i.bootstrapListener.bind(i)}const j0=new m.OlP("Router Initializer");let H0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci,Ds]]}),i})(),G0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci]]}),i})();var tA=F(3637);function Xh(){return i=>i.lift(new nA)}class nA{call(e,t){return t.subscribe(new rA(e))}}class rA extends di.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class it{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new $0(e,this.compare,this.keySelector))}}class $0 extends di.L{constructor(e,t,o){super(e),this.keySelector=o,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:u}=this;t=u?u(e):e}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,t)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=t,this.destination.next(e))}}var Vo=F(309),ef=F(2329),Oi=F(9759),M=F(4762),It=F(4685),Bo=F(300),xi=function(i,e){return(xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])})(i,e)};function wm(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,Em="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tf=tf||{},at=Em||self;function mi(){}function xu(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ts(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var q0="closure_uid_"+(1e9*Math.random()>>>0),oA=0;function z0(i,e,t){return i.call.apply(i.bind,arguments)}function tR(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Wn(i,e,t){return(Wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?z0:tR).apply(null,arguments)}function Dm(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function kn(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var f=Array(arguments.length-2),g=2;g<arguments.length;g++)f[g-2]=arguments[g];return e.prototype[u].apply(o,f)}}function jo(){this.s=this.s,this.o=this.o}var Tm={};jo.prototype.s=!1,jo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,q0)&&i[q0]||(i[q0]=++oA)}(this);delete Tm[i]}},jo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var aA=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(var t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},uA=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){for(var o=i.length,u="string"==typeof i?i.split(""):i,d=0;d<o;d++)d in u&&e.call(t,u[d],d,i)};function lA(i){return Array.prototype.concat.apply([],arguments)}function W0(i){var e=i.length;if(0<e){for(var t=Array(e),o=0;o<e;o++)t[o]=i[o];return t}return[]}function Sm(i){return/^[\s\xa0]*$/.test(i)}var Pr,cA=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Fr(i,e){return-1!=i.indexOf(e)}function K0(i,e){return i<e?-1:i>e?1:0}e:{var dA=at.navigator;if(dA){var Uo=dA.userAgent;if(Uo){Pr=Uo;break e}}Pr=""}function Nc(i,e,t){for(var o in i)e.call(t,i[o],o,i)}function Y0(i){var e={};for(var t in i)e[t]=i[t];return e}var Am="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nf(i,e){for(var t,o,u=1;u<arguments.length;u++){for(t in o=arguments[u])i[t]=o[t];for(var d=0;d<Am.length;d++)t=Am[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function rf(i){return rf[" "](i),i}rf[" "]=mi;var Rc,i,hA=Fr(Pr,"Opera"),Wr=Fr(Pr,"Trident")||Fr(Pr,"MSIE"),Mm=Fr(Pr,"Edge"),Nm=Mm||Wr,fA=Fr(Pr,"Gecko")&&!(Fr(Pr.toLowerCase(),"webkit")&&!Fr(Pr,"Edge"))&&!(Fr(Pr,"Trident")||Fr(Pr,"MSIE"))&&!Fr(Pr,"Edge"),Rm=Fr(Pr.toLowerCase(),"webkit")&&!Fr(Pr,"Edge");function Q0(){var i=at.document;return i?i.documentMode:void 0}e:{var Om="",xm=(i=Pr,fA?/rv:([^\);]+)(\)|;)/.exec(i):Mm?/Edge\/([\d\.]+)/.exec(i):Wr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Rm?/WebKit\/(\S+)/.exec(i):hA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(xm&&(Om=xm?xm[1]:""),Wr){var ha=Q0();if(null!=ha&&ha>parseFloat(Om)){Rc=String(ha);break e}}Rc=Om}var Fu={};function Fm(){return e=Fu,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var i=0,e=cA(String(Rc)).split("."),t=cA("9").split("."),o=Math.max(e.length,t.length),u=0;0==i&&u<o;u++){var d=e[u]||"",f=t[u]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==d[0].length&&0==f[0].length)break;i=K0(0==d[1].length?0:parseInt(d[1],10),0==f[1].length?0:parseInt(f[1],10))||K0(0==d[2].length,0==f[2].length)||K0(d[2],f[2]),d=d[3],f=f[3]}while(0==i)}return 0<=i}();var e}var ku=at.document&&Wr&&(Q0()||parseInt(Rc,10))||void 0,pA=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{at.addEventListener("test",mi,e),at.removeEventListener("test",mi,e)}catch(t){}return i}();function Kn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Lu(i,e){if(Kn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(fA){e:{try{rf(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pm[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Lu.Z.h.call(this)}}Kn.prototype.h=function(){this.defaultPrevented=!0},kn(Lu,Kn);var Pm={2:"touch",3:"pen",4:"mouse"};Lu.prototype.h=function(){Lu.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),Z0=0;function of(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++Z0,this.ca=this.fa=!1}function sf(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Oc(i){this.src=i,this.g={},this.h=0}function J0(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=aA(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(sf(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function af(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==o)return u}return-1}Oc.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var f=af(i,e,o,u);return-1<f?(e=i[f],t||(e.fa=!1)):((e=new of(e,this.src,d,!!o,u)).fa=t,i.push(e)),e};var uf="closure_lm_"+(1e6*Math.random()|0),km={};function Lm(i,e,t,o,u){if(o&&o.once)return kr(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Lm(i,e[d],t,o,u);return null}return t=Bm(t),i&&i[fa]?i.N(e,t,Ts(o)?!!o.capture:!!o,u):X0(i,e,t,!1,o,u)}function X0(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var f=Ts(u)?!!u.capture:!!u,g=lf(i);if(g||(i[uf]=g=new Oc(i)),(t=g.add(e,t,o,f,d)).proxy)return t;if(o=function(){var e=rR;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)pA||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(mA(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function kr(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)kr(i,e[d],t,o,u);return null}return t=Bm(t),i&&i[fa]?i.O(e,t,Ts(o)?!!o.capture:!!o,u):X0(i,e,t,!0,o,u)}function ew(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)ew(i,e[d],t,o,u);else o=Ts(o)?!!o.capture:!!o,t=Bm(t),i&&i[fa]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=af(d=i.g[e],t,o,u))&&(sf(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=lf(i))&&(e=i.g[e.toString()],i=-1,e&&(i=af(e,t,o,u)),(t=-1<i?e[i]:null)&&Vm(t))}function Vm(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[fa])J0(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(mA(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=lf(e))?(J0(t,i),0==t.h&&(t.src=null,e[uf]=null)):sf(i)}}}function mA(i){return i in km?km[i]:km[i]="on"+i}function rR(i,e){if(i.ca)i=!0;else{e=new Lu(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Vm(i),i=t.call(o,e)}return i}function lf(i){return(i=i[uf])instanceof Oc?i:null}var tw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bm(i){return"function"==typeof i?i:(i[tw]||(i[tw]=function(e){return i.handleEvent(e)}),i[tw])}function wn(){jo.call(this),this.i=new Oc(this),this.P=this,this.I=null}function Ln(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Kn(e,i);else if(e instanceof Kn)e.target=e.target||i;else{var u=e;nf(e=new Kn(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var f=e.g=t[d];u=cf(f,o,!0,e)&&u}if(u=cf(f=e.g=i,o,!0,e)&&u,u=cf(f,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=cf(f=e.g=t[d],o,!1,e)&&u}function cf(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var f=e[d];if(f&&!f.ca&&f.capture==t){var g=f.listener,_=f.ia||f.src;f.fa&&J0(i.i,f),u=!1!==g.call(_,o)&&u}}return u&&!o.defaultPrevented}kn(wn,jo),wn.prototype[fa]=!0,wn.prototype.removeEventListener=function(i,e,t,o){ew(this,i,e,t,o)},wn.prototype.M=function(){if(wn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)sf(t[o]);delete i.g[e],i.h--}}this.I=null},wn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},wn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var jm=at.JSON.stringify;function yA(){var i=Fi,e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var df,nw=function(){function i(){this.h=this.g=null}return i.prototype.add=function(e,t){var o=rw.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o},i}(),rw=new(function(){function i(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return i.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},i}())(function(){return new iw},function(i){return i.reset()}),iw=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function vA(i){at.setTimeout(function(){throw i},0)}function Um(i,e){df||function(){var i=at.Promise.resolve(void 0);df=function(){i.then(Gm)}}(),Hm||(df(),Hm=!0),Fi.add(i,e)}var Hm=!1,Fi=new nw;function Gm(){for(var i;i=yA();){try{i.h.call(i.g)}catch(t){vA(t)}var e=rw;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Hm=!1}function hf(i,e){wn.call(this),this.h=i||1,this.g=e||at,this.j=Wn(this.kb,this),this.l=Date.now()}function $m(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function sw(i,e,t){if("function"==typeof i)t&&(i=Wn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Wn(i.handleEvent,i)}return 2147483647<Number(e)?-1:at.setTimeout(i,e||0)}function qm(i){i.g=sw(function(){i.g=null,i.i&&(i.i=!1,qm(i))},i.j);var e=i.h;i.h=null,i.m.apply(null,e)}kn(hf,wn),(xe=hf.prototype).da=!1,xe.S=null,xe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ln(this,"tick"),this.da&&($m(this),this.start()))}},xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.M=function(){hf.Z.M.call(this),$m(this),delete this.g};var _A=function(i){function e(t,o){var u=i.call(this)||this;return u.m=t,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}xi(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,i),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:qm(this)},e.prototype.M=function(){i.prototype.M.call(this),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(jo);function xc(i){jo.call(this),this.h=i,this.g={}}kn(xc,jo);var aw=[];function ff(i,e,t,o){Array.isArray(t)||(t&&(aw[0]=t.toString()),t=aw);for(var u=0;u<t.length;u++){var d=Lm(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function uw(i){Nc(i.g,function(e,t){this.g.hasOwnProperty(t)&&Vm(e)},i),i.g={}}function pf(){this.g=!0}function Vu(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var f=1;f<u.length;f++)u[f]=""}}}return jm(t)}catch(g){return e}}(i,t)+(o?" "+o:"")})}xc.prototype.M=function(){xc.Z.M.call(this),uw(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pf.prototype.Aa=function(){this.g=!1},pf.prototype.info=function(){};var As={},lw=null;function mf(){return lw=lw||new wn}function yf(i){Kn.call(this,As.Ma,i)}function vf(i){var e=mf();Ln(e,new yf(e,i))}function cw(i,e){Kn.call(this,As.STAT_EVENT,i),this.stat=e}function ur(i){var e=mf();Ln(e,new cw(e,i))}function Ym(i,e){Kn.call(this,As.Na,i),this.size=e}function Bu(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){i()},e)}As.Ma="serverreachability",kn(yf,Kn),As.STAT_EVENT="statevent",kn(cw,Kn),As.Na="timingevent",kn(Ym,Kn);var Fc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pi(){}function dw(){}Pi.prototype.h=null;var _f,kc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hw(){Kn.call(this,"d")}function Is(){Kn.call(this,"c")}function Ms(){}function Ho(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new xc(this),this.P=Zm,this.W=new hf(i=Nm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fw}function fw(){this.i=null,this.g="",this.h=!1}kn(hw,Kn),kn(Is,Kn),kn(Ms,Pi),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},_f=new Ms;var Zm=45e3,bf={},wf={};function Ef(i,e,t){i.K=1,i.v=Tf(ki(e)),i.s=t,i.U=!0,pw(i,null)}function pw(i,e){i.F=Date.now(),ju(i),i.A=ki(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Cw(t.h,"t",o),i.C=0,t=i.l.H,i.h=new fw,i.g=cy(i.l,t?e:null,!i.s),0<i.O&&(i.L=new _A(Wn(i.Ia,i,i.g),i.O)),ff(i.V,i.g,"readystatechange",i.gb),e=i.H?Y0(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),vf(1),function(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var f="",g=d.split("&"),_=0;_<g.length;_++){var w=g[_].split("=");if(1<w.length){var C=w[0];w=w[1];var T=C.split("_");f=2<=T.length&&"type"==T[1]?f+(C+"=")+w+"&":f+(C+"=redacted&")}}else f=null;else f=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Cf(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function gw(i,e,t){for(var u,o=!0;!i.I&&i.C<t.length;){if((u=bA(i,t))==wf){4==e&&(i.o=4,ur(14),o=!1),Vu(i.j,i.m,null,"[Incomplete Response]");break}if(u==bf){i.o=4,ur(15),Vu(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Vu(i.j,i.m,u,null),Ns(i,u)}Cf(i)&&u!=wf&&u!=bf&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ur(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Os(e),e.L=!0,ur(11))):(Vu(i.j,i.m,t,"[Invalid Chunked Response]"),ga(i),Vc(i))}function bA(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?wf:(t=Number(e.substring(t,o)),isNaN(t)?bf:(o+=1)+t>e.length?wf:(e=e.substr(o,t),i.C=o+t,e))}function ju(i){i.Y=Date.now()+i.P,pa(i,i.P)}function pa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Bu(Wn(i.eb,i),e)}function Lc(i){i.B&&(at.clearTimeout(i.B),i.B=null)}function Vc(i){0==i.l.G||i.I||wa(i.l,i)}function ga(i){Lc(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$m(i.W),uw(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ns(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Iw(t.i,i)))if(t.I=i.N,!i.J&&Iw(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch($){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bu(Wn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;$o(t),Kr(t)}Rs(t),ur(18)}if(1>=Aw(t.i)&&t.ka){try{t.ka()}catch($){}t.ka=void 0}}else vi(t,11)}else if((i.J||t.g==i)&&$o(t),!Sm(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){var d=u[e];if(t.U=d[0],d=d[1],2==t.G)if("c"==d[0]){t.J=d[1],t.la=d[2];var f=d[3];null!=f&&(t.ma=f,t.h.info("VER="+t.ma));var g=d[4];null!=g&&(t.za=g,t.h.info("SVER="+t.za));var _=d[5];null!=_&&"number"==typeof _&&0<_&&(t.K=o=1.5*_,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;var w=i.g;if(w){var C=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var T=o.i;!T.g&&(Fr(C,"spdy")||Fr(C,"quic")||Fr(C,"h2"))&&(T.j=T.l,T.g=new Set,T.h&&(Mw(T,T.h),T.h=null))}if(o.D){var S=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(o.sa=S,$t(o.F,o.D,S))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var N=i;if((o=t).oa=ly(o,o.H?o.la:null,o.W),N.J){Sf(o.i,N);var R=N,k=o.K;k&&R.setTimeout(k),R.B&&(Lc(R),ju(R)),o.g=N}else _a(o);0<t.l.length&&ho(t)}else"stop"!=d[0]&&"close"!=d[0]||vi(t,7);else 3==t.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?vi(t,7):Gc(t):"noop"!=d[0]&&t.j&&t.j.wa(d),t.A=0)}vf(4)}catch($){}}function Jm(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(xu(i)||"string"==typeof i)uA(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(xu(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;u=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(xu(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i)).length;for(var d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}}function Uu(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Uu)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Xm(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Hu(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)Hu(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function Hu(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(xe=Ho.prototype).setTimeout=function(i){this.P=i},xe.gb=function(i){i=i.target;var e=this.L;e&&3==Lr(i)?e.l():this.Ia(i)},xe.Ia=function(i){try{if(i==this.g)e:{var e=Lr(this.g),t=this.g.Da(),o=this.g.ba();if(!(3>e)&&(3!=e||Nm||this.g&&(this.h.h||this.g.ga()||ay(this.g)))){this.I||4!=e||7==t||vf(8==t||0>=o?3:2),Lc(this);var u=this.g.ba();this.N=u;t:if(Cf(this)){var d=ay(this.g);i="";var f=d.length,g=4==Lr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ga(this),Vc(this);var _="";break t}this.h.i=new at.TextDecoder}for(t=0;t<f;t++)this.h.h=!0,i+=this.h.i.decode(d[t],{stream:g&&t==f-1});d.splice(0,f),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==u,function(i,e,t,o,u,d,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+f})}(this.j,this.u,this.A,this.m,this.X,e,u),this.i){if(this.$&&!this.J){t:{if(this.g){var w,C=this.g;if((w=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sm(w)){var T=w;break t}}T=null}if(!(u=T)){this.i=!1,this.o=3,ur(12),ga(this),Vc(this);break e}Vu(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ns(this,u)}this.U?(gw(this,e,_),Nm&&this.i&&3==e&&(ff(this.V,this.W,"tick",this.fb),this.W.start())):(Vu(this.j,this.m,_,null),Ns(this,_)),4==e&&ga(this),this.i&&!this.I&&(4==e?wa(this.l,this):(this.i=!1,ju(this)))}else 400==u&&0<_.indexOf("Unknown SID")?(this.o=3,ur(12)):(this.o=0,ur(13)),ga(this),Vc(this)}}}catch(S){}},xe.fb=function(){if(this.g){var i=Lr(this.g),e=this.g.ga();this.C<e.length&&(Lc(this),gw(this,i,e),this.i&&4!=i&&ju(this))}},xe.cancel=function(){this.I=!0,ga(this)},xe.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vf(3),ur(17)),ga(this),this.o=2,Vc(this)):pa(this,this.Y-i)},(xe=Uu.prototype).R=function(){Xm(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},xe.T=function(){return Xm(this),this.g.concat()},xe.get=function(i,e){return Hu(this.h,i)?this.h[i]:e},xe.set=function(i,e){Hu(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},xe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],d=this.get(u);i.call(e,d,u,this)}};var mw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rt(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Rt){this.g=void 0!==e?e:i.g,ey(this,i.j),this.s=i.s,yi(this,i.i),Gu(this,i.m),this.l=i.l,e=i.h;var t=new zu;t.i=e.i,e.g&&(t.g=new Uu(e.g),t.h=e.h),Df(this,t),this.o=i.o}else i&&(t=String(i).match(mw))?(this.g=!!e,ey(this,t[1]||"",!0),this.s=$u(t[2]||""),yi(this,t[3]||"",!0),Gu(this,t[4]),this.l=$u(t[5]||"",!0),Df(this,t[6]||"",!0),this.o=$u(t[7]||"")):(this.g=!!e,this.h=new zu(null,this.g))}function ki(i){return new Rt(i)}function ey(i,e,t){i.j=t?$u(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function yi(i,e,t){i.i=t?$u(e,!0):e}function Gu(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Df(i,e,t){e instanceof zu?(i.h=e,function(i,e){e&&!i.j&&(Go(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(ny(this,o),Cw(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=qu(e,ty)),i.h=new zu(e,i.g))}function $t(i,e,t){i.h.set(e,t)}function Tf(i){return $t(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $u(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qu(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,_w),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function _w(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Rt.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qu(e,bw,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qu(e,bw,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(qu(t,"/"==t.charAt(0)?Bc:CA,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",qu(t,ww)),i.join("")};var bw=/[#\/\?@]/g,CA=/[#\?:]/g,Bc=/[#\?]/g,ty=/[#\?@]/g,ww=/#/g;function zu(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Go(i){i.g||(i.g=new Uu,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ny(i,e){Go(i),e=Wu(i,e),Hu(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Hu((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Xm(i)))}function Ew(i,e){return Go(i),e=Wu(i,e),Hu(i.g.h,e)}function Cw(i,e,t){ny(i,e),0<t.length&&(i.i=null,i.g.set(Wu(i,e),W0(t)),i.h+=t.length)}function Wu(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(xe=zu.prototype).add=function(i,e){Go(this),this.i=null,i=Wu(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},xe.forEach=function(i,e){Go(this),this.g.forEach(function(t,o){uA(t,function(u){i.call(e,u,o,this)},this)},this)},xe.T=function(){Go(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],d=0;d<u.length;d++)t.push(e[o]);return t},xe.R=function(i){Go(this);var e=[];if("string"==typeof i)Ew(this,i)&&(e=lA(e,this.g.get(Wu(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=lA(e,i[t])}return e},xe.set=function(i,e){return Go(this),this.i=null,Ew(this,i=Wu(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},xe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var f=u;""!==o[d]&&(f+="="+encodeURIComponent(String(o[d]))),i.push(f)}}return this.i=i.join("&")};var Dw=function(e,t){this.h=e,this.g=t};function TA(i){this.l=i||Tw,i=at.PerformanceNavigationTiming?0<(i=at.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(at.g&&at.g.Ea&&at.g.Ea()&&at.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tw=10;function Sw(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Aw(i){return i.h?1:i.g?i.g.size:0}function Iw(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Mw(i,e){i.g?i.g.add(e):i.h=e}function Sf(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Nw(i){var e,t;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var u=wm(i.g.values()),d=u.next();!d.done;d=u.next())o=o.concat(d.value.D)}catch(g){e={error:g}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return o}return W0(i.i)}function Af(){}function Rw(){this.g=new Af}function iR(i,e,t){var o=t||"";try{Jm(i,function(u,d){var f=u;Ts(u)&&(f=jm(u)),e.push(o+d+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ry(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(d){}}function If(i){this.l=i.$b||null,this.j=i.ib||!1}function iy(i,e){wn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Mf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}TA.prototype.cancel=function(){var i,e;if(this.i=Nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var t=wm(this.g.values()),o=t.next();!o.done;o=t.next())o.value.cancel()}catch(d){i={error:d}}finally{try{o&&!o.done&&(e=t.return)&&e.call(t)}finally{if(i)throw i.error}}this.g.clear()}},Af.prototype.stringify=function(i){return at.JSON.stringify(i,void 0)},Af.prototype.parse=function(i){return at.JSON.parse(i,void 0)},kn(If,Pi),If.prototype.g=function(){return new iy(this.l,this.j)},If.prototype.i=function(i){return function(){return i}}({}),kn(iy,wn);var Mf=0;function oy(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ku(i){i.readyState=4,i.l=null,i.j=null,i.A=null,jc(i)}function jc(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(xe=iy.prototype).open=function(i,e){if(this.readyState!=Mf)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,jc(this)},xe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||at).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ku(this)),this.readyState=Mf},xe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==at.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oy(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},xe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ku(this):jc(this),3==this.readyState&&oy(this)}},xe.Ua=function(i){this.g&&(this.response=this.responseText=i,Ku(this))},xe.Ta=function(i){this.g&&(this.response=i,Ku(this))},xe.ha=function(){this.g&&Ku(this)},xe.setRequestHeader=function(i,e){this.v.append(i,e)},xe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],e=this.h.entries(),t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(iy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var oR=at.JSON.parse;function hn(i){wn.call(this),this.headers=new Uu,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nf,this.K=this.L=!1}kn(hn,wn);var Nf="",SA=/^https?$/i,sy=["POST","PUT"];function IA(i){return"content-type"==i.toLowerCase()}function Ow(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xw(i),Rf(i)}function xw(i){i.D||(i.D=!0,Ln(i,"complete"),Ln(i,"error"))}function Fw(i){if(i.h&&void 0!==tf&&(!i.C[1]||4!=Lr(i)||2!=i.ba()))if(i.v&&4==Lr(i))sw(i.Fa,0,i);else if(Ln(i,"readystatechange"),4==Lr(i)){i.h=!1;try{var o,e=i.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(o=t)){var u;if(u=0===e){var d=String(i.H).match(mw)[1]||null;if(!d&&at.self&&at.self.location){var f=at.self.location.protocol;d=f.substr(0,f.length-1)}u=!SA.test(d?d.toLowerCase():"")}o=u}if(o)Ln(i,"complete"),Ln(i,"success");else{i.m=6;try{var g=2<Lr(i)?i.g.statusText:""}catch(_){g=""}i.j=g+" ["+i.ba()+"]",xw(i)}}finally{Rf(i)}}}function Rf(i,e){if(i.g){Uc(i);var t=i.g,o=i.C[0]?mi:null;i.g=null,i.C=null,e||Ln(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function Uc(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(at.clearTimeout(i.A),i.A=null)}function Lr(i){return i.g?i.g.readyState:0}function ay(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Nf:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ma(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function(i){var e="";return Nc(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):$t(i,e,t))}function Hc(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Pw(i){this.za=0,this.l=[],this.h=new pf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hc("baseRetryDelayMs",5e3,i),this.$a=Hc("retryDelaySeedMs",1e4,i),this.Ya=Hc("forwardChannelMaxRetries",2,i),this.ra=Hc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new TA(i&&i.concurrentRequestLimit),this.Ca=new Rw,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Gc(i){if(Yu(i),3==i.G){var e=i.V++,t=ki(i.F);$t(t,"SID",i.J),$t(t,"RID",e),$t(t,"TYPE","terminate"),ya(i,t),(e=new Ho(i,i.h,e,void 0)).K=2,e.v=Tf(ki(t)),t=!1,at.navigator&&at.navigator.sendBeacon&&(t=at.navigator.sendBeacon(e.v.toString(),"")),!t&&at.Image&&((new Image).src=e.v,t=!0),t||(e.g=cy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ju(e)}uy(i)}function Kr(i){i.g&&(Os(i),i.g.cancel(),i.g=null)}function Yu(i){Kr(i),i.u&&(at.clearTimeout(i.u),i.u=null),$o(i),i.i.cancel(),i.m&&("number"==typeof i.m&&at.clearTimeout(i.m),i.m=null)}function Vn(i,e){i.l.push(new Dw(i.Za++,e)),3==i.G&&ho(i)}function ho(i){Sw(i.i)||i.m||(i.m=!0,Um(i.Ha,i),i.C=0)}function Yr(i,e){var t;t=e?e.m:i.V++;var o=ki(i.F);$t(o,"SID",i.J),$t(o,"RID",t),$t(o,"AID",i.U),ya(i,o),i.o&&i.s&&ma(o,i.o,i.s),t=new Ho(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=va(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Mw(i.i,t),Ef(t,o,e)}function ya(i,e){i.j&&Jm({},function(t,o){$t(e,o,t)})}function va(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Wn(i.j.Oa,i.j,i):null;e:for(var u=i.l,d=-1;;){var f=["count="+t];-1==d?0<t?f.push("ofs="+(d=u[0].h)):d=0:f.push("ofs="+d);for(var g=!0,_=0;_<t;_++){var w=u[_].h,C=u[_].g;if(0>(w-=d))d=Math.max(0,u[_].h-100),g=!1;else try{iR(C,f,"req"+w+"_")}catch(T){o&&o(C)}}if(g){o=f.join("&");break e}}return i=i.l.splice(0,t),e.D=i,o}function _a(i){i.g||i.u||(i.Y=1,Um(i.Ga,i),i.A=0)}function Rs(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Bu(Wn(i.Ga,i),Ea(i,i.A)),i.A++,0))}function Os(i){null!=i.B&&(at.clearTimeout(i.B),i.B=null)}function ba(i){i.g=new Ho(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ki(i.oa);$t(e,"RID","rpc"),$t(e,"SID",i.J),$t(e,"CI",i.N?"0":"1"),$t(e,"AID",i.U),ya(i,e),$t(e,"TYPE","xmlhttp"),i.o&&i.s&&ma(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Tf(ki(e)),t.s=null,t.U=!0,pw(t,i)}function $o(i){null!=i.v&&(at.clearTimeout(i.v),i.v=null)}function wa(i,e){var t=null;if(i.g==e){$o(i),Os(i),i.g=null;var o=2}else{if(!Iw(i.i,e))return;t=e.D,Sf(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Ln(o=mf(),new Ym(o,t,e,u)),ho(i)}else _a(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function(i,e){return!(Aw(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Bu(Wn(i.Ha,i,e),Ea(i,i.C)),i.C++,0)))}(i,e)||2==o&&Rs(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:vi(i,5);break;case 4:vi(i,10);break;case 3:vi(i,6);break;default:vi(i,2)}}function Ea(i,e){var t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function vi(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Wn(i.jb,i);t||(t=new Rt("//www.google.com/images/cleardot.gif"),at.location&&"http"==at.location.protocol||ey(t,"https"),Tf(t)),function(i,e){var t=new pf;if(at.Image){var o=new Image;o.onload=Dm(ry,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Dm(ry,t,o,"TestLoadImage: error",!1,e),o.onabort=Dm(ry,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Dm(ry,t,o,"TestLoadImage: timeout",!1,e),at.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else ur(2);i.G=0,i.j&&i.j.va(e),uy(i),Yu(i)}function uy(i){i.G=0,i.I=-1,i.j&&((0!=Nw(i.i).length||0!=i.l.length)&&(i.i.i.length=0,W0(i.l),i.l.length=0),i.j.ua())}function ly(i,e,t){var o=function(i){return i instanceof Rt?ki(i):new Rt(i,void 0)}(t);if(""!=o.i)e&&yi(o,e+"."+o.i),Gu(o,o.m);else{var u=at.location;o=function(i,e,t,o){var u=new Rt(null,void 0);return i&&ey(u,i),e&&yi(u,e),t&&Gu(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Nc(i.aa,function(d,f){$t(o,f,d)}),t=i.sa,(e=i.D)&&t&&$t(o,e,t),$t(o,"VER",i.ma),ya(i,o),o}function cy(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t&&i.Ba&&!i.qa?new If({ib:!0}):i.qa)).L=i.H,e}function dy(){}function $c(){if(Wr&&!(10<=Number(ku)))throw Error("Environmental error: no available transport.")}function Vr(i,e){wn.call(this),this.g=new Pw(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Sm(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sm(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ca(this)}function hy(i){hw.call(this);var e=i.__sm__;if(e){e:{for(var t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function fy(){Is.call(this),this.status=1}function Ca(i){this.g=i}(xe=hn.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_f.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:_f),this.g.onreadystatechange=Wn(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Ow(this,d)}i=t||"";var u=new Uu(this.headers);o&&Jm(o,function(d,f){u.set(f,d)}),o=function(i){e:{for(var e=IA,t=i.length,o="string"==typeof i?i.split(""):i,u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=at.FormData&&i instanceof at.FormData,!(0<=aA(sy,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,f){this.g.setRequestHeader(f,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uc(this),0<this.B&&((this.K=function(i){return Wr&&Fm()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.pa,this)):this.A=sw(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Ow(this,d)}},xe.pa=function(){void 0!==tf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},xe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ln(this,"complete"),Ln(this,"abort"),Rf(this))},xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),hn.Z.M.call(this)},xe.Fa=function(){this.s||(this.F||this.v||this.l?Fw(this):this.cb())},xe.cb=function(){Fw(this)},xe.ba=function(){try{return 2<Lr(this)?this.g.status:-1}catch(i){return-1}},xe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},xe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),oR(e)}},xe.Da=function(){return this.m},xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=Pw.prototype).ma=8,xe.G=1,xe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},xe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var e=new Ho(this,this.h,i,void 0),t=this.s;if(this.P&&(t?nf(t=Y0(t),this.P):t=this.P),null===this.o&&(e.H=t),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var d=this.l[u];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(o+=d)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=va(this,e,o),$t(u=ki(this.F),"RID",i),$t(u,"CVER",22),this.D&&$t(u,"X-HTTP-Session-Id",this.D),ya(this,u),this.o&&t&&ma(u,this.o,t),Mw(this.i,e),this.Ra&&$t(u,"TYPE","init"),this.ja?($t(u,"$req",o),$t(u,"SID","null"),e.$=!0,Ef(e,u,null)):Ef(e,u,o),this.G=2}}else 3==this.G&&(i?Yr(this,i):0==this.l.length||Sw(this.i)||Yr(this))},xe.Ga=function(){if(this.u=null,ba(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Bu(Wn(this.bb,this),i)}},xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ur(10),Kr(this),ba(this))},xe.ab=function(){null!=this.v&&(this.v=null,Kr(this),Rs(this),ur(19))},xe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),ur(2)):(this.h.info("Failed to ping google.com"),ur(1))},(xe=dy.prototype).xa=function(){},xe.wa=function(){},xe.va=function(){},xe.ua=function(){},xe.Oa=function(){},$c.prototype.g=function(i,e){return new Vr(i,e)},kn(Vr,wn),Vr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Um(Wn(i.hb,i,e))),ur(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=ly(i,null,i.W),ho(i)},Vr.prototype.close=function(){Gc(this.g)},Vr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Vn(this.g,e)}else this.v?((e={}).__data__=jm(i),Vn(this.g,e)):Vn(this.g,i)},Vr.prototype.M=function(){this.g.j=null,delete this.j,Gc(this.g),delete this.g,Vr.Z.M.call(this)},kn(hy,hw),kn(fy,Is),kn(Ca,dy),Ca.prototype.xa=function(){Ln(this.g,"a")},Ca.prototype.wa=function(i){Ln(this.g,new hy(i))},Ca.prototype.va=function(i){Ln(this.g,new fy(i))},Ca.prototype.ua=function(){Ln(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Vr.prototype.send=Vr.prototype.u,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Qm.COMPLETE="complete",dw.EventType=kc,kc.OPEN="a",kc.CLOSE="b",kc.ERROR="c",kc.MESSAGE="d",wn.prototype.listen=wn.prototype.N,hn.prototype.listenOnce=hn.prototype.O,hn.prototype.getLastError=hn.prototype.La,hn.prototype.getLastErrorCode=hn.prototype.Da,hn.prototype.getStatus=hn.prototype.ba,hn.prototype.getResponseJson=hn.prototype.Qa,hn.prototype.getResponseText=hn.prototype.ga,hn.prototype.send=hn.prototype.ea;var xf=Fc,gy=Qm,my=As,yy_PROXY=10,yy_NOPROXY=11,MA=If,qc=dw,vy=hn,Qr=function(){function i(e,t){var o=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(u){return o.t(u)},this.i=function(u){return t.writeSequenceNumber(u)})}return i.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},i.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},i}();Qr.o=-1;var ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_e=function(i){function e(t,o){var u=this;return(u=i.call(this,o)||this).code=t,u.message=o,u.name="FirebaseError",u.toString=function(){return u.name+": [code="+u.code+"]: "+u.message},u}return(0,M.ZT)(e,i),e}(Error),Bi=new Bo.Yd("@firebase/firestore");function Ff(){return Bi.logLevel}function Ce(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Bi.logLevel<=Bo.in.DEBUG){var o=e.map(_y);Bi.debug.apply(Bi,(0,M.ev)(["Firestore (8.10.1): "+i],o))}}function On(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Bi.logLevel<=Bo.in.ERROR){var o=e.map(_y);Bi.error.apply(Bi,(0,M.ev)(["Firestore (8.10.1): "+i],o))}}function Pf(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Bi.logLevel<=Bo.in.WARN){var o=e.map(_y);Bi.warn.apply(Bi,(0,M.ev)(["Firestore (8.10.1): "+i],o))}}function _y(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Le(i){void 0===i&&(i="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+i;throw On(e),new Error(e)}function Xe(i,e){i||Le()}function Se(i,e){return i}function by(i){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(var o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}var kf=function(){function i(){}return i.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,o="";o.length<20;)for(var u=by(40),d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length));return o},i}();function _t(i,e){return i<e?-1:i>e?1:0}function zc(i,e,t){return i.length===e.length&&i.every(function(o,u){return t(o,e[u])})}function RA(i){return i+"\0"}var Zr=function(){function i(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(e){return i.fromMillis(e.getTime())},i.fromMillis=function(e){var t=Math.floor(e/1e3);return new i(t,Math.floor(1e6*(e-1e3*t)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)},i.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),ft=function(){function i(e){this.timestamp=e}return i.fromTimestamp=function(e){return new i(e)},i.min=function(){return new i(new Zr(0,0))},i.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},i.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function wy(i){var e=0;for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Qu(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Lw(i){for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}var Da=function(){function i(e,t,o){void 0===t?t=0:t>e.length&&Le(),void 0===o?o=e.length-t:o>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return 0===i.comparator(this,e)},i.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(function(o){t.push(o)}):t.push(e),this.construct(t)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(e){return this.segments[this.offset+e]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.forEach=function(e){for(var t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(e,t){for(var o=Math.min(e.length,t.length),u=0;u<o;u++){var d=e.get(u),f=t.get(u);if(d<f)return-1;if(d>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0},i}(),Tt=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.construct=function(t,o,u){return new e(t,o,u)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];for(var u=[],d=0,f=t;d<f.length;d++){var g=f[d];if(g.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,"Invalid segment ("+g+"). Paths must not contain // in them.");u.push.apply(u,g.split("/").filter(function(_){return _.length>0}))}return new e(u)},e.emptyPath=function(){return new e([])},e}(Da),Vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ji=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.construct=function(t,o,u){return new e(t,o,u)},e.isValidIdentifier=function(t){return Vw.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var o=[],u="",d=0,f=function(){if(0===u.length)throw new _e(ne.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(u),u=""},g=!1;d<t.length;){var _=t[d];if("\\"===_){if(d+1===t.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var w=t[d+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);u+=w,d+=2}else"`"===_?(g=!g,d++):"."!==_||g?(u+=_,d++):(f(),d++)}if(f(),g)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(o)},e.emptyPath=function(){return new e([])},e}(Da),Ta=function(){function i(e){this.fields=e,e.sort(ji.comparator)}return i.prototype.covers=function(e){for(var t=0,o=this.fields;t<o.length;t++)if(o[t].isPrefixOf(e))return!0;return!1},i.prototype.isEqual=function(e){return zc(this.fields,e.fields,function(t,o){return t.isEqual(o)})},i}(),Bn=function(){function i(e){this.binaryString=e}return i.fromBase64String=function(e){return new i(atob(e))},i.fromUint8Array=function(e){return new i(function(t){for(var o="",u=0;u<t.length;++u)o+=String.fromCharCode(t[u]);return o}(e))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(e){return _t(this.binaryString,e.binaryString)},i.prototype.isEqual=function(e){return this.binaryString===e.binaryString},i}();Bn.EMPTY_BYTE_STRING=new Bn("");var OA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(i){if(Xe(!!i),"string"==typeof i){var e=0,t=OA.exec(i);if(Xe(!!t),t[1]){var o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}var u=new Date(i);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:En(i.seconds),nanos:En(i.nanos)}}function En(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Zu(i){return"string"==typeof i?Bn.fromBase64String(i):Bn.fromUint8Array(i)}function Ey(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bw(i){var e=i.mapValue.fields.__previous_value__;return Ey(e)?Bw(e):e}function Wc(i){var e=qo(i.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}function xs(i){return null==i}function Lf(i){return 0===i&&1/i==-1/0}function Cy(i){return"number"==typeof i&&Number.isInteger(i)&&!Lf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var Ve=function(){function i(e){this.path=e}return i.fromPath=function(e){return new i(Tt.fromString(e))},i.fromName=function(e){return new i(Tt.fromString(e).popFirst(5))},i.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},i.prototype.isEqual=function(e){return null!==e&&0===Tt.comparator(this.path,e.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(e,t){return Tt.comparator(e.path,t.path)},i.isDocumentKey=function(e){return e.length%2==0},i.fromSegments=function(e){return new i(new Tt(e.slice()))},i}();function zo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ey(i)?4:10:Le()}function Wo(i,e){var u,t=zo(i);if(t!==zo(e))return!1;switch(t){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wc(i).isEqual(Wc(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;var d=qo(o.timestampValue),f=qo(u.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Zu(i.bytesValue).isEqual(Zu(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return En(o.geoPointValue.latitude)===En(u.geoPointValue.latitude)&&En(o.geoPointValue.longitude)===En(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return En(o.integerValue)===En(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){var d=En(o.doubleValue),f=En(u.doubleValue);return d===f?Lf(d)===Lf(f):isNaN(d)&&isNaN(f)}return!1}(i,e);case 9:return zc(i.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:return function(o,u){var d=o.mapValue.fields||{},f=u.mapValue.fields||{};if(wy(d)!==wy(f))return!1;for(var g in d)if(d.hasOwnProperty(g)&&(void 0===f[g]||!Wo(d[g],f[g])))return!1;return!0}(i,e);default:return Le()}}function Sa(i,e){return void 0!==(i.values||[]).find(function(t){return Wo(t,e)})}function Ju(i,e){var u,d,f,g,t=zo(i),o=zo(e);if(t!==o)return _t(t,o);switch(t){case 0:return 0;case 1:return _t(i.booleanValue,e.booleanValue);case 2:return d=e,(f=En((u=i).integerValue||u.doubleValue))<(g=En(d.integerValue||d.doubleValue))?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1;case 3:return xA(i.timestampValue,e.timestampValue);case 4:return xA(Wc(i),Wc(e));case 5:return _t(i.stringValue,e.stringValue);case 6:return function(u,d){var f=Zu(u),g=Zu(d);return f.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){for(var f=u.split("/"),g=d.split("/"),_=0;_<f.length&&_<g.length;_++){var w=_t(f[_],g[_]);if(0!==w)return w}return _t(f.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){var f=_t(En(u.latitude),En(d.latitude));return 0!==f?f:_t(En(u.longitude),En(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){for(var f=u.values||[],g=d.values||[],_=0;_<f.length&&_<g.length;++_){var w=Ju(f[_],g[_]);if(w)return w}return _t(f.length,g.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){var f=u.fields||{},g=Object.keys(f),_=d.fields||{},w=Object.keys(_);g.sort(),w.sort();for(var C=0;C<g.length&&C<w.length;++C){var T=_t(g[C],w[C]);if(0!==T)return T;var S=Ju(f[g[C]],_[w[C]]);if(0!==S)return S}return _t(g.length,w.length)}(i.mapValue,e.mapValue);default:throw Le()}}function xA(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _t(i,e);var t=qo(i),o=qo(e),u=_t(t.seconds,o.seconds);return 0!==u?u:_t(t.nanos,o.nanos)}function Aa(i){return Dy(i)}function Dy(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(u=qo(i.timestampValue)).seconds+","+u.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?Zu(i.bytesValue).toBase64():"referenceValue"in i?Ve.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(o){for(var u="[",d=!0,f=0,g=o.values||[];f<g.length;f++)d?d=!1:u+=",",u+=Dy(g[f]);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var u="{",d=!0,f=0,g=Object.keys(o.fields||{}).sort();f<g.length;f++){var _=g[f];d?d=!1:u+=",",u+=_+":"+Dy(o.fields[_])}return u+"}"}(i.mapValue):Le();var u,e}function Xu(i,e){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+e.path.canonicalString()}}function Kc(i){return!!i&&"integerValue"in i}function Ty(i){return!!i&&"arrayValue"in i}function Vf(i){return!!i&&"nullValue"in i}function Bf(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yc(i){return!!i&&"mapValue"in i}function jf(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var e={mapValue:{fields:{}}};return Qu(i.mapValue.fields,function(u,d){return e.mapValue.fields[u]=jf(d)}),e}if(i.arrayValue){for(var t={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=jf(i.arrayValue.values[o]);return t}return Object.assign({},i)}var Jr=function(){function i(e){this.value=e}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,o=0;o<e.length-1;++o)if(!Yc(t=(t.mapValue.fields||{})[e.get(o)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},i.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(t)},i.prototype.setAll=function(e){var t=this,o=ji.emptyPath(),u={},d=[];e.forEach(function(g,_){if(!o.isImmediateParentOf(_)){var w=t.getFieldsMap(o);t.applyChanges(w,u,d),u={},d=[],o=_.popLast()}g?u[_.lastSegment()]=jf(g):d.push(_.lastSegment())});var f=this.getFieldsMap(o);this.applyChanges(f,u,d)},i.prototype.delete=function(e){var t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},i.prototype.isEqual=function(e){return Wo(this.value,e.value)},i.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var o=0;o<e.length;++o){var u=t.mapValue.fields[e.get(o)];Yc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields},i.prototype.applyChanges=function(e,t,o){Qu(t,function(g,_){return e[g]=_});for(var u=0,d=o;u<d.length;u++)delete e[d[u]]},i.prototype.clone=function(){return new i(jf(this.value))},i}();function Sy(i){var e=[];return Qu(i.fields,function(t,o){var u=new ji([t]);if(Yc(o)){var d=Sy(o.mapValue).fields;if(0===d.length)e.push(u);else for(var f=0,g=d;f<g.length;f++)e.push(u.child(g[f]))}else e.push(u)}),new Ta(e)}var jn=function(){function i(e,t,o,u,d){this.key=e,this.documentType=t,this.version=o,this.data=u,this.documentState=d}return i.newInvalidDocument=function(e){return new i(e,0,ft.min(),Jr.empty(),0)},i.newFoundDocument=function(e,t,o){return new i(e,1,t,o,0)},i.newNoDocument=function(e,t){return new i(e,2,t,Jr.empty(),0)},i.newUnknownDocument=function(e,t){return new i(e,3,t,Jr.empty(),2)},i.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},i.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(e){return e instanceof i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),FA=function(i,e,t,o,u,d,f){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===d&&(d=null),void 0===f&&(f=null),this.path=i,this.collectionGroup=e,this.orderBy=t,this.filters=o,this.limit=u,this.startAt=d,this.endAt=f,this.h=null};function Ay(i,e,t,o,u,d,f){return void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===d&&(d=null),void 0===f&&(f=null),new FA(i,e,t,o,u,d,f)}function Ia(i){var e=Se(i);if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(o){return(u=o).field.canonicalString()+u.op.toString()+Aa(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(function(o){return(u=o).field.canonicalString()+u.dir;var u}).join(","),xs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Zc(e.startAt)),e.endAt&&(t+="|ub:",t+=Zc(e.endAt)),e.h=t}return e.h}function Qc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<i.orderBy.length;t++)if(!$w(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((u=i.filters[o]).op!==(d=e.filters[o]).op||!u.field.isEqual(d.field)||!Wo(u.value,d.value))return!1;var u,d;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ry(i.startAt,e.startAt)&&Ry(i.endAt,e.endAt)}function el(i){return Ve.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var vr=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).field=t,d.op=o,d.value=u,d}return(0,M.ZT)(e,i),e.create=function(t,o,u){return t.isKeyField()?"in"===o||"not-in"===o?this.l(t,o,u):new jw(t,o,u):"array-contains"===o?new My(t,u):"in"===o?new Hw(t,u):"not-in"===o?new kA(t,u):"array-contains-any"===o?new Gw(t,u):new e(t,o,u)},e.l=function(t,o,u){return"in"===o?new PA(t,u):new Uw(t,u)},e.prototype.matches=function(t){var o=t.data.field(this.field);return"!="===this.op?null!==o&&this.m(Ju(o,this.value)):null!==o&&zo(this.value)===zo(o)&&this.m(Ju(o,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Le()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),jw=function(i){function e(t,o,u){var d=this;return(d=i.call(this,t,o,u)||this).key=Ve.fromName(u.referenceValue),d}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=Ve.comparator(t.key,this.key);return this.m(o)},e}(vr),PA=function(i){function e(t,o){var u=this;return(u=i.call(this,t,"in",o)||this).keys=Iy(0,o),u}return(0,M.ZT)(e,i),e.prototype.matches=function(t){return this.keys.some(function(o){return o.isEqual(t.key)})},e}(vr),Uw=function(i){function e(t,o){var u=this;return(u=i.call(this,t,"not-in",o)||this).keys=Iy(0,o),u}return(0,M.ZT)(e,i),e.prototype.matches=function(t){return!this.keys.some(function(o){return o.isEqual(t.key)})},e}(vr);function Iy(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(function(o){return Ve.fromName(o.referenceValue)})}var My=function(i){function e(t,o){return i.call(this,t,"array-contains",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return Ty(o)&&Sa(o.arrayValue,this.value)},e}(vr),Hw=function(i){function e(t,o){return i.call(this,t,"in",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return null!==o&&Sa(this.value.arrayValue,o)},e}(vr),kA=function(i){function e(t,o){return i.call(this,t,"not-in",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=t.data.field(this.field);return null!==o&&!Sa(this.value.arrayValue,o)},e}(vr),Gw=function(i){function e(t,o){return i.call(this,t,"array-contains-any",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=this,u=t.data.field(this.field);return!(!Ty(u)||!u.arrayValue.values)&&u.arrayValue.values.some(function(d){return Sa(o.value.arrayValue,d)})},e}(vr),tl=function(i,e){this.position=i,this.before=e};function Zc(i){return(i.before?"b":"a")+":"+i.position.map(function(e){return Aa(e)}).join(",")}var Fs=function(i,e){void 0===e&&(e="asc"),this.field=i,this.dir=e};function $w(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ny(i,e,t){for(var o=0,u=0;u<i.position.length;u++){var d=e[u],f=i.position[u];if(o=d.field.isKeyField()?Ve.comparator(Ve.fromName(f.referenceValue),t.key):Ju(f,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function Ry(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(var t=0;t<i.position.length;t++)if(!Wo(i.position[t],e.position[t]))return!1;return!0}var fo=function(i,e,t,o,u,d,f,g){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===d&&(d="F"),void 0===f&&(f=null),void 0===g&&(g=null),this.path=i,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=o,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=g,this.p=null,this.T=null};function Oy(i,e,t,o,u,d,f,g){return new fo(i,e,t,o,u,d,f,g)}function Ma(i){return new fo(i)}function Jc(i){return!xs(i.limit)&&"F"===i.limitType}function Xc(i){return!xs(i.limit)&&"L"===i.limitType}function qw(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function xy(i){for(var e=0,t=i.filters;e<t.length;e++){var o=t[e];if(o.g())return o.field}return null}function Fy(i){return null!==i.collectionGroup}function Na(i){var e=Se(i);if(null===e.p){e.p=[];var t=xy(e),o=qw(e);if(null!==t&&null===o)t.isKeyField()||e.p.push(new Fs(t)),e.p.push(new Fs(ji.keyField(),"asc"));else{for(var u=!1,d=0,f=e.explicitOrderBy;d<f.length;d++){var g=f[d];e.p.push(g),g.field.isKeyField()&&(u=!0)}if(!u){var _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Fs(ji.keyField(),_))}}}return e.p}function _i(i){var e=Se(i);if(!e.T)if("F"===e.limitType)e.T=Ay(e.path,e.collectionGroup,Na(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],o=0,u=Na(e);o<u.length;o++){var d=u[o];t.push(new Fs(d.field,"desc"===d.dir?"asc":"desc"))}var g=e.endAt?new tl(e.endAt.position,!e.endAt.before):null,_=e.startAt?new tl(e.startAt.position,!e.startAt.before):null;e.T=Ay(e.path,e.collectionGroup,t,e.filters,e.limit,g,_)}return e.T}function Cn(i,e,t){return new fo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function nl(i,e){return Qc(_i(i),_i(e))&&i.limitType===e.limitType}function zw(i){return Ia(_i(i))+"|lt:"+i.limitType}function Py(i){return"Query(target="+(t=(e=_i(i)).path.canonicalString(),null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(o){return(u=o).field.canonicalString()+" "+u.op+" "+Aa(u.value);var u}).join(", ")+"]"),xs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(o){return(u=o).field.canonicalString()+" ("+u.dir+")";var u}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Zc(e.startAt)),e.endAt&&(t+=", endAt: "+Zc(e.endAt)),"Target("+t+"); limitType=")+i.limitType+")";var e,t}function rl(i,e){return e.isFoundDocument()&&(u=(o=e).key.path,null!==(t=i).collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Ve.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u))&&function(t,o){for(var u=0,d=t.explicitOrderBy;u<d.length;u++){var f=d[u];if(!f.field.isKeyField()&&null===o.data.field(f.field))return!1}return!0}(i,e)&&function(t,o){for(var u=0,d=t.filters;u<d.length;u++)if(!d[u].matches(o))return!1;return!0}(i,e)&&function(t,o){return!(t.startAt&&!Ny(t.startAt,Na(t),o)||t.endAt&&Ny(t.endAt,Na(t),o))}(i,e);var t,o,u}function Ww(i){return function(e,t){for(var o=!1,u=0,d=Na(i);u<d.length;u++){var f=d[u],g=Kw(f,e,t);if(0!==g)return g;o=o||f.field.isKeyField()}return 0}}function Kw(i,e,t){var u,f,g,_,o=i.field.isKeyField()?Ve.comparator(e.key,t.key):(f=t,g=e.data.field(u=i.field),_=f.data.field(u),null!==g&&null!==_?Ju(g,_):Le());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Le()}}function ky(i,e){if(i.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function Ra(i){return{integerValue:""+i}}function Yw(i,e){return Cy(e)?Ra(e):ky(i,e)}var Uf=function(){this._=void 0};function Qw(i,e,t){return i instanceof ed?(d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=t).seconds,nanos:o.nanoseconds}}}},(u=e)&&(d.fields.__previous_value__=u),{mapValue:d}):i instanceof Ps?Hf(i,e):i instanceof lr?Zw(i,e):function(o,u){var d=Ly(o,u),f=Ui(d)+Ui(o.A);return Kc(d)&&Kc(o.A)?Ra(f):ky(o.R,f)}(i,e);var o,u,d}function LA(i,e,t){return i instanceof Ps?Hf(i,e):i instanceof lr?Zw(i,e):t}function Ly(i,e){return i instanceof Oa?Kc(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}var ed=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e}(Uf),Ps=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,M.ZT)(e,i),e}(Uf);function Hf(i,e){for(var t=bi(e),o=function(f){t.some(function(g){return Wo(g,f)})||t.push(f)},u=0,d=i.elements;u<d.length;u++)o(d[u]);return{arrayValue:{values:t}}}var lr=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,M.ZT)(e,i),e}(Uf);function Zw(i,e){for(var t=bi(e),o=function(f){t=t.filter(function(g){return!Wo(g,f)})},u=0,d=i.elements;u<d.length;u++)o(d[u]);return{arrayValue:{values:t}}}var Oa=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).R=t,u.A=o,u}return(0,M.ZT)(e,i),e}(Uf);function Ui(i){return En(i.integerValue||i.doubleValue)}function bi(i){return Ty(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var _r=function(i,e){this.field=i,this.transform=e},Jw=function(i,e){this.version=i,this.transformResults=e},Yn=function(){function i(e,t){this.updateTime=e,this.exists=t}return i.none=function(){return new i},i.exists=function(e){return new i(void 0,e)},i.updateTime=function(e){return new i(e)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},i}();function Gf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}var $f=function(){};function VA(i,e,t){var o,u,d,f,g;i instanceof ol?(u=e,d=t,f=(o=i).value.clone(),g=Uy(o.fieldTransforms,u,d.transformResults),f.setAll(g),u.convertToFoundDocument(d.version,f).setHasCommittedMutations()):i instanceof ks?function(o,u,d){if(Gf(o.precondition,u)){var f=Uy(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(jy(o)),g.setAll(f),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}else u.convertToUnknownDocument(d.version)}(i,e,t):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Vy(i,e,t){var u;i instanceof ol?function(o,u,d){if(Gf(o.precondition,u)){var f=o.value.clone(),g=td(o.fieldTransforms,d,u);f.setAll(g),u.convertToFoundDocument(Xw(u),f).setHasLocalMutations()}}(i,e,t):i instanceof ks?function(o,u,d){if(Gf(o.precondition,u)){var f=td(o.fieldTransforms,d,u),g=u.data;g.setAll(jy(o)),g.setAll(f),u.convertToFoundDocument(Xw(u),g).setHasLocalMutations()}}(i,e,t):Gf(i.precondition,u=e)&&u.convertToNoDocument(ft.min())}function By(i,e){for(var t=null,o=0,u=i.fieldTransforms;o<u.length;o++){var d=u[o],f=e.data.field(d.field),g=Ly(d.transform,f||null);null!=g&&(null==t&&(t=Jr.empty()),t.set(d.field,g))}return t||null}function il(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&zc(t,o,function(u,d){return(f=u).field.isEqual((g=d).field)&&(w=g.transform,(_=f.transform)instanceof Ps&&w instanceof Ps||_ instanceof lr&&w instanceof lr?zc(_.elements,w.elements,Wo):_ instanceof Oa&&w instanceof Oa?Wo(_.A,w.A):_ instanceof ed&&w instanceof ed);var f,g,_,w})))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function Xw(i){return i.isFoundDocument()?i.version:ft.min()}var ol=function(i){function e(t,o,u,d){void 0===d&&(d=[]);var f=this;return(f=i.call(this)||this).key=t,f.value=o,f.precondition=u,f.fieldTransforms=d,f.type=0,f}return(0,M.ZT)(e,i),e}($f),ks=function(i){function e(t,o,u,d,f){void 0===f&&(f=[]);var g=this;return(g=i.call(this)||this).key=t,g.data=o,g.fieldMask=u,g.precondition=d,g.fieldTransforms=f,g.type=1,g}return(0,M.ZT)(e,i),e}($f);function jy(i){var e=new Map;return i.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var o=i.data.field(t);e.set(t,o)}}),e}function Uy(i,e,t){var o=new Map;Xe(i.length===t.length);for(var u=0;u<t.length;u++){var d=i[u],f=d.transform,g=e.data.field(d.field);o.set(d.field,LA(f,g,t[u]))}return o}function td(i,e,t){for(var o=new Map,u=0,d=i;u<d.length;u++){var f=d[u],g=f.transform,_=t.data.field(f.field);o.set(f.field,Qw(g,_,e))}return o}var Dn,bt,sl=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).key=t,u.precondition=o,u.type=2,u.fieldTransforms=[],u}return(0,M.ZT)(e,i),e}($f),qf=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).key=t,u.precondition=o,u.type=3,u.fieldTransforms=[],u}return(0,M.ZT)(e,i),e}($f),zf=function(i){this.count=i};function Hy(i){switch(i){case ne.OK:return Le();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Le()}}function Gy(i){if(void 0===i)return On("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Dn.OK:return ne.OK;case Dn.CANCELLED:return ne.CANCELLED;case Dn.UNKNOWN:return ne.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return ne.INTERNAL;case Dn.UNAVAILABLE:return ne.UNAVAILABLE;case Dn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dn.NOT_FOUND:return ne.NOT_FOUND;case Dn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dn.ABORTED:return ne.ABORTED;case Dn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dn.DATA_LOSS:return ne.DATA_LOSS;default:return Le()}}(bt=Dn||(Dn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";var Qn=function(){function i(e,t){this.comparator=e,this.root=t||Ko.EMPTY}return i.prototype.insert=function(e,t){return new i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ko.BLACK,null,null))},i.prototype.remove=function(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ko.BLACK,null,null))},i.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null},i.prototype.indexOf=function(e){for(var t=0,o=this.root;!o.isEmpty();){var u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},i.prototype.forEach=function(e){this.inorderTraversal(function(t,o){return e(t,o),!1})},i.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,o){return e.push(t+":"+o),!1}),"{"+e.join(", ")+"}"},i.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},i.prototype.getIterator=function(){return new nd(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(e){return new nd(this.root,e,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new nd(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(e){return new nd(this.root,e,this.comparator,!0)},i}(),nd=function(){function i(e,t,o,u){this.isReverse=u,this.nodeStack=[];for(var d=1;!e.isEmpty();)if(d=t?o(e.key,t):1,u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return i.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},i}(),Ko=function(){function i(e,t,o,u,d){this.key=e,this.value=t,this.color=null!=o?o:i.RED,this.left=null!=u?u:i.EMPTY,this.right=null!=d?d:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(e,t,o,u,d){return new i(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},i.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(e,t,o){var u=this,d=o(e,u.key);return(u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},i.prototype.remove=function(e,t){var o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return i.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},i.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},i.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},i.prototype.rotateLeft=function(){var e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},i.prototype.rotateRight=function(){var e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},i.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},i.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();var e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)},i}();Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Le()},enumerable:!1,configurable:!0}),i.prototype.copy=function(e,t,o,u,d){return this},i.prototype.insert=function(e,t,o){return new Ko(e,t)},i.prototype.remove=function(e,t){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(e){return!1},i.prototype.reverseTraversal=function(e){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var Tn=function(){function i(e){this.comparator=e,this.data=new Qn(this.comparator)}return i.prototype.has=function(e){return null!==this.data.get(e)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(e){return this.data.indexOf(e)},i.prototype.forEach=function(e){this.data.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.forEachInRange=function(e,t){for(var o=this.data.getIteratorFrom(e[0]);o.hasNext();){var u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}},i.prototype.forEachWhile=function(e,t){var o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},i.prototype.getIterator=function(){return new $y(this.data.getIterator())},i.prototype.getIteratorFrom=function(e){return new $y(this.data.getIteratorFrom(e))},i.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},i.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(o){t=t.add(o)}),t},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),o=e.data.getIterator();t.hasNext();){var u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0},i.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},i.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},i.prototype.copy=function(e){var t=new i(this.comparator);return t.data=e,t},i}(),$y=function(){function i(e){this.iter=e}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),eE=new Qn(Ve.comparator);function wi(){return eE}var BA=new Qn(Ve.comparator);function qy(){return BA}var jA=new Qn(Ve.comparator);function tE(){return jA}var UA=new Tn(Ve.comparator);function xt(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=UA,o=0,u=i;o<u.length;o++){var d=u[o];t=t.add(d)}return t}var HA=new Tn(_t);function Wf(){return HA}var zy=function(){function i(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}return i.createSynthesizedRemoteEventForCurrentChange=function(e,t){var o=new Map;return o.set(e,Wy.createSynthesizedTargetChangeForCurrentChange(e,t)),new i(ft.min(),o,Wf(),wi(),xt())},i}(),Wy=function(){function i(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}return i.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new i(Bn.EMPTY_BYTE_STRING,t,xt(),xt(),xt())},i}(),Kf=function(i,e,t,o){this.v=i,this.removedTargetIds=e,this.key=t,this.P=o},nE=function(i,e){this.targetId=i,this.V=e},rE=function(i,e,t,o){void 0===t&&(t=Bn.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=e,this.resumeToken=t,this.cause=o},iE=function(){function i(){this.S=0,this.D=sE(),this.C=Bn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),i.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},i.prototype.M=function(){var e=xt(),t=xt(),o=xt();return this.D.forEach(function(u,d){switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Le()}}),new Wy(this.C,this.N,e,t,o)},i.prototype.L=function(){this.k=!1,this.D=sE()},i.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},i.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.k=!0,this.N=!0},i}(),GA=function(){function i(e){this.W=e,this.G=new Map,this.H=wi(),this.J=oE(),this.Y=new Tn(_t)}return i.prototype.X=function(e){for(var t=0,o=e.v;t<o.length;t++){var u=o[t];e.P&&e.P.isFoundDocument()?this.Z(u,e.P):this.tt(u,e.key,e.P)}for(var d=0,f=e.removedTargetIds;d<f.length;d++)this.tt(u=f[d],e.key,e.P)},i.prototype.et=function(e){var t=this;this.forEachTarget(e,function(o){var u=t.nt(o);switch(e.state){case 0:t.st(o)&&u.O(e.resumeToken);break;case 1:u.K(),u.F||u.L(),u.O(e.resumeToken);break;case 2:u.K(),u.F||t.removeTarget(o);break;case 3:t.st(o)&&(u.j(),u.O(e.resumeToken));break;case 4:t.st(o)&&(t.it(o),u.O(e.resumeToken));break;default:Le()}})},i.prototype.forEachTarget=function(e,t){var o=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(u,d){o.st(d)&&t(d)})},i.prototype.rt=function(e){var t=e.targetId,o=e.V.count,u=this.ot(t);if(u){var d=u.target;if(el(d))if(0===o){var f=new Ve(d.path);this.tt(t,f,jn.newNoDocument(f,ft.min()))}else Xe(1===o);else this.ct(t)!==o&&(this.it(t),this.Y=this.Y.add(t))}},i.prototype.ut=function(e){var t=this,o=new Map;this.G.forEach(function(f,g){var _=t.ot(g);if(_){if(f.current&&el(_.target)){var w=new Ve(_.target.path);null!==t.H.get(w)||t.at(g,w)||t.tt(g,w,jn.newNoDocument(w,e))}f.$&&(o.set(g,f.M()),f.L())}});var u=xt();this.J.forEach(function(f,g){var _=!0;g.forEachWhile(function(w){var C=t.ot(w);return!C||2===C.purpose||(_=!1,!1)}),_&&(u=u.add(f))});var d=new zy(e,o,this.Y,this.H,u);return this.H=wi(),this.J=oE(),this.Y=new Tn(_t),d},i.prototype.Z=function(e,t){if(this.st(e)){var o=this.at(e,t.key)?2:0;this.nt(e).B(t.key,o),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},i.prototype.tt=function(e,t,o){if(this.st(e)){var u=this.nt(e);this.at(e,t)?u.B(t,1):u.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),o&&(this.H=this.H.insert(t,o))}},i.prototype.removeTarget=function(e){this.G.delete(e)},i.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},i.prototype.U=function(e){this.nt(e).U()},i.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new iE,this.G.set(e,t)),t},i.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Tn(_t),this.J=this.J.insert(e,t)),t},i.prototype.st=function(e){var t=null!==this.ot(e);return t||Ce("WatchChangeAggregator","Detected inactive target",e),t},i.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},i.prototype.it=function(e){var t=this;this.G.set(e,new iE),this.W.getRemoteKeysForTarget(e).forEach(function(o){t.tt(e,o,null)})},i.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},i}();function oE(){return new Qn(Ve.comparator)}function sE(){return new Qn(Ve.comparator)}var aE={asc:"ASCENDING",desc:"DESCENDING"},uE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lE=function(i,e){this.databaseId=i,this.I=e};function al(i,e){return i.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ky(i,e){return i.I?e.toBase64():e.toUint8Array()}function cE(i,e){return al(i,e.toTimestamp())}function xn(i){return Xe(!!i),ft.fromTimestamp((t=qo(i),new Zr(t.seconds,t.nanos)));var t}function Yf(i,e){return(t=i,new Tt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Yy(i){var e=Tt.fromString(i);return Xe(Jf(e)),e}function xa(i,e){return Yf(i.databaseId,e.path)}function Hi(i,e){var t=Yy(e);if(t.get(1)!==i.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ve(Fa(t))}function Yo(i,e){return Yf(i.databaseId,e)}function dE(i){var e=Yy(i);return 4===e.length?Tt.emptyPath():Fa(e)}function rd(i){return new Tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Fa(i){return Xe(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function $A(i,e,t){return{name:xa(i,e),fields:t.value.mapValue.fields}}function Qf(i,e,t){var o=Hi(i,e.name),u=xn(e.updateTime),d=new Jr({mapValue:{fields:e.fields}}),f=jn.newFoundDocument(o,u,d);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Qy(i,e){var t,u;if(e instanceof ol)t={update:$A(i,e.key,e.value)};else if(e instanceof sl)t={delete:xa(i,e.key)};else if(e instanceof ks)t={update:$A(i,e.key,e.data),updateMask:gE(e.fieldMask)};else{if(!(e instanceof qf))return Le();t={verify:xa(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(o){return function(u,d){var f=d.transform;if(f instanceof ed)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ps)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lr)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Oa)return{fieldPath:d.field.canonicalString(),increment:f.A};throw Le()}(0,o)})),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:cE(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Le()),t}function Zy(i,e){var w,t=e.currentDocument?void 0!==(w=e.currentDocument).updateTime?Yn.updateTime(xn(w.updateTime)):void 0!==w.exists?Yn.exists(w.exists):Yn.none():Yn.none(),o=e.updateTransforms?e.updateTransforms.map(function(w){return function(C,T){var S=null;"setToServerValue"in T?(Xe("REQUEST_TIME"===T.setToServerValue),S=new ed):"appendMissingElements"in T?S=new Ps(T.appendMissingElements.values||[]):"removeAllFromArray"in T?S=new lr(T.removeAllFromArray.values||[]):"increment"in T?S=new Oa(C,T.increment):Le();var k=ji.fromServerFormat(T.fieldPath);return new _r(k,S)}(i,w)}):[];if(e.update){var u=Hi(i,e.update.name),d=new Jr({mapValue:{fields:e.update.fields}});if(e.updateMask){var f=function(w){return new Ta((w.fieldPaths||[]).map(function(T){return ji.fromServerFormat(T)}))}(e.updateMask);return new ks(u,d,f,t,o)}return new ol(u,d,t,o)}if(e.delete){var g=Hi(i,e.delete);return new sl(g,t)}if(e.verify){var _=Hi(i,e.verify);return new qf(_,t)}return Le()}function Jy(i,e){return{documents:[Yo(i,e.path)]}}function qA(i,e){var t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Yo(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Yo(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);var u=function(g){if(0!==g.length){var _=g.map(function(w){return function(C){if("=="===C.op){if(Bf(C.value))return{unaryFilter:{field:Qo(C.field),op:"IS_NAN"}};if(Vf(C.value))return{unaryFilter:{field:Qo(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(Bf(C.value))return{unaryFilter:{field:Qo(C.field),op:"IS_NOT_NAN"}};if(Vf(C.value))return{unaryFilter:{field:Qo(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(C.field),op:zA(C.op),value:C.value}}}(w)});return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}}(e.filters);u&&(t.structuredQuery.where=u);var d=function(g){if(0!==g.length)return g.map(function(_){return{field:Qo((w=_).field),direction:Zf(w.dir)};var w})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);var _,f=(_=e.limit,i.I||xs(_)?_:{value:_});return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=fE(e.startAt)),e.endAt&&(t.structuredQuery.endAt=fE(e.endAt)),t}function $e(i){var e=dE(i.parent),t=i.structuredQuery,o=t.from?t.from.length:0,u=null;if(o>0){Xe(1===o);var d=t.from[0];d.allDescendants?u=d.collectionId:e=e.child(d.collectionId)}var f=[];t.where&&(f=hE(t.where));var g=[];t.orderBy&&(g=t.orderBy.map(function(T){return new Fs(Zo((S=T).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));var T,S,_=null;t.limit&&(_=xs(S="object"==typeof(T=t.limit)?T.value:T)?null:S);var w=null;t.startAt&&(w=pE(t.startAt));var C=null;return t.endAt&&(C=pE(t.endAt)),Oy(e,u,g,f,_,"F",w,C)}function hE(i){return i?void 0!==i.unaryFilter?[aR(i)]:void 0!==i.fieldFilter?[rn(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(e){return hE(e)}).reduce(function(e,t){return e.concat(t)}):Le():[]}function fE(i){return{before:i.before,values:i.position}}function pE(i){return new tl(i.values||[],!!i.before)}function Zf(i){return aE[i]}function zA(i){return uE[i]}function Qo(i){return{fieldPath:i.canonicalString()}}function Zo(i){return ji.fromServerFormat(i.fieldPath)}function rn(i){return vr.create(Zo(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Le()}}(i.fieldFilter.op),i.fieldFilter.value)}function aR(i){switch(i.unaryFilter.op){case"IS_NAN":var e=Zo(i.unaryFilter.field);return vr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=Zo(i.unaryFilter.field);return vr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=Zo(i.unaryFilter.field);return vr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var u=Zo(i.unaryFilter.field);return vr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Le()}}function gE(i){var e=[];return i.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Jf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Gi(i){for(var e="",t=0;t<i.length;t++)e.length>0&&(e=Xy(e)),e=mE(i.get(t),e);return Xy(e)}function mE(i,e){for(var t=e,o=i.length,u=0;u<o;u++){var d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Xy(i){return i+"\x01\x01"}function po(i){var e=i.length;if(Xe(e>=2),2===e)return Xe("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Tt.emptyPath();for(var t=e-2,o=[],u="",d=0;d<e;){var f=i.indexOf("\x01",d);switch((f<0||f>t)&&Le(),i.charAt(f+1)){case"\x01":var g=i.substring(d,f),_=void 0;0===u.length?_=g:(_=u+=g,u=""),o.push(_);break;case"\x10":u+=i.substring(d,f),u+="\0";break;case"\x11":u+=i.substring(d,f+1);break;default:Le()}d=f+2}return new Tt(o)}var yE=function(i,e){this.seconds=i,this.nanoseconds=e},Xr=function(i,e,t){this.ownerId=i,this.allowTabSynchronization=e,this.leaseTimestampMs=t};Xr.store="owner",Xr.key="owner";var Ls=function(i,e,t){this.userId=i,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};Ls.store="mutationQueues",Ls.keyPath="userId";var Ut=function(i,e,t,o,u){this.userId=i,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=o,this.mutations=u};Ut.store="mutations",Ut.keyPath="batchId",Ut.userMutationsIndex="userMutationsIndex",Ut.userMutationsKeyPath=["userId","batchId"];var Sn=function(){function i(){}return i.prefixForUser=function(e){return[e]},i.prefixForPath=function(e,t){return[e,Gi(t)]},i.key=function(e,t,o){return[e,Gi(t),o]},i}();Sn.store="documentMutations",Sn.PLACEHOLDER=new Sn;var WA=function(i,e){this.path=i,this.readTime=e},KA=function(i,e){this.path=i,this.version=e},on=function(i,e,t,o,u,d){this.unknownDocument=i,this.noDocument=e,this.document=t,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=d};on.store="remoteDocuments",on.readTimeIndex="readTimeIndex",on.readTimeIndexPath="readTime",on.collectionReadTimeIndex="collectionReadTimeIndex",on.collectionReadTimeIndexPath=["parentPath","readTime"];var ei=function(i){this.byteSize=i};ei.store="remoteDocumentGlobal",ei.key="remoteDocumentGlobalKey";var br=function(i,e,t,o,u,d,f){this.targetId=i,this.canonicalId=e,this.readTime=t,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=d,this.query=f};br.store="targets",br.keyPath="targetId",br.queryTargetsIndexName="queryTargetsIndex",br.queryTargetsKeyPath=["canonicalId","targetId"];var Un=function(i,e,t){this.targetId=i,this.path=e,this.sequenceNumber=t};Un.store="targetDocuments",Un.keyPath=["targetId","path"],Un.documentTargetsIndex="documentTargetsIndex",Un.documentTargetsKeyPath=["path","targetId"];var Br=function(i,e,t,o){this.highestTargetId=i,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=o};Br.key="targetGlobalKey",Br.store="targetGlobal";var Pa=function(i,e){this.collectionId=i,this.parent=e};Pa.store="collectionParents",Pa.keyPath=["collectionId","parent"];var ti=function(i,e,t,o){this.clientId=i,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=o};ti.store="clientMetadata",ti.keyPath="clientId";var go=function(i,e,t){this.bundleId=i,this.createTime=e,this.version=t};go.store="bundles",go.keyPath="bundleId";var ul=function(i,e,t){this.name=i,this.readTime=e,this.bundledQuery=t};ul.store="namedQueries",ul.keyPath="name";var YA=(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],[Ls.store,Ut.store,Sn.store,on.store,br.store,Xr.store,Br.store,Un.store]),[ti.store])),[ei.store])),[Pa.store])),[go.store,ul.store]),vE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ev=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},i}(),Zn=function(){var i=this;this.promise=new Promise(function(e,t){i.resolve=e,i.reject=t})},Ee=function(){function i(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(o){t.isDone=!0,t.result=o,t.nextCallback&&t.nextCallback(o)},function(o){t.isDone=!0,t.error=o,t.catchCallback&&t.catchCallback(o)})}return i.prototype.catch=function(e){return this.next(void 0,e)},i.prototype.next=function(e,t){var o=this;return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new i(function(u,d){o.nextCallback=function(f){o.wrapSuccess(e,f).next(u,d)},o.catchCallback=function(f){o.wrapFailure(t,f).next(u,d)}})},i.prototype.toPromise=function(){var e=this;return new Promise(function(t,o){e.next(t,o)})},i.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof i?t:i.resolve(t)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.resolve(t)},i.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.reject(t)},i.resolve=function(e){return new i(function(t,o){t(e)})},i.reject=function(e){return new i(function(t,o){o(e)})},i.waitFor=function(e){return new i(function(t,o){var u=0,d=0,f=!1;e.forEach(function(g){++u,g.next(function(){++d,f&&d===u&&t()},function(_){return o(_)})}),f=!0,d===u&&t()})},i.or=function(e){for(var t=i.resolve(!1),o=function(f){t=t.next(function(g){return g?i.resolve(g):f()})},u=0,d=e;u<d.length;u++)o(d[u]);return t},i.forEach=function(e,t){var o=this,u=[];return e.forEach(function(d,f){u.push(t.call(o,d,f))}),this.waitFor(u)},i}(),_E=function(){function i(e,t){var o=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Zn,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){t.error?o.ft.reject(new id(e,t.error)):o.ft.resolve()},this.transaction.onerror=function(u){var d=Xf(u.target.error);o.ft.reject(new id(e,d))}}return i.open=function(e,t,o,u){try{return new i(t,e.transaction(u,o))}catch(d){throw new id(t,d)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(e){var t=this.transaction.objectStore(e);return new uR(t)},i}(),ka=function(){function i(e,t,o){this.name=e,this.version=t,this.wt=o,12.2===i._t((0,It.z$)())&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(e){return Ce("SimpleDb","Removing database:",e),cl(window.indexedDB.deleteDatabase(e)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var e=(0,It.z$)(),t=i._t(e),o=0<t&&t<10,u=i.Et(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)},i.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},i.It=function(e,t){return e.store(t)},i._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(e){var t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t,o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(d,f){var g=indexedDB.open(o.name,o.version);g.onsuccess=function(_){d(_.target.result)},g.onblocked=function(){f(new id(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=function(_){var w=_.target.error;f("VersionError"===w.name?new _e(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new id(e,w))},g.onupgradeneeded=function(_){Ce("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',_.oldVersion),o.wt.Rt(_.target.result,g.transaction,_.oldVersion,o.version).next(function(){Ce("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:t.db=u.sent(),u.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(d){return o.bt(d)}),this.db)]}})})},i.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},i.prototype.runTransaction=function(e,t,o,u){return(0,M.mG)(this,void 0,void 0,function(){var d,f,g,_,w;return(0,M.Jh)(this,function(C){switch(C.label){case 0:d="readonly"===t,f=0,g=function(){var T,S,N,R,k;return(0,M.Jh)(this,function($){switch($.label){case 0:++f,$.label=1;case 1:return $.trys.push([1,4,,5]),[4,_.At(e)];case 2:return _.db=$.sent(),T=_E.open(_.db,e,d?"readonly":"readwrite",o),S=u(T).catch(function(Y){return T.abort(Y),Ee.reject(Y)}).toPromise(),N={},S.catch(function(){}),[4,T.dt];case 3:return[2,(N.value=($.sent(),S),N)];case 4:return Ce("SimpleDb","Transaction failed with error:",(R=$.sent()).message,"Retrying:",k="FirebaseError"!==R.name&&f<3),_.close(),k?[3,5]:[2,{value:Promise.reject(R)}];case 5:return[2]}})},_=this,C.label=1;case 1:return[5,g()];case 2:if("object"==typeof(w=C.sent()))return[2,w.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),QA=function(){function i(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(e){this.St=e},i.prototype.delete=function(){return cl(this.Pt.delete())},i}(),id=function(i){function e(t,o){var u=this;return(u=i.call(this,ne.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+o)||this).name="IndexedDbTransactionError",u}return(0,M.ZT)(e,i),e}(_e);function ll(i){return"IndexedDbTransactionError"===i.name}var uR=function(){function i(e){this.store=e}return i.prototype.put=function(e,t){var o;return void 0!==t?(Ce("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),cl(o)},i.prototype.add=function(e){return Ce("SimpleDb","ADD",this.store.name,e,e),cl(this.store.add(e))},i.prototype.get=function(e){var t=this;return cl(this.store.get(e)).next(function(o){return void 0===o&&(o=null),Ce("SimpleDb","GET",t.store.name,e,o),o})},i.prototype.delete=function(e){return Ce("SimpleDb","DELETE",this.store.name,e),cl(this.store.delete(e))},i.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),cl(this.store.count())},i.prototype.Nt=function(e,t){var o=this.cursor(this.options(e,t)),u=[];return this.xt(o,function(d,f){u.push(f)}).next(function(){return u})},i.prototype.kt=function(e,t){Ce("SimpleDb","DELETE ALL",this.store.name);var o=this.options(e,t);o.Ft=!1;var u=this.cursor(o);return this.xt(u,function(d,f,g){return g.delete()})},i.prototype.$t=function(e,t){var o;t?o=e:(o={},t=e);var u=this.cursor(o);return this.xt(u,t)},i.prototype.Ot=function(e){var t=this.cursor({});return new Ee(function(o,u){t.onerror=function(d){var f=Xf(d.target.error);u(f)},t.onsuccess=function(d){var f=d.target.result;f?e(f.primaryKey,f.value).next(function(g){g?f.continue():o()}):o()}})},i.prototype.xt=function(e,t){var o=[];return new Ee(function(u,d){e.onerror=function(f){d(f.target.error)},e.onsuccess=function(f){var g=f.target.result;if(g){var _=new QA(g),w=t(g.primaryKey,g.value,_);if(w instanceof Ee){var C=w.catch(function(T){return _.done(),Ee.reject(T)});o.push(C)}_.isDone?u():null===_.Dt?g.continue():g.continue(_.Dt)}else u()}}).next(function(){return Ee.waitFor(o)})},i.prototype.options=function(e,t){var o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}},i.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var o=this.store.index(e.index);return e.Ft?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},i}();function cl(i){return new Ee(function(e,t){i.onsuccess=function(o){e(o.target.result)},i.onerror=function(o){var u=Xf(o.target.error);t(u)}})}var ZA=!1;function Xf(i){var e=ka._t((0,It.z$)());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){var o=new _e("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ZA||(ZA=!0,setTimeout(function(){throw o},0)),o}}return i}var od=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).Mt=t,u.currentSequenceNumber=o,u}return(0,M.ZT)(e,i),e}(ev);function jr(i,e){var t=Se(i);return ka.It(t.Mt,e)}var tv=function(){function i(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}return i.prototype.applyToRemoteDocument=function(e,t){for(var o=t.mutationResults,u=0;u<this.mutations.length;u++){var d=this.mutations[u];d.key.isEqual(e.key)&&VA(d,e,o[u])}},i.prototype.applyToLocalView=function(e){for(var t=0,o=this.baseMutations;t<o.length;t++)(f=o[t]).key.isEqual(e.key)&&Vy(f,e,this.localWriteTime);for(var u=0,d=this.mutations;u<d.length;u++){var f;(f=d[u]).key.isEqual(e.key)&&Vy(f,e,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(o){var u=e.get(o.key),d=u;t.applyToLocalView(d),u.isValidDocument()||d.convertToNoDocument(ft.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},xt())},i.prototype.isEqual=function(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,function(t,o){return il(t,o)})&&zc(this.baseMutations,e.baseMutations,function(t,o){return il(t,o)})},i}(),bE=function(){function i(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}return i.from=function(e,t,o){Xe(e.mutations.length===o.length);for(var u=tE(),d=e.mutations,f=0;f<d.length;f++)u=u.insert(d[f].key,o[f].version);return new i(e,t,o,u)},i}(),Vs=function(){function i(e,t,o,u,d,f,g){void 0===d&&(d=ft.min()),void 0===f&&(f=ft.min()),void 0===g&&(g=Bn.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g}return i.prototype.withSequenceNumber=function(e){return new i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(e,t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},i.prototype.withLastLimboFreeSnapshotVersion=function(e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},i}(),wE=function(i){this.Lt=i};function nv(i,e){if(e.document)return Qf(i.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Ve.fromSegments(e.noDocument.path),o=dl(e.noDocument.readTime),u=jn.newNoDocument(t,o);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){var d=Ve.fromSegments(e.unknownDocument.path);return o=dl(e.unknownDocument.version),jn.newUnknownDocument(d,o)}return Le()}function EE(i,e,t){var T,S,o=rv(t),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){var d={name:xa(T=i.Lt,(S=e).key),fields:S.data.value.mapValue.fields,updateTime:al(T,S.version.toTimestamp())},f=e.hasCommittedMutations;return new on(null,null,d,f,o,u)}if(e.isNoDocument()){var g=e.key.path.toArray(),_=La(e.version);return f=e.hasCommittedMutations,new on(null,new WA(g,_),null,f,o,u)}if(e.isUnknownDocument()){var w=e.key.path.toArray(),C=La(e.version);return new on(new KA(w,C),null,null,!0,o,u)}return Le()}function rv(i){var e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function CE(i){var e=new Zr(i[0],i[1]);return ft.fromTimestamp(e)}function La(i){var e=i.toTimestamp();return new yE(e.seconds,e.nanoseconds)}function dl(i){var e=new Zr(i.seconds,i.nanoseconds);return ft.fromTimestamp(e)}function hl(i,e){for(var t=(e.baseMutations||[]).map(function(_){return Zy(i.Lt,_)}),o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);var f=e.mutations.map(function(_){return Zy(i.Lt,_)}),g=Zr.fromMillis(e.localWriteTimeMs);return new tv(e.batchId,g,t,f)}function mo(i){var e,t,o=dl(i.readTime),u=void 0!==i.lastLimboFreeSnapshotVersion?dl(i.lastLimboFreeSnapshotVersion):ft.min();return void 0!==i.query.documents?(Xe(1===(t=i.query).documents.length),e=_i(Ma(dE(t.documents[0])))):e=_i($e(i.query)),new Vs(e,i.targetId,0,i.lastListenSequenceNumber,o,u,Bn.fromBase64String(i.resumeToken))}function DE(i,e){var t,o=La(e.snapshotVersion),u=La(e.lastLimboFreeSnapshotVersion);t=el(e.target)?Jy(i.Lt,e.target):qA(i.Lt,e.target);var d=e.resumeToken.toBase64();return new br(e.targetId,Ia(e.target),o,d,e.sequenceNumber,u,t)}function ep(i){var e=$e({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Cn(e,e.limit,"L"):e}var JA=function(){function i(){}return i.prototype.getBundleMetadata=function(e,t){return iv(e).get(t).next(function(o){if(o)return{id:(u=o).bundleId,createTime:dl(u.createTime),version:u.version};var u})},i.prototype.saveBundleMetadata=function(e,t){return iv(e).put({bundleId:(o=t).id,createTime:La(xn(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(e,t){return TE(e).get(t).next(function(o){if(o)return{name:(u=o).name,query:ep(u.bundledQuery),readTime:dl(u.readTime)};var u})},i.prototype.saveNamedQuery=function(e,t){return TE(e).put({name:(o=t).name,readTime:La(xn(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function iv(i){return jr(i,go.store)}function TE(i){return jr(i,ul.store)}var SE=function(){function i(){this.Bt=new ov}return i.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ee.resolve()},i.prototype.getCollectionParents=function(e,t){return Ee.resolve(this.Bt.getEntries(t))},i}(),ov=function(){function i(){this.index={}}return i.prototype.add=function(e){var t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Tn(Tt.comparator),d=!u.has(o);return this.index[t]=u.add(o),d},i.prototype.has=function(e){var t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)},i.prototype.getEntries=function(e){return(this.index[e]||new Tn(Tt.comparator)).toArray()},i}(),sv=function(){function i(){this.qt=new ov}return i.prototype.addToCollectionParentIndex=function(e,t){var o=this;if(!this.qt.has(t)){var u=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(function(){o.qt.add(t)});var f={collectionId:u,parent:Gi(d)};return AE(e).put(f)}return Ee.resolve()},i.prototype.getCollectionParents=function(e,t){var o=[],u=IDBKeyRange.bound([t,""],[RA(t),""],!1,!0);return AE(e).Nt(u).next(function(d){for(var f=0,g=d;f<g.length;f++){var _=g[f];if(_.collectionId!==t)break;o.push(po(_.parent))}return o})},i}();function AE(i){return jr(i,Pa.store)}var av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$i=function(){function i(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function IE(i,e,t){var o=i.store(Ut.store),u=i.store(Sn.store),d=[],f=IDBKeyRange.only(t.batchId),g=0,_=o.$t({range:f},function(R,k,$){return g++,$.delete()});d.push(_.next(function(){Xe(1===g)}));for(var w=[],C=0,T=t.mutations;C<T.length;C++){var S=T[C],N=Sn.key(e,S.key.path,t.batchId);d.push(u.delete(N)),w.push(S.key)}return Ee.waitFor(d).next(function(){return w})}function tp(i){if(!i)return 0;var e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Le();e=i.noDocument}return JSON.stringify(e).length}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);var XA=function(){function i(e,t,o,u){this.userId=e,this.R=t,this.Ut=o,this.referenceDelegate=u,this.Kt={}}return i.Qt=function(e,t,o,u){return Xe(""!==e.uid),new i(e.isAuthenticated()?e.uid:"",t,o,u)},i.prototype.checkEmpty=function(e){var t=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).$t({index:Ut.userMutationsIndex,range:o},function(u,d,f){t=!1,f.done()}).next(function(){return t})},i.prototype.addMutationBatch=function(e,t,o,u){var d=this,f=Va(e),g=Bs(e);return g.add({}).next(function(_){Xe("number"==typeof _);for(var w=new tv(_,t,o,u),C=function(Y,he,pe){var Te=pe.baseMutations.map(function(et){return Qy(Y.Lt,et)}),Ie=pe.mutations.map(function(et){return Qy(Y.Lt,et)});return new Ut(he,pe.batchId,pe.localWriteTime.toMillis(),Te,Ie)}(d.R,d.userId,w),T=[],S=new Tn(function(Y,he){return _t(Y.canonicalString(),he.canonicalString())}),N=0,R=u;N<R.length;N++){var k=R[N],$=Sn.key(d.userId,k.key.path,_);S=S.add(k.key.path.popLast()),T.push(g.put(C)),T.push(f.put($,Sn.PLACEHOLDER))}return S.forEach(function(Y){T.push(d.Ut.addToCollectionParentIndex(e,Y))}),e.addOnCommittedListener(function(){d.Kt[_]=w.keys()}),Ee.waitFor(T).next(function(){return w})})},i.prototype.lookupMutationBatch=function(e,t){var o=this;return Bs(e).get(t).next(function(u){return u?(Xe(u.userId===o.userId),hl(o.R,u)):null})},i.prototype.jt=function(e,t){var o=this;return this.Kt[t]?Ee.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(u){if(u){var d=u.keys();return o.Kt[t]=d,d}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var o=this,u=t+1,d=IDBKeyRange.lowerBound([this.userId,u]),f=null;return Bs(e).$t({index:Ut.userMutationsIndex,range:d},function(g,_,w){_.userId===o.userId&&(Xe(_.batchId>=u),f=hl(o.R,_)),w.done()}).next(function(){return f})},i.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return Bs(e).$t({index:Ut.userMutationsIndex,range:t,reverse:!0},function(u,d,f){o=d.batchId,f.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(e){var t=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).Nt(Ut.userMutationsIndex,o).next(function(u){return u.map(function(d){return hl(t.R,d)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,u=Sn.prefixForPath(this.userId,t.path),d=IDBKeyRange.lowerBound(u),f=[];return Va(e).$t({range:d},function(g,_,w){var C=g[0],S=g[2],N=po(g[1]);if(C===o.userId&&t.path.isEqual(N))return Bs(e).get(S).next(function(R){if(!R)throw Le();Xe(R.userId===o.userId),f.push(hl(o.R,R))});w.done()}).next(function(){return f})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,u=new Tn(_t),d=[];return t.forEach(function(f){var g=Sn.prefixForPath(o.userId,f.path),_=IDBKeyRange.lowerBound(g),w=Va(e).$t({range:_},function(C,T,S){var N=C[0],k=C[2],$=po(C[1]);N===o.userId&&f.path.isEqual($)?u=u.add(k):S.done()});d.push(w)}),Ee.waitFor(d).next(function(){return o.Wt(e,u)})},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=this,u=t.path,d=u.length+1,f=Sn.prefixForPath(this.userId,u),g=IDBKeyRange.lowerBound(f),_=new Tn(_t);return Va(e).$t({range:g},function(w,C,T){var S=w[0],R=w[2],k=po(w[1]);S===o.userId&&u.isPrefixOf(k)?k.length===d&&(_=_.add(R)):T.done()}).next(function(){return o.Wt(e,_)})},i.prototype.Wt=function(e,t){var o=this,u=[],d=[];return t.forEach(function(f){d.push(Bs(e).get(f).next(function(g){if(null===g)throw Le();Xe(g.userId===o.userId),u.push(hl(o.R,g))}))}),Ee.waitFor(d).next(function(){return u})},i.prototype.removeMutationBatch=function(e,t){var o=this;return IE(e.Mt,this.userId,t).next(function(u){return e.addOnCommittedListener(function(){o.Gt(t.batchId)}),Ee.forEach(u,function(d){return o.referenceDelegate.markPotentiallyOrphaned(e,d)})})},i.prototype.Gt=function(e){delete this.Kt[e]},i.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(o){if(!o)return Ee.resolve();var u=IDBKeyRange.lowerBound(Sn.prefixForUser(t.userId)),d=[];return Va(e).$t({range:u},function(f,g,_){if(f[0]===t.userId){var w=po(f[1]);d.push(w)}else _.done()}).next(function(){Xe(0===d.length)})})},i.prototype.containsKey=function(e,t){return np(e,this.userId,t)},i.prototype.zt=function(e){var t=this;return ME(e).get(this.userId).next(function(o){return o||new Ls(t.userId,-1,"")})},i}();function np(i,e,t){var o=Sn.prefixForPath(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o),f=!1;return Va(i).$t({range:d,Ft:!0},function(g,_,w){g[0]===e&&g[1]===u&&(f=!0),w.done()}).next(function(){return f})}function Bs(i){return jr(i,Ut.store)}function Va(i){return jr(i,Sn.store)}function ME(i){return jr(i,Ls.store)}var rp=function(){function i(e){this.Ht=e}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),eI=function(){function i(e,t){this.referenceDelegate=e,this.R=t}return i.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(o){var u=new rp(o.highestTargetId);return o.highestTargetId=u.next(),t.Zt(e,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return ft.fromTimestamp(new Zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(e,t,o){var u=this;return this.Xt(e).next(function(d){return d.highestListenSequenceNumber=t,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),u.Zt(e,d)})},i.prototype.addTargetData=function(e,t){var o=this;return this.te(e,t).next(function(){return o.Xt(e).next(function(u){return u.targetCount+=1,o.ee(t,u),o.Zt(e,u)})})},i.prototype.updateTargetData=function(e,t){return this.te(e,t)},i.prototype.removeTargetData=function(e,t){var o=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return fl(e).delete(t.targetId)}).next(function(){return o.Xt(e)}).next(function(u){return Xe(u.targetCount>0),u.targetCount-=1,o.Zt(e,u)})},i.prototype.removeTargets=function(e,t,o){var u=this,d=0,f=[];return fl(e).$t(function(g,_){var w=mo(_);w.sequenceNumber<=t&&null===o.get(w.targetId)&&(d++,f.push(u.removeTargetData(e,w)))}).next(function(){return Ee.waitFor(f)}).next(function(){return d})},i.prototype.forEachTarget=function(e,t){return fl(e).$t(function(o,u){var d=mo(u);t(d)})},i.prototype.Xt=function(e){return NE(e).get(Br.key).next(function(t){return Xe(null!==t),t})},i.prototype.Zt=function(e,t){return NE(e).put(Br.key,t)},i.prototype.te=function(e,t){return fl(e).put(DE(this.R,t))},i.prototype.ee=function(e,t){var o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},i.prototype.getTargetData=function(e,t){var o=Ia(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),d=null;return fl(e).$t({range:u,index:br.queryTargetsIndexName},function(f,g,_){var w=mo(g);Qc(t,w.target)&&(d=w,_.done())}).next(function(){return d})},i.prototype.addMatchingKeys=function(e,t,o){var u=this,d=[],f=js(e);return t.forEach(function(g){var _=Gi(g.path);d.push(f.put(new Un(o,_))),d.push(u.referenceDelegate.addReference(e,o,g))}),Ee.waitFor(d)},i.prototype.removeMatchingKeys=function(e,t,o){var u=this,d=js(e);return Ee.forEach(t,function(f){var g=Gi(f.path);return Ee.waitFor([d.delete([o,g]),u.referenceDelegate.removeReference(e,o,f)])})},i.prototype.removeMatchingKeysForTargetId=function(e,t){var o=js(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=IDBKeyRange.bound([t],[t+1],!1,!0),u=js(e),d=xt();return u.$t({range:o,Ft:!0},function(f,g,_){var w=po(f[1]),C=new Ve(w);d=d.add(C)}).next(function(){return d})},i.prototype.containsKey=function(e,t){var o=Gi(t.path),u=IDBKeyRange.bound([o],[RA(o)],!1,!0),d=0;return js(e).$t({index:Un.documentTargetsIndex,Ft:!0,range:u},function(f,g,_){0!==f[0]&&(d++,_.done())}).next(function(){return d>0})},i.prototype.lt=function(e,t){return fl(e).get(t).next(function(o){return o?mo(o):null})},i}();function fl(i){return jr(i,br.store)}function NE(i){return jr(i,Br.store)}function js(i){return jr(i,Un.store)}function Ba(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){if(i.code!==ne.FAILED_PRECONDITION||i.message!==vE)throw i;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function RE(i,e){var o=i[1],d=e[1],f=_t(i[0],e[0]);return 0===f?_t(o,d):f}var OE=function(){function i(e){this.ne=e,this.buffer=new Tn(RE),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var o=this.buffer.last();RE(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),xE=function(){function i(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return i.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(e){var t=this,o=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,M.mG)(t,void 0,void 0,function(){var u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:this.ce=null,this.oe=!0,d.label=1;case 1:return d.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return d.sent(),[3,7];case 3:return ll(u=d.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u),[3,6]):[3,4];case 4:return[4,Ba(u)];case 5:d.sent(),d.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return d.sent(),[2]}})})})},i}(),tI=function(){function i(e,t){this.ae=e,this.params=t}return i.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(o){return Math.floor(t/100*o)})},i.prototype.nthSequenceNumber=function(e,t){var o=this;if(0===t)return Ee.resolve(Qr.o);var u=new OE(t);return this.ae.forEachTarget(e,function(d){return u.re(d.sequenceNumber)}).next(function(){return o.ae.le(e,function(d){return u.re(d)})}).next(function(){return u.maxValue})},i.prototype.removeTargets=function(e,t,o){return this.ae.removeTargets(e,t,o)},i.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},i.prototype.collect=function(e,t){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(av)):this.getCacheSize(e).next(function(u){return u<o.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+u+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),av):o.fe(e,t)})},i.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},i.prototype.fe=function(e,t){var o,u,d,f,g,_,w,C=this,T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(S){return S>C.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+S),u=C.params.maximumSequenceNumbersToCollect):u=S,f=Date.now(),C.nthSequenceNumber(e,u)}).next(function(S){return o=S,g=Date.now(),C.removeTargets(e,o,t)}).next(function(S){return d=S,_=Date.now(),C.removeOrphanedDocuments(e,o)}).next(function(S){return w=Date.now(),Ff()<=Bo.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(f-T)+"ms\n\tDetermined least recently used "+u+" in "+(g-f)+"ms\n\tRemoved "+d+" targets in "+(_-g)+"ms\n\tRemoved "+S+" documents in "+(w-_)+"ms\nTotal Duration: "+(w-T)+"ms"),Ee.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:S})})},i}(),nI=function(){function i(e,t){this.db=e,this.garbageCollector=new tI(this,t)}return i.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(o){return t.next(function(u){return o+u})})},i.prototype.de=function(e){var t=0;return this.le(e,function(o){t++}).next(function(){return t})},i.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},i.prototype.le=function(e,t){return this.we(e,function(o,u){return t(u)})},i.prototype.addReference=function(e,t,o){return sd(e,o)},i.prototype.removeReference=function(e,t,o){return sd(e,o)},i.prototype.removeTargets=function(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)},i.prototype.markPotentiallyOrphaned=function(e,t){return sd(e,t)},i.prototype._e=function(e,t){return u=t,d=!1,ME(o=e).Ot(function(f){return np(o,f,u).next(function(g){return g&&(d=!0),Ee.resolve(!g)})}).next(function(){return d});var o,u,d},i.prototype.removeOrphanedDocuments=function(e,t){var o=this,u=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[],f=0;return this.we(e,function(g,_){if(_<=t){var w=o._e(e,g).next(function(C){if(!C)return f++,u.getEntry(e,g).next(function(){return u.removeEntry(g),js(e).delete([0,Gi(g.path)])})});d.push(w)}}).next(function(){return Ee.waitFor(d)}).next(function(){return u.apply(e)}).next(function(){return f})},i.prototype.removeTarget=function(e,t){var o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)},i.prototype.updateLimboDocument=function(e,t){return sd(e,t)},i.prototype.we=function(e,t){var o,u=js(e),d=Qr.o;return u.$t({index:Un.documentTargetsIndex},function(f,g){var w=g.path,C=g.sequenceNumber;0===f[0]?(d!==Qr.o&&t(new Ve(po(o)),d),d=C,o=w):d=Qr.o}).next(function(){d!==Qr.o&&t(new Ve(po(o)),d)})},i.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},i}();function sd(i,e){return js(i).put((o=i.currentSequenceNumber,new Un(0,Gi(e.path),o)));var o}var pl=function(){function i(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return i.prototype.get=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(var u=0,d=o;u<d.length;u++){var f=d[u],_=f[1];if(this.equalsFn(f[0],e))return _}},i.prototype.has=function(e){return void 0!==this.get(e)},i.prototype.set=function(e,t){var o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(var d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t])}else this.inner[o]=[[e,t]]},i.prototype.delete=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),!0;return!1},i.prototype.forEach=function(e){Qu(this.inner,function(t,o){for(var u=0,d=o;u<d.length;u++){var f=d[u];e(f[0],f[1])}})},i.prototype.isEmpty=function(){return Lw(this.inner)},i}(),FE=function(){function i(){this.changes=new pl(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return i.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ft.min()},i.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},i.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:jn.newInvalidDocument(e),readTime:t})},i.prototype.getEntry=function(e,t){this.assertNotApplied();var o=this.changes.get(t);return void 0!==o?Ee.resolve(o.document):this.getFromCache(e,t)},i.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},i.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},i.prototype.assertNotApplied=function(){},i}(),rI=function(){function i(e,t){this.R=e,this.Ut=t}return i.prototype.addEntry=function(e,t,o){return Jo(e).put(gl(t),o)},i.prototype.removeEntry=function(e,t){var o=Jo(e),u=gl(t);return o.delete(u)},i.prototype.updateMetadata=function(e,t){var o=this;return this.getMetadata(e).next(function(u){return u.byteSize+=t,o.me(e,u)})},i.prototype.getEntry=function(e,t){var o=this;return Jo(e).get(gl(t)).next(function(u){return o.ye(t,u)})},i.prototype.ge=function(e,t){var o=this;return Jo(e).get(gl(t)).next(function(u){return{document:o.ye(t,u),size:tp(u)}})},i.prototype.getEntries=function(e,t){var o=this,u=wi();return this.pe(e,t,function(d,f){var g=o.ye(d,f);u=u.insert(d,g)}).next(function(){return u})},i.prototype.Ee=function(e,t){var o=this,u=wi(),d=new Qn(Ve.comparator);return this.pe(e,t,function(f,g){var _=o.ye(f,g);u=u.insert(f,_),d=d.insert(f,tp(g))}).next(function(){return{documents:u,Te:d}})},i.prototype.pe=function(e,t,o){if(t.isEmpty())return Ee.resolve();var u=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),d=t.getIterator(),f=d.getNext();return Jo(e).$t({range:u},function(g,_,w){for(var C=Ve.fromSegments(g);f&&Ve.comparator(f,C)<0;)o(f,null),f=d.getNext();f&&f.isEqual(C)&&(o(f,_),f=d.hasNext()?d.getNext():null),f?w.Ct(f.path.toArray()):w.done()}).next(function(){for(;f;)o(f,null),f=d.hasNext()?d.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){var u=this,d=wi(),f=t.path.length+1,g={};if(o.isEqual(ft.min())){var _=t.path.toArray();g.range=IDBKeyRange.lowerBound(_)}else{var w=t.path.toArray(),C=rv(o);g.range=IDBKeyRange.lowerBound([w,C],!0),g.index=on.collectionReadTimeIndex}return Jo(e).$t(g,function(T,S,N){if(T.length===f){var R=nv(u.R,S);t.path.isPrefixOf(R.key.path)?rl(t,R)&&(d=d.insert(R.key,R)):N.done()}}).next(function(){return d})},i.prototype.newChangeBuffer=function(e){return new uv(this,!!e&&e.trackRemovals)},i.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},i.prototype.getMetadata=function(e){return ip(e).get(ei.key).next(function(t){return Xe(!!t),t})},i.prototype.me=function(e,t){return ip(e).put(ei.key,t)},i.prototype.ye=function(e,t){if(t){var o=nv(this.R,t);if(!o.isNoDocument()||!o.version.isEqual(ft.min()))return o}return jn.newInvalidDocument(e)},i}(),uv=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).Ie=t,u.trackRemovals=o,u.Ae=new pl(function(d){return d.toString()},function(d,f){return d.isEqual(f)}),u}return(0,M.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,u=[],d=0,f=new Tn(function(g,_){return _t(g.canonicalString(),_.canonicalString())});return this.changes.forEach(function(g,_){var w=o.Ae.get(g);if(_.document.isValidDocument()){var C=EE(o.Ie.R,_.document,o.getReadTime(g));f=f.add(g.path.popLast());var T=tp(C);d+=T-w,u.push(o.Ie.addEntry(t,g,C))}else if(d-=w,o.trackRemovals){var S=EE(o.Ie.R,jn.newNoDocument(g,ft.min()),o.getReadTime(g));u.push(o.Ie.addEntry(t,g,S))}else u.push(o.Ie.removeEntry(t,g))}),f.forEach(function(g){u.push(o.Ie.Ut.addToCollectionParentIndex(t,g))}),u.push(this.Ie.updateMetadata(t,d)),Ee.waitFor(u)},e.prototype.getFromCache=function(t,o){var u=this;return this.Ie.ge(t,o).next(function(d){return u.Ae.set(o,d.size),d.document})},e.prototype.getAllFromCache=function(t,o){var u=this;return this.Ie.Ee(t,o).next(function(d){var f=d.documents;return d.Te.forEach(function(g,_){u.Ae.set(g,_)}),f})},e}(FE);function ip(i){return jr(i,ei.store)}function Jo(i){return jr(i,on.store)}function gl(i){return i.path.toArray()}var iI=function(){function i(e){this.R=e}return i.prototype.Rt=function(e,t,o,u){var d=this;Xe(o<u&&o>=0&&u<=11);var _,f=new _E("createOrUpgrade",t);o<1&&u>=1&&(e.createObjectStore(Xr.store),(_=e).createObjectStore(Ls.store,{keyPath:Ls.keyPath}),_.createObjectStore(Ut.store,{keyPath:Ut.keyPath,autoIncrement:!0}).createIndex(Ut.userMutationsIndex,Ut.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Sn.store),PE(e),function(_){_.createObjectStore(on.store)}(e));var g=Ee.resolve();return o<3&&u>=3&&(0!==o&&(function(_){_.deleteObjectStore(Un.store),_.deleteObjectStore(br.store),_.deleteObjectStore(Br.store)}(e),PE(e)),g=g.next(function(){return function(_){var w=_.store(Br.store),C=new Br(0,0,ft.min().toTimestamp(),0);return w.put(Br.key,C)}(f)})),o<4&&u>=4&&(0!==o&&(g=g.next(function(){return function(_,w){return w.store(Ut.store).Nt().next(function(C){_.deleteObjectStore(Ut.store),_.createObjectStore(Ut.store,{keyPath:Ut.keyPath,autoIncrement:!0}).createIndex(Ut.userMutationsIndex,Ut.userMutationsKeyPath,{unique:!0});var T=w.store(Ut.store),S=C.map(function(N){return T.put(N)});return Ee.waitFor(S)})}(e,f)})),g=g.next(function(){!function(_){_.createObjectStore(ti.store,{keyPath:ti.keyPath})}(e)})),o<5&&u>=5&&(g=g.next(function(){return d.Re(f)})),o<6&&u>=6&&(g=g.next(function(){return function(_){_.createObjectStore(ei.store)}(e),d.be(f)})),o<7&&u>=7&&(g=g.next(function(){return d.ve(f)})),o<8&&u>=8&&(g=g.next(function(){return d.Pe(e,f)})),o<9&&u>=9&&(g=g.next(function(){(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){var w=_.objectStore(on.store);w.createIndex(on.readTimeIndex,on.readTimeIndexPath,{unique:!1}),w.createIndex(on.collectionReadTimeIndex,on.collectionReadTimeIndexPath,{unique:!1})}(t)})),o<10&&u>=10&&(g=g.next(function(){return d.Ve(f)})),o<11&&u>=11&&(g=g.next(function(){(function(_){_.createObjectStore(go.store,{keyPath:go.keyPath})})(e),function(_){_.createObjectStore(ul.store,{keyPath:ul.keyPath})}(e)})),g},i.prototype.be=function(e){var t=0;return e.store(on.store).$t(function(o,u){t+=tp(u)}).next(function(){var o=new ei(t);return e.store(ei.store).put(ei.key,o)})},i.prototype.Re=function(e){var t=this,o=e.store(Ls.store),u=e.store(Ut.store);return o.Nt().next(function(d){return Ee.forEach(d,function(f){var g=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return u.Nt(Ut.userMutationsIndex,g).next(function(_){return Ee.forEach(_,function(w){Xe(w.userId===f.userId);var C=hl(t.R,w);return IE(e,f.userId,C).next(function(){})})})})})},i.prototype.ve=function(e){var t=e.store(Un.store),o=e.store(on.store);return e.store(Br.store).get(Br.key).next(function(u){var d=[];return o.$t(function(f,g){var _=new Tt(f),w=[0,Gi(_)];d.push(t.get(w).next(function(C){return C?Ee.resolve():t.put(new Un(0,Gi(_),u.highestListenSequenceNumber))}))}).next(function(){return Ee.waitFor(d)})})},i.prototype.Pe=function(e,t){e.createObjectStore(Pa.store,{keyPath:Pa.keyPath});var o=t.store(Pa.store),u=new ov,d=function(f){if(u.add(f)){var g=f.lastSegment(),_=f.popLast();return o.put({collectionId:g,parent:Gi(_)})}};return t.store(on.store).$t({Ft:!0},function(f,g){var _=new Tt(f);return d(_.popLast())}).next(function(){return t.store(Sn.store).$t({Ft:!0},function(f,g){var w=po(f[1]);return d(w.popLast())})})},i.prototype.Ve=function(e){var t=this,o=e.store(br.store);return o.$t(function(u,d){var f=mo(d),g=DE(t.R,f);return o.put(g)})},i}();function PE(i){i.createObjectStore(Un.store,{keyPath:Un.keyPath}).createIndex(Un.documentTargetsIndex,Un.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.queryTargetsIndexName,br.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Br.store)}var ad="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oI=function(){function i(e,t,o,u,d,f,g,_,w,C){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Se=d,this.window=f,this.document=g,this.De=w,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(T){return Promise.resolve()},!i.yt())throw new _e(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nI(this,u),this.Le=t+"main",this.R=new wE(_),this.Be=new ka(this.Le,11,new iI(this.R)),this.qe=new eI(this.referenceDelegate,this.R),this.Ut=new sv,this.Ue=new rI(this.R,this.Ut),this.Ke=new JA,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&On("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new _e(ne.FAILED_PRECONDITION,ad);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Qr(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},i.prototype.He=function(e){var t=this;return this.Me=function(o){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(u){return this.started?[2,e(o)]:[2]})})},e(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(o){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(u){switch(u.label){case 0:return null===o.newVersion?[4,e()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return op(t).put(new ti(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(o){o||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(o){return e.isPrimary&&!o?e.Xe(t).next(function(){return!1}):!!o&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(ll(t))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},i.prototype.Je=function(e){var t=this;return ml(e).get(Xr.key).next(function(o){return Ee.resolve(t.tn(o))})},i.prototype.en=function(e){return op(e).delete(this.clientId)},i.prototype.nn=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,d=this;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(g){var _=jr(g,ti.store);return _.Nt().next(function(w){var C=d.rn(w,18e5),T=w.filter(function(S){return-1===C.indexOf(S)});return Ee.forEach(T,function(S){return _.delete(S.clientId)}).next(function(){return T})})}).catch(function(){return[]})]);case 1:if(e=f.sent(),this.Qe)for(t=0,o=e;t<o.length;t++)this.Qe.removeItem(this.on(o[t].clientId));f.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},i.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},i.prototype.Ye=function(e){var t=this;return this.Ce?Ee.resolve(!0):ml(e).get(Xr.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)){if(t.tn(o)&&t.networkEnabled)return!0;if(!t.tn(o)){if(!o.allowTabSynchronization)throw new _e(ne.FAILED_PRECONDITION,ad);return!1}}return!(!t.networkEnabled||!t.inForeground)||op(e).Nt().next(function(u){return void 0===t.rn(u,5e3).find(function(d){return!(t.clientId===d.clientId||!(!t.networkEnabled&&d.networkEnabled||!t.inForeground&&d.inForeground&&t.networkEnabled===d.networkEnabled))})})}).next(function(o){return t.isPrimary!==o&&Ce("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,M.mG)(this,void 0,void 0,function(){var e=this;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xr.store,ti.store],function(o){var u=new od(o,Qr.o);return e.Xe(u).next(function(){return e.en(u)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(e,t){var o=this;return e.filter(function(u){return o.sn(u.updateTimeMs,t)&&!o.cn(u.clientId)})},i.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return op(t).Nt().next(function(o){return e.rn(o,18e5).map(function(u){return u.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(e){return XA.Qt(e,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var d,u=this;return Ce("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",YA,function(g){return d=new od(g,u.Ne?u.Ne.next():Qr.o),"readwrite-primary"===t?u.Je(d).next(function(_){return!!_||u.Ye(d)}).next(function(_){if(!_)throw On("Failed to obtain primary lease for action '"+e+"'."),u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}),new _e(ne.FAILED_PRECONDITION,vE);return o(d)}).next(function(_){return u.Ze(d).next(function(){return _})}):u.dn(d).next(function(){return o(d)})}).then(function(g){return d.raiseOnCommittedEvent(),g})},i.prototype.dn=function(e){var t=this;return ml(e).get(Xr.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)&&!t.tn(o)&&!(t.Ce||t.allowTabSynchronization&&o.allowTabSynchronization))throw new _e(ne.FAILED_PRECONDITION,ad)})},i.prototype.Ze=function(e){var t=new Xr(this.clientId,this.allowTabSynchronization,Date.now());return ml(e).put(Xr.key,t)},i.yt=function(){return ka.yt()},i.prototype.Xe=function(e){var t=this,o=ml(e);return o.get(Xr.key).next(function(u){return t.tn(u)?(Ce("IndexedDbPersistence","Releasing primary lease."),o.delete(Xr.key)):Ee.resolve()})},i.prototype.sn=function(e,t){var o=Date.now();return!(e<o-t||e>o&&(On("Detected an update time that is in the future: "+e+" > "+o),1))},i.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},i.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,It.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},i.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},i.prototype.cn=function(e){var t;try{var o=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ce("IndexedDbPersistence","Client '"+e+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(u){return On("IndexedDbPersistence","Failed to get zombied client id.",u),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){On("Failed to set zombie client id.",e)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},i.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},i}();function ml(i){return jr(i,Xr.store)}function op(i){return jr(i,ti.store)}function sp(i,e){var t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}var kE=function(i,e){this.progress=i,this.wn=e},lv=function(){function i(e,t,o){this.Ue=e,this._n=t,this.Ut=o}return i.prototype.mn=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(u){return o.yn(e,t,u)})},i.prototype.yn=function(e,t,o){return this.Ue.getEntry(e,t).next(function(u){for(var d=0,f=o;d<f.length;d++)f[d].applyToLocalView(u);return u})},i.prototype.gn=function(e,t){e.forEach(function(o,u){for(var d=0,f=t;d<f.length;d++)f[d].applyToLocalView(u)})},i.prototype.pn=function(e,t){var o=this;return this.Ue.getEntries(e,t).next(function(u){return o.En(e,u).next(function(){return u})})},i.prototype.En=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(u){return o.gn(t,u)})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){return Ve.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.Tn(e,t.path):Fy(t)?this.In(e,t,o):this.An(e,t,o);var u},i.prototype.Tn=function(e,t){return this.mn(e,new Ve(t)).next(function(o){var u=qy();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})},i.prototype.In=function(e,t,o){var u=this,d=t.collectionGroup,f=qy();return this.Ut.getCollectionParents(e,d).next(function(g){return Ee.forEach(g,function(_){var C,T,w=(C=t,T=_.child(d),new fo(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return u.An(e,w,o).next(function(C){C.forEach(function(T,S){f=f.insert(T,S)})})}).next(function(){return f})})},i.prototype.An=function(e,t,o){var u,d,f=this;return this.Ue.getDocumentsMatchingQuery(e,t,o).next(function(g){return u=g,f._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(g){return f.Rn(e,d=g,u).next(function(_){u=_;for(var w=0,C=d;w<C.length;w++)for(var T=C[w],S=0,N=T.mutations;S<N.length;S++){var R=N[S],k=R.key,$=u.get(k);null==$&&($=jn.newInvalidDocument(k),u=u.insert(k,$)),Vy(R,$,T.localWriteTime),$.isFoundDocument()||(u=u.remove(k))}})}).next(function(){return u.forEach(function(g,_){rl(t,_)||(u=u.remove(g))}),u})},i.prototype.Rn=function(e,t,o){for(var u=xt(),d=0,f=t;d<f.length;d++)for(var g=0,_=f[d].mutations;g<_.length;g++){var w=_[g];w instanceof ks&&null===o.get(w.key)&&(u=u.add(w.key))}var C=o;return this.Ue.getEntries(e,u).next(function(T){return T.forEach(function(S,N){N.isFoundDocument()&&(C=C.insert(S,N))}),C})},i}(),lR=function(){function i(e,t,o,u){this.targetId=e,this.fromCache=t,this.bn=o,this.vn=u}return i.Pn=function(e,t){for(var o=xt(),u=xt(),d=0,f=t.docChanges;d<f.length;d++){var g=f[d];switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:u=u.add(g.doc.key)}}return new i(e,t.fromCache,o,u)},i}(),LE=function(){function i(){}return i.prototype.Vn=function(e){this.Sn=e},i.prototype.getDocumentsMatchingQuery=function(e,t,o,u){var f,d=this;return 0===(f=t).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(ft.min())?this.Dn(e,t):this.Sn.pn(e,u).next(function(f){var g=d.Cn(t,f);return(Jc(t)||Xc(t))&&d.Nn(t.limitType,g,u,o)?d.Dn(e,t):(Ff()<=Bo.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Py(t)),d.Sn.getDocumentsMatchingQuery(e,t,o).next(function(_){return g.forEach(function(w){_=_.insert(w.key,w)}),_}))})},i.prototype.Cn=function(e,t){var o=new Tn(Ww(e));return t.forEach(function(u,d){rl(e,d)&&(o=o.add(d))}),o},i.prototype.Nn=function(e,t,o,u){if(o.size!==t.size)return!0;var d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)},i.prototype.Dn=function(e,t){return Ff()<=Bo.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Py(t)),this.Sn.getDocumentsMatchingQuery(e,t,ft.min())},i}(),yl=function(){function i(e,t,o,u){this.persistence=e,this.xn=t,this.R=u,this.kn=new Qn(_t),this.Fn=new pl(function(d){return Ia(d)},Qc),this.$n=ft.min(),this._n=e.getMutationQueue(o),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new lv(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return e.collect(o,t.kn)})},i}();function sI(i,e,t,o){return new yl(i,e,t,o)}function ap(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return t=Se(i),o=t._n,u=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(g){var _;return t._n.getAllMutationBatches(g).next(function(w){return _=w,o=t.persistence.getMutationQueue(e),u=new lv(t.On,o,t.persistence.getIndexManager()),o.getAllMutationBatches(g)}).next(function(w){for(var C=[],T=[],S=xt(),N=0,R=_;N<R.length;N++){var k=R[N];C.push(k.batchId);for(var $=0,Y=k.mutations;$<Y.length;$++)S=S.add(Y[$].key)}for(var pe=0,Te=w;pe<Te.length;pe++){var Ie=Te[pe];T.push(Ie.batchId);for(var et=0,pt=Ie.mutations;et<pt.length;et++)S=S.add(pt[et].key)}return u.pn(g,S).next(function(er){return{Ln:er,removedBatchIds:C,addedBatchIds:T}})})})];case 1:return d=f.sent(),[2,(t._n=o,t.Mn=u,t.xn.Vn(t.Mn),d)]}})})}function up(i,e){var t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var f,g,_,w,C,T,S,u=e.batch.keys(),d=t.On.newChangeBuffer({trackRemovals:!0});return(f=t,g=o,_=e,w=d,C=_.batch,T=C.keys(),S=Ee.resolve(),T.forEach(function(N){S=S.next(function(){return w.getEntry(g,N)}).next(function(R){var k=_.docVersions.get(N);Xe(null!==k),R.version.compareTo(k)<0&&(C.applyToRemoteDocument(R,_),R.isValidDocument()&&w.addEntry(R,_.commitVersion))})}),S.next(function(){return f._n.removeMutationBatch(g,C)})).next(function(){return d.apply(o)}).next(function(){return t._n.performConsistencyCheck(o)}).next(function(){return t.Mn.pn(o,u)})})}function VE(i){var e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function vl(i,e){var t=Se(i),o=e.snapshotVersion,u=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(d){var f=t.On.newChangeBuffer({trackRemovals:!0});u=t.kn;var g=[];e.targetChanges.forEach(function(C,T){var k,$,Y,S=u.get(T);if(S){g.push(t.qe.removeMatchingKeys(d,C.removedDocuments,T).next(function(){return t.qe.addMatchingKeys(d,C.addedDocuments,T)}));var N=C.resumeToken;if(N.approximateByteSize()>0){var R=S.withResumeToken(N,o).withSequenceNumber(d.currentSequenceNumber);u=u.insert(T,R),k=S,Y=C,Xe(($=R).resumeToken.approximateByteSize()>0),(0===k.resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&g.push(t.qe.updateTargetData(d,R))}}});var _=wi();if(e.documentUpdates.forEach(function(C,T){e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(d,C))}),g.push(BE(d,f,e.documentUpdates,o,void 0).next(function(C){_=C})),!o.isEqual(ft.min())){var w=t.qe.getLastRemoteSnapshotVersion(d).next(function(C){return t.qe.setTargetsMetadata(d,d.currentSequenceNumber,o)});g.push(w)}return Ee.waitFor(g).next(function(){return f.apply(d)}).next(function(){return t.Mn.En(d,_)}).next(function(){return _})}).then(function(d){return t.kn=u,d})}function BE(i,e,t,o,u){var d=xt();return t.forEach(function(f){return d=d.add(f)}),e.getEntries(i,d).next(function(f){var g=wi();return t.forEach(function(_,w){var C=f.get(_),T=(null==u?void 0:u.get(_))||o;w.isNoDocument()&&w.version.isEqual(ft.min())?(e.removeEntry(_,T),g=g.insert(_,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(w,T),g=g.insert(_,w)):Ce("LocalStore","Ignoring outdated watch update for ",_,". Current version:",C.version," Watch version:",w.version)}),g})}function cR(i,e){var t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===e&&(e=-1),t._n.getNextMutationBatchAfterBatchId(o,e)})}function _l(i,e){var t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",function(o){var u;return t.qe.getTargetData(o,e).next(function(d){return d?Ee.resolve(u=d):t.qe.allocateTargetId(o).next(function(f){return u=new Vs(e,f,0,o.currentSequenceNumber),t.qe.addTargetData(o,u).next(function(){return u})})})}).then(function(o){var u=t.kn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.kn=t.kn.insert(o.targetId,o),t.Fn.set(e,o.targetId)),o})}function wr(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d,f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:o=Se(i),u=o.kn.get(e),d=t?"readwrite":"readwrite-primary",g.label=1;case 1:return g.trys.push([1,4,,5]),t?[3,3]:[4,o.persistence.runTransaction("Release target",d,function(_){return o.persistence.referenceDelegate.removeTarget(_,u)})];case 2:g.sent(),g.label=3;case 3:return[3,5];case 4:if(!ll(f=g.sent()))throw f;return Ce("LocalStore","Failed to update sequence numbers for target "+e+": "+f),[3,5];case 5:return o.kn=o.kn.remove(e),o.Fn.delete(u.target),[2]}})})}function ud(i,e,t){var o=Se(i),u=ft.min(),d=xt();return o.persistence.runTransaction("Execute query","readonly",function(f){return(g=o,_=f,w=_i(e),C=Se(g),T=C.Fn.get(w),void 0!==T?Ee.resolve(C.kn.get(T)):C.qe.getTargetData(_,w)).next(function(g){if(g)return u=g.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(f,g.targetId).next(function(_){d=_})}).next(function(){return o.xn.getDocumentsMatchingQuery(f,e,t?u:ft.min(),t?d:xt())}).next(function(g){return{documents:g,Bn:d}});var g,_,w,C,T})}function aI(i,e){var t=Se(i),o=Se(t.qe),u=t.kn.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",function(d){return o.lt(d,e).next(function(f){return f?f.target:null})})}function ld(i){var e=Se(i);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return u=t,d=e.$n,f=Se(e.On),g=wi(),_=rv(d),w=Jo(u),C=IDBKeyRange.lowerBound(_,!0),w.$t({index:on.readTimeIndex,range:C},function(T,S){var N=nv(f.R,S);g=g.insert(N.key,N),_=S.readTime}).next(function(){return{wn:g,readTime:CE(_)}});var u,d,f,g,_,w,C}).then(function(t){var o=t.wn;return e.$n=t.readTime,o})}function uI(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){return[2,(e=Se(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return d=Jo(o),f=ft.min(),d.$t({index:on.readTimeIndex,reverse:!0},function(g,_,w){_.readTime&&(f=CE(_.readTime)),w.done()}).next(function(){return f});var d,f}).then(function(o){e.$n=o})]})})}function lI(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,d,f,g,_,w,C,T,S,N;return(0,M.Jh)(this,function(R){switch(R.label){case 0:for(u=Se(i),d=xt(),f=wi(),g=tE(),_=0,w=t;_<w.length;_++)T=e.qn((C=w[_]).metadata.name),C.document&&(d=d.add(T)),f=f.insert(T,e.Un(C)),g=g.insert(T,e.Kn(C.metadata.readTime));return S=u.On.newChangeBuffer({trackRemovals:!0}),[4,_l(u,(k=o,_i(Ma(Tt.fromString("__bundle__/docs/"+k)))))];case 1:return N=R.sent(),[2,u.persistence.runTransaction("Apply bundle documents","readwrite",function(k){return BE(k,S,f,ft.min(),g).next(function($){return S.apply(k),$}).next(function($){return u.qe.removeMatchingKeysForTargetId(k,N.targetId).next(function(){return u.qe.addMatchingKeys(k,d,N.targetId)}).next(function(){return u.Mn.En(k,$)}).next(function(){return $})})})]}var k})})}function dR(i,e,t){return void 0===t&&(t=xt()),(0,M.mG)(this,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return[4,_l(i,_i(ep(e.bundledQuery)))];case 1:return o=d.sent(),[2,(u=Se(i)).persistence.runTransaction("Save named query","readwrite",function(f){var g=xn(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ke.saveNamedQuery(f,e);var _=o.withResumeToken(Bn.EMPTY_BYTE_STRING,g);return u.kn=u.kn.insert(_.targetId,_),u.qe.updateTargetData(f,_).next(function(){return u.qe.removeMatchingKeysForTargetId(f,o.targetId)}).next(function(){return u.qe.addMatchingKeys(f,t,o.targetId)}).next(function(){return u.Ke.saveNamedQuery(f,e)})})]}})})}var cI=function(){function i(e){this.R=e,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(e,t){return Ee.resolve(this.Qn.get(t))},i.prototype.saveBundleMetadata=function(e,t){var o;return this.Qn.set(t.id,{id:(o=t).id,version:o.version,createTime:xn(o.createTime)}),Ee.resolve()},i.prototype.getNamedQuery=function(e,t){return Ee.resolve(this.jn.get(t))},i.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(o=t).name,query:ep(o.bundledQuery),readTime:xn(o.readTime)}),Ee.resolve();var o},i}(),cv=function(){function i(){this.Wn=new Tn(Hn.Gn),this.zn=new Tn(Hn.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(e,t){var o=new Hn(e,t);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(e,t){var o=this;e.forEach(function(u){return o.addReference(u,t)})},i.prototype.removeReference=function(e,t){this.Yn(new Hn(e,t))},i.prototype.Xn=function(e,t){var o=this;e.forEach(function(u){return o.removeReference(u,t)})},i.prototype.Zn=function(e){var t=this,o=new Ve(new Tt([])),u=new Hn(o,e),d=new Hn(o,e+1),f=[];return this.zn.forEachInRange([u,d],function(g){t.Yn(g),f.push(g.key)}),f},i.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},i.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},i.prototype.es=function(e){var t=new Ve(new Tt([])),o=new Hn(t,e),u=new Hn(t,e+1),d=xt();return this.zn.forEachInRange([o,u],function(f){d=d.add(f.key)}),d},i.prototype.containsKey=function(e){var t=new Hn(e,0),o=this.Wn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)},i}(),Hn=function(){function i(e,t){this.key=e,this.ns=t}return i.Gn=function(e,t){return Ve.comparator(e.key,t.key)||_t(e.ns,t.ns)},i.Hn=function(e,t){return _t(e.ns,t.ns)||Ve.comparator(e.key,t.key)},i}(),dv=function(){function i(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Tn(Hn.Gn)}return i.prototype.checkEmpty=function(e){return Ee.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(e,t,o,u){var d=this.ss;this.ss++;var f=new tv(d,t,o,u);this._n.push(f);for(var g=0,_=u;g<_.length;g++){var w=_[g];this.rs=this.rs.add(new Hn(w.key,d)),this.Ut.addToCollectionParentIndex(e,w.key.path.popLast())}return Ee.resolve(f)},i.prototype.lookupMutationBatch=function(e,t){return Ee.resolve(this.os(t))},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var u=this.cs(t+1),d=u<0?0:u;return Ee.resolve(this._n.length>d?this._n[d]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ee.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(e){return Ee.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,u=new Hn(t,0),d=new Hn(t,Number.POSITIVE_INFINITY),f=[];return this.rs.forEachInRange([u,d],function(g){var _=o.os(g.ns);f.push(_)}),Ee.resolve(f)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,u=new Tn(_t);return t.forEach(function(d){var f=new Hn(d,0),g=new Hn(d,Number.POSITIVE_INFINITY);o.rs.forEachInRange([f,g],function(_){u=u.add(_.ns)})}),Ee.resolve(this.us(u))},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=t.path,u=o.length+1,d=o;Ve.isDocumentKey(d)||(d=d.child(""));var f=new Hn(new Ve(d),0),g=new Tn(_t);return this.rs.forEachWhile(function(_){var w=_.key.path;return!!o.isPrefixOf(w)&&(w.length===u&&(g=g.add(_.ns)),!0)},f),Ee.resolve(this.us(g))},i.prototype.us=function(e){var t=this,o=[];return e.forEach(function(u){var d=t.os(u);null!==d&&o.push(d)}),o},i.prototype.removeMutationBatch=function(e,t){var o=this;Xe(0===this.hs(t.batchId,"removed")),this._n.shift();var u=this.rs;return Ee.forEach(t.mutations,function(d){var f=new Hn(d.key,t.batchId);return u=u.delete(f),o.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(function(){o.rs=u})},i.prototype.Gt=function(e){},i.prototype.containsKey=function(e,t){var o=new Hn(t,0),u=this.rs.firstAfterOrEqual(o);return Ee.resolve(t.isEqual(u&&u.key))},i.prototype.performConsistencyCheck=function(e){return Ee.resolve()},i.prototype.hs=function(e,t){return this.cs(e)},i.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},i.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},i}(),jE=function(){function i(e,t){this.Ut=e,this.ls=t,this.docs=new Qn(Ve.comparator),this.size=0}return i.prototype.addEntry=function(e,t,o){var u=t.key,d=this.docs.get(u),f=d?d.size:0,g=this.ls(t);return this.docs=this.docs.insert(u,{document:t.clone(),size:g,readTime:o}),this.size+=g-f,this.Ut.addToCollectionParentIndex(e,u.path.popLast())},i.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},i.prototype.getEntry=function(e,t){var o=this.docs.get(t);return Ee.resolve(o?o.document.clone():jn.newInvalidDocument(t))},i.prototype.getEntries=function(e,t){var o=this,u=wi();return t.forEach(function(d){var f=o.docs.get(d);u=u.insert(d,f?f.document.clone():jn.newInvalidDocument(d))}),Ee.resolve(u)},i.prototype.getDocumentsMatchingQuery=function(e,t,o){for(var u=wi(),d=new Ve(t.path.child("")),f=this.docs.getIteratorFrom(d);f.hasNext();){var g=f.getNext(),w=g.value,C=w.document,T=w.readTime;if(!t.path.isPrefixOf(g.key.path))break;T.compareTo(o)<=0||rl(t,C)&&(u=u.insert(C.key,C.clone()))}return Ee.resolve(u)},i.prototype.fs=function(e,t){return Ee.forEach(this.docs,function(o){return t(o)})},i.prototype.newChangeBuffer=function(e){return new hv(this)},i.prototype.getSize=function(e){return Ee.resolve(this.size)},i}(),hv=function(i){function e(t){var o=this;return(o=i.call(this)||this).Ie=t,o}return(0,M.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,u=[];return this.changes.forEach(function(d,f){f.document.isValidDocument()?u.push(o.Ie.addEntry(t,f.document,o.getReadTime(d))):o.Ie.removeEntry(d)}),Ee.waitFor(u)},e.prototype.getFromCache=function(t,o){return this.Ie.getEntry(t,o)},e.prototype.getAllFromCache=function(t,o){return this.Ie.getEntries(t,o)},e}(FE),UE=function(){function i(e){this.persistence=e,this.ds=new pl(function(t){return Ia(t)},Qc),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.ws=0,this._s=new cv,this.targetCount=0,this.ys=rp.Jt()}return i.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(o,u){return t(u)}),Ee.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(e){return Ee.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(e){return Ee.resolve(this.ws)},i.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ee.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.ws&&(this.ws=t),Ee.resolve()},i.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},i.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ee.resolve()},i.prototype.updateTargetData=function(e,t){return this.te(t),Ee.resolve()},i.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ee.resolve()},i.prototype.removeTargets=function(e,t,o){var u=this,d=0,f=[];return this.ds.forEach(function(g,_){_.sequenceNumber<=t&&null===o.get(_.targetId)&&(u.ds.delete(g),f.push(u.removeMatchingKeysForTargetId(e,_.targetId)),d++)}),Ee.waitFor(f).next(function(){return d})},i.prototype.getTargetCount=function(e){return Ee.resolve(this.targetCount)},i.prototype.getTargetData=function(e,t){var o=this.ds.get(t)||null;return Ee.resolve(o)},i.prototype.addMatchingKeys=function(e,t,o){return this._s.Jn(t,o),Ee.resolve()},i.prototype.removeMatchingKeys=function(e,t,o){this._s.Xn(t,o);var u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(function(f){d.push(u.markPotentiallyOrphaned(e,f))}),Ee.waitFor(d)},i.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ee.resolve()},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=this._s.es(t);return Ee.resolve(o)},i.prototype.containsKey=function(e,t){return Ee.resolve(this._s.containsKey(t))},i}(),dI=function(){function i(e,t){var o=this;this.gs={},this.Ne=new Qr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new UE(this),this.Ut=new SE,this.Ue=new jE(this.Ut,function(f){return o.referenceDelegate.ps(f)}),this.R=new wE(t),this.Ke=new cI(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new dv(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var u=this;Ce("MemoryPersistence","Starting transaction:",e);var d=new hR(this.Ne.next());return this.referenceDelegate.Es(),o(d).next(function(f){return u.referenceDelegate.Ts(d).next(function(){return f})}).toPromise().then(function(f){return d.raiseOnCommittedEvent(),f})},i.prototype.Is=function(e,t){return Ee.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(e,t)}}))},i}(),hR=function(i){function e(t){var o=this;return(o=i.call(this)||this).currentSequenceNumber=t,o}return(0,M.ZT)(e,i),e}(ev),hI=function(){function i(e){this.persistence=e,this.As=new cv,this.Rs=null}return i.bs=function(e){return new i(e)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Le()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(e,t,o){return this.As.addReference(o,t),this.vs.delete(o.toString()),Ee.resolve()},i.prototype.removeReference=function(e,t,o){return this.As.removeReference(o,t),this.vs.add(o.toString()),Ee.resolve()},i.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ee.resolve()},i.prototype.removeTarget=function(e,t){var o=this;this.As.Zn(t.targetId).forEach(function(d){return o.vs.add(d.toString())});var u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,t.targetId).next(function(d){d.forEach(function(f){return o.vs.add(f.toString())})}).next(function(){return u.removeTargetData(e,t)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(e){var t=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.vs,function(u){var d=Ve.fromPath(u);return t.Ps(e,d).next(function(f){f||o.removeEntry(d)})}).next(function(){return t.Rs=null,o.apply(e)})},i.prototype.updateLimboDocument=function(e,t){var o=this;return this.Ps(e,t).next(function(u){u?o.vs.delete(t.toString()):o.vs.add(t.toString())})},i.prototype.ps=function(e){return 0},i.prototype.Ps=function(e,t){var o=this;return Ee.or([function(){return Ee.resolve(o.As.containsKey(t))},function(){return o.persistence.getTargetCache().containsKey(e,t)},function(){return o.persistence.Is(e,t)}])},i}(),Jn=function(){function i(e){this.uid=e}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(e){return e.uid===this.uid},i}();function HE(i,e){return"firestore_clients_"+i+"_"+e}function fv(i,e,t){var o="firestore_mutations_"+i+"_"+t;return e.isAuthenticated()&&(o+="_"+e.uid),o}function lp(i,e){return"firestore_targets_"+i+"_"+e}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");var pv=function(){function i(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}return i.Vs=function(e,t,o){var u,d=JSON.parse(o),f="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return f&&d.error&&(f="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(u=new _e(d.error.code,d.error.message)),f?new i(e,t,d.state,u):(On("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+o),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),gv=function(){function i(e,t,o){this.targetId=e,this.state=t,this.error=o}return i.Vs=function(e,t){var o,u=JSON.parse(t),d="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return d&&u.error&&(d="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(o=new _e(u.error.code,u.error.message)),d?new i(e,u.state,o):(On("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),GE=function(){function i(e,t){this.clientId=e,this.activeTargetIds=t}return i.Vs=function(e,t){for(var o=JSON.parse(t),u="object"==typeof o&&o.activeTargetIds instanceof Array,d=Wf(),f=0;u&&f<o.activeTargetIds.length;++f)u=Cy(o.activeTargetIds[f]),d=d.add(o.activeTargetIds[f]);return u?new i(e,d):(On("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},i}(),$E=function(){function i(e,t){this.clientId=e,this.onlineState=t}return i.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new i(t.clientId,t.onlineState):(On("SharedClientState","Failed to parse online state: "+e),null)},i}(),bl=function(){function i(){this.activeTargetIds=Wf()}return i.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},i.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},i.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},i}(),mv=function(){function i(e,t,o,u,d){this.window=e,this.Se=t,this.persistenceKey=o,this.Ns=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Qn(_t),this.started=!1,this.$s=[];var f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Os=HE(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new bl),this.Ls=new RegExp("^firestore_clients_"+f+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+f+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+f+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(g){return"firestore_bundle_loaded_"+g}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(e){return!(!e||!e.localStorage)},i.prototype.start=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u,d,f,g,_,w,C,S=this;return(0,M.Jh)(this,function(N){switch(N.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=N.sent(),t=0,o=e;t<o.length;t++)(u=o[t])!==this.Ns&&(d=this.getItem(HE(this.persistenceKey,u)))&&(f=GE.Vs(u,d))&&(this.Fs=this.Fs.insert(f.clientId,f));for(this.Qs(),(g=this.storage.getItem(this.Us))&&(_=this.js(g))&&this.Ws(_),w=0,C=this.$s;w<C.length;w++)this.ks(C[w]);return this.$s=[],this.window.addEventListener("pagehide",function(){return S.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},i.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(o,u){u.activeTargetIds.has(e)&&(t=!0)}),t},i.prototype.addPendingMutation=function(e){this.zs(e,"pending")},i.prototype.updateMutationState=function(e,t,o){this.zs(e,t,o),this.Hs(e)},i.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var o=this.storage.getItem(lp(this.persistenceKey,e));if(o){var u=gv.Vs(e,o);u&&(t=u.state)}}return this.Js.Ds(e),this.Qs(),t},i.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},i.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){this.removeItem(lp(this.persistenceKey,e))},i.prototype.updateQueryState=function(e,t,o){this.Ys(e,t,o)},i.prototype.handleUserChange=function(e,t,o){var u=this;t.forEach(function(d){u.Hs(d)}),this.currentUser=e,o.forEach(function(d){u.addPendingMutation(d)})},i.prototype.setOnlineState=function(e){this.Xs(e)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ce("SharedClientState","READ",e,t),t},i.prototype.setItem=function(e,t){Ce("SharedClientState","SET",e,t),this.storage.setItem(e,t)},i.prototype.removeItem=function(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)},i.prototype.ks=function(e){var t=this,o=e;if(o.storageArea===this.storage){if(Ce("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void On("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,M.mG)(t,void 0,void 0,function(){var u,d,f,g,_,w;return(0,M.Jh)(this,function(C){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return u=this.ti(o.key),[2,this.ei(u,null)];if(d=this.ni(o.key,o.newValue))return[2,this.ei(d.clientId,d)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(f=this.si(o.key,o.newValue)))return[2,this.ii(f)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(g=this.ri(o.key,o.newValue)))return[2,this.oi(g)]}else if(o.key===this.Us){if(null!==o.newValue&&(_=this.js(o.newValue)))return[2,this.Ws(_)]}else if(o.key===this.Ms)(w=function(T){var S=Qr.o;if(null!=T)try{var N=JSON.parse(T);Xe("number"==typeof N),S=N}catch(R){On("SharedClientState","Failed to read sequence number from WebStorage",R)}return S}(o.newValue))!==Qr.o&&this.sequenceNumberHandler(w);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(e,t,o){var u=new pv(this.currentUser,e,t,o),d=fv(this.persistenceKey,this.currentUser,e);this.setItem(d,u.Ss())},i.prototype.Hs=function(e){var t=fv(this.persistenceKey,this.currentUser,e);this.removeItem(t)},i.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},i.prototype.Ys=function(e,t,o){var u=lp(this.persistenceKey,e),d=new gv(e,t,o);this.setItem(u,d.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},i.prototype.ni=function(e,t){var o=this.ti(e);return GE.Vs(o,t)},i.prototype.si=function(e,t){var o=this.Bs.exec(e),u=Number(o[1]);return pv.Vs(new Jn(void 0!==o[2]?o[2]:null),u,t)},i.prototype.ri=function(e,t){var o=this.qs.exec(e),u=Number(o[1]);return gv.Vs(u,t)},i.prototype.js=function(e){return $E.Vs(e)},i.prototype.ii=function(e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},i.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},i.prototype.ei=function(e,t){var o=this,u=t?this.Fs.insert(e,t):this.Fs.remove(e),d=this.Gs(this.Fs),f=this.Gs(u),g=[],_=[];return f.forEach(function(w){d.has(w)||g.push(w)}),d.forEach(function(w){f.has(w)||_.push(w)}),this.syncEngine.hi(g,_).then(function(){o.Fs=u})},i.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},i.prototype.Gs=function(e){var t=Wf();return e.forEach(function(o,u){t=t.unionWith(u.activeTargetIds)}),t},i}(),yv=function(){function i(){this.li=new bl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(e){},i.prototype.updateMutationState=function(e,t,o){},i.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},i.prototype.updateQueryState=function(e,t,o){this.fi[e]=t},i.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},i.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){delete this.fi[e]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.start=function(){return this.li=new bl,Promise.resolve()},i.prototype.handleUserChange=function(e,t,o){},i.prototype.setOnlineState=function(e){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(e){},i.prototype.notifyBundleLoaded=function(){},i}(),cp=function(){function i(){}return i.prototype.di=function(e){},i.prototype.shutdown=function(){},i}(),cd=function(){function i(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return i.prototype.di=function(e){this.gi.push(e)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},i.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),dd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fI=function(){function i(e){this.Ei=e.Ei,this.Ti=e.Ti}return i.prototype.Ii=function(e){this.Ai=e},i.prototype.Ri=function(e){this.bi=e},i.prototype.onMessage=function(e){this.vi=e},i.prototype.close=function(){this.Ti()},i.prototype.send=function(e){this.Ei(e)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(e){this.bi(e)},i.prototype.Si=function(e){this.vi(e)},i}(),pI=function(i){function e(t){var o=this;return(o=i.call(this,t)||this).forceLongPolling=t.forceLongPolling,o.autoDetectLongPolling=t.autoDetectLongPolling,o.useFetchStreams=t.useFetchStreams,o}return(0,M.ZT)(e,i),e.prototype.Fi=function(t,o,u,d){return new Promise(function(f,g){var _=new vy;_.listenOnce(gy.COMPLETE,function(){try{switch(_.getLastErrorCode()){case xf.NO_ERROR:var C=_.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(C)),f(C);break;case xf.TIMEOUT:Ce("Connection",'RPC "'+t+'" timed out'),g(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:var T=_.getStatus();if(Ce("Connection",'RPC "'+t+'" failed with status:',T,"response text:",_.getResponseText()),T>0){var S=_.getResponseJson().error;if(S&&S.status&&S.message){var N=(k=S.status.toLowerCase().replace(/_/g,"-"),Object.values(ne).indexOf(k)>=0?k:ne.UNKNOWN);g(new _e(N,S.message))}else g(new _e(ne.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ce("Connection",'RPC "'+t+'" completed.')}var k});var w=JSON.stringify(d);_.send(o,"POST",w,u,15)})},e.prototype.Oi=function(t,o){var u=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=new $c,f=mf(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new MA({})),this.ki(g.initMessageHeaders,o),(0,It.uI)()||(0,It.b$)()||(0,It.d)()||(0,It.w1)()||(0,It.Mn)()||(0,It.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");var _=u.join("");Ce("Connection","Creating WebChannel: "+_,g);var w=d.createWebChannel(_,g),C=!1,T=!1,S=new fI({Ei:function(R){T?Ce("Connection","Not sending because WebChannel is closed:",R):(C||(Ce("Connection","Opening WebChannel transport."),w.open(),C=!0),Ce("Connection","WebChannel sending:",R),w.send(R))},Ti:function(){return w.close()}}),N=function(R,k,$){R.listen(k,function(Y){try{$(Y)}catch(he){setTimeout(function(){throw he},0)}})};return N(w,qc.EventType.OPEN,function(){T||Ce("Connection","WebChannel transport opened.")}),N(w,qc.EventType.CLOSE,function(){T||(T=!0,Ce("Connection","WebChannel transport closed"),S.Vi())}),N(w,qc.EventType.ERROR,function(R){T||(T=!0,Pf("Connection","WebChannel transport errored:",R),S.Vi(new _e(ne.UNAVAILABLE,"The operation could not be completed")))}),N(w,qc.EventType.MESSAGE,function(R){var k;if(!T){var $=R.data[0];Xe(!!$);var he=$.error||(null===(k=$[0])||void 0===k?void 0:k.error);if(he){Ce("Connection","WebChannel received error:",he);var pe=he.status,Te=function(et){var pt=Dn[et];if(void 0!==pt)return Gy(pt)}(pe),Ie=he.message;void 0===Te&&(Te=ne.INTERNAL,Ie="Unknown error status: "+pe+" with message "+he.message),T=!0,S.Vi(new _e(Te,Ie)),w.close()}else Ce("Connection","WebChannel received:",$),S.Si($)}}),N(f,my.STAT_EVENT,function(R){R.stat===yy_PROXY?Ce("Connection","Detected buffering proxy"):R.stat===yy_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){S.Pi()},0),S},e}(function(){function i(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(e,t,o,u){var d=this.xi(e,t);Ce("RestConnection","Sending: ",d,o);var f={};return this.ki(f,u),this.Fi(e,d,f,o).then(function(g){return Ce("RestConnection","Received: ",g),g},function(g){throw Pf("RestConnection",e+" failed with error: ",g,"url: ",d,"request:",o),g})},i.prototype.$i=function(e,t,o,u){return this.Ni(e,t,o,u)},i.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var o in t.authHeaders)t.authHeaders.hasOwnProperty(o)&&(e[o]=t.authHeaders[o])},i.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+dd[e]},i}());function gI(){return"undefined"!=typeof window?window:null}function dp(){return"undefined"!=typeof document?document:null}function hd(i){return new lE(i,!0)}var vv=function(){function i(e,t,o,u,d){void 0===o&&(o=1e3),void 0===u&&(u=1.5),void 0===d&&(d=6e4),this.Se=e,this.timerId=t,this.Mi=o,this.Li=u,this.Bi=d,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(e){var t=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),u=Math.max(0,Date.now()-this.Ki),d=Math.max(0,o-u);d>0&&Ce("ExponentialBackoff","Backing off for "+d+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+u+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,d,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),qE=function(){function i(e,t,o,u,d,f){this.Se=e,this.zi=o,this.Hi=u,this.Ji=d,this.listener=f,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vv(e,t)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},i.prototype.cr=function(e){this.ur(),this.stream.send(e)},i.prototype.rr=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(e,t){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(On(t.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===ne.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(u){e.Yi===o&&e.lr(u)},function(u){t(function(){var d=new _e(ne.UNKNOWN,"Fetching auth token failed: "+u.message);return e.dr(d)})})},i.prototype.lr=function(e){var t=this,o=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){o(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(u){o(function(){return t.dr(u)})}),this.stream.onMessage(function(u){o(function(){return t.onMessage(u)})})},i.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(e){return Ce("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},i.prototype.hr=function(e){var t=this;return function(o){t.Se.enqueueAndForget(function(){return t.Yi===e?o():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),mI=function(i){function e(t,o,u,d,f){var g=this;return(g=i.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",o,u,f)||this).R=d,g}return(0,M.ZT)(e,i),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var o=function(d,f){var g,$;if("targetChange"in f){var _="NO_CHANGE"===($=f.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Le(),w=f.targetChange.targetIds||[],C=function($,Y){return $.I?(Xe(void 0===Y||"string"==typeof Y),Bn.fromBase64String(Y||"")):(Xe(void 0===Y||Y instanceof Uint8Array),Bn.fromUint8Array(Y||new Uint8Array))}(d,f.targetChange.resumeToken),T=(S=f.targetChange.cause)&&function($){var Y=void 0===$.code?ne.UNKNOWN:Gy($.code);return new _e(Y,$.message||"")}(S);g=new rE(_,w,C,T||null)}else if("documentChange"in f){w=Hi(d,(_=f.documentChange).document.name),C=xn(_.document.updateTime);var S=new Jr({mapValue:{fields:_.document.fields}}),N=(T=jn.newFoundDocument(w,C,S),_.targetIds||[]);g=new Kf(N,_.removedTargetIds||[],T.key,T)}else if("documentDelete"in f)w=Hi(d,(_=f.documentDelete).document),C=_.readTime?xn(_.readTime):ft.min(),S=jn.newNoDocument(w,C),g=new Kf([],T=_.removedTargetIds||[],S.key,S);else if("documentRemove"in f)w=Hi(d,(_=f.documentRemove).document),g=new Kf([],C=_.removedTargetIds||[],w,null);else{if(!("filter"in f))return Le();var k=f.filter;w=new zf(_=k.count||0),g=new nE(C=k.targetId,w)}return g}(this.R,t),u=function(d){if(!("targetChange"in d))return ft.min();var f=d.targetChange;return f.targetIds&&f.targetIds.length?ft.min():f.readTime?xn(f.readTime):ft.min()}(t);return this.listener._r(o,u)},e.prototype.mr=function(t){var d,f,g,_,o={};o.database=rd(this.R),o.addTarget=(d=this.R,(g=el(_=(f=t).target)?{documents:Jy(d,_)}:{query:qA(d,_)}).targetId=f.targetId,f.resumeToken.approximateByteSize()>0?g.resumeToken=Ky(d,f.resumeToken):f.snapshotVersion.compareTo(ft.min())>0&&(g.readTime=al(d,f.snapshotVersion.toTimestamp())),g);var u=function(d,f){var g=function(_,w){switch(w){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,f.purpose);return null==g?null:{"goog-listen-tags":g}}(0,t);u&&(o.labels=u),this.cr(o)},e.prototype.yr=function(t){var o={};o.database=rd(this.R),o.removeTarget=t,this.cr(o)},e}(qE),yI=function(i){function e(t,o,u,d,f){var g=this;return(g=i.call(this,t,"write_stream_connection_backoff","write_stream_idle",o,u,f)||this).R=d,g.gr=!1,g}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var o=(f=t.commitTime,(d=t.writeResults)&&d.length>0?(Xe(void 0!==f),d.map(function(g){return w=f,(C=xn((_=g).updateTime?_.updateTime:w)).isEqual(ft.min())&&(C=xn(w)),new Jw(C,_.transformResults||[]);var _,w,C})):[]),u=xn(t.commitTime);return this.listener.Tr(u,o)}var d,f;return Xe(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=rd(this.R),this.cr(t)},e.prototype.Er=function(t){var o=this,u={streamToken:this.lastStreamToken,writes:t.map(function(d){return Qy(o.R,d)})};this.cr(u)},e}(qE),vI=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).credentials=t,d.Hi=o,d.R=u,d.Rr=!1,d}return(0,M.ZT)(e,i),e.prototype.br=function(){if(this.Rr)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,o,u){var d=this;return this.br(),this.credentials.getToken().then(function(f){return d.Hi.Ni(t,o,u,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===ne.UNAUTHENTICATED&&d.credentials.invalidateToken(),f):new _e(ne.UNKNOWN,f.toString())})},e.prototype.$i=function(t,o,u){var d=this;return this.br(),this.credentials.getToken().then(function(f){return d.Hi.$i(t,o,u,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===ne.UNAUTHENTICATED&&d.credentials.invalidateToken(),f):new _e(ne.UNKNOWN,f.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),_I=function(){function i(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},i.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},i.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},i.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(On(t),this.Vr=!1):Ce("OnlineStateTracker",t)},i.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),bI=function(i,e,t,o,u){var d=this;this.localStore=i,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=u,this.Lr.di(function(f){t.enqueueAndForget(function(){return(0,M.mG)(d,void 0,void 0,function(){return(0,M.Jh)(this,function(g){switch(g.label){case 0:return es(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(_){return(0,M.mG)(this,void 0,void 0,function(){var w;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return(w=Se(_)).Or.add(4),[4,wl(w)];case 1:return C.sent(),w.Br.set("Unknown"),w.Or.delete(4),[4,hp(w)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})}),this.Br=new _I(t,o)};function hp(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(!es(i))return[3,4];e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function wl(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Us(i,e){var t=Se(i);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),Xo(t)?El(t):Cl(t).er()&&_v(t,e))}function fd(i,e){var t=Se(i),o=Cl(t);t.$r.delete(e),o.er()&&zE(t,e),0===t.$r.size&&(o.er()?o.ir():es(t)&&t.Br.set("Unknown"))}function _v(i,e){i.qr.U(e.targetId),Cl(i).mr(e)}function zE(i,e){i.qr.U(e),Cl(i).yr(e)}function El(i){i.qr=new GA({getRemoteKeysForTarget:function(e){return i.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return i.$r.get(e)||null}}),Cl(i).start(),i.Br.Sr()}function Xo(i){return es(i)&&!Cl(i).tr()&&i.$r.size>0}function es(i){return 0===Se(i).Or.size}function WE(i){i.qr=void 0}function fR(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return i.$r.forEach(function(t,o){_v(i,t)}),[2]})})}function wI(i,e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return WE(i),Xo(i)?(i.Br.Nr(e),El(i)):i.Br.set("Unknown"),[2]})})}function fp(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:if(i.Br.set("Online"),!(e instanceof rE&&2===e.state&&e.cause))return[3,6];f.label=1;case 1:return f.trys.push([1,3,,5]),[4,function(g,_){return(0,M.mG)(this,void 0,void 0,function(){var w,C,T,S;return(0,M.Jh)(this,function(N){switch(N.label){case 0:w=_.cause,C=0,T=_.targetIds,N.label=1;case 1:return C<T.length?g.$r.has(S=T[C])?[4,g.remoteSyncer.rejectListen(S,w)]:[3,3]:[3,5];case 2:N.sent(),g.$r.delete(S),g.qr.removeTarget(S),N.label=3;case 3:N.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(i,e)];case 2:return f.sent(),[3,5];case 3:return o=f.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),[4,pp(i,o)];case 4:return f.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Kf?i.qr.X(e):e instanceof nE?i.qr.rt(e):i.qr.et(e),t.isEqual(ft.min()))return[3,13];f.label=7;case 7:return f.trys.push([7,11,,13]),[4,VE(i.localStore)];case 8:return u=f.sent(),t.compareTo(u)>=0?[4,(g=i,_=t,w=g.qr.ut(_),w.targetChanges.forEach(function(C,T){if(C.resumeToken.approximateByteSize()>0){var S=g.$r.get(T);S&&g.$r.set(T,S.withResumeToken(C.resumeToken,_))}}),w.targetMismatches.forEach(function(C){var T=g.$r.get(C);if(T){g.$r.set(C,T.withResumeToken(Bn.EMPTY_BYTE_STRING,T.snapshotVersion)),zE(g,C);var S=new Vs(T.target,C,1,T.sequenceNumber);_v(g,S)}}),g.remoteSyncer.applyRemoteEvent(w))]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",d=f.sent()),[4,pp(i,d)];case 12:return f.sent(),[3,13];case 13:return[2]}var g,_,w})})}function pp(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:if(!ll(e))throw e;return i.Or.add(1),[4,wl(i)];case 1:return u.sent(),i.Br.set("Offline"),t||(t=function(){return VE(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,M.mG)(o,void 0,void 0,function(){return(0,M.Jh)(this,function(d){switch(d.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return d.sent(),i.Or.delete(1),[4,hp(i)];case 2:return d.sent(),[2]}})})}),[2]}})})}function KE(i,e){return e().catch(function(t){return pp(i,t,e)})}function ja(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u,d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:e=Se(i),t=ts(e),o=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,f.label=1;case 1:if(!(es(g=e)&&g.Fr.length<10))return[3,7];f.label=2;case 2:return f.trys.push([2,4,,6]),[4,cR(e.localStore,o)];case 3:return null===(u=f.sent())?(0===e.Fr.length&&t.ir(),[3,7]):(o=u.batchId,function(g,_){g.Fr.push(_);var w=ts(g);w.er()&&w.pr&&w.Er(_.mutations)}(e,u),[3,6]);case 4:return d=f.sent(),[4,pp(e,d)];case 5:return f.sent(),[3,6];case 6:return[3,1];case 7:return bv(e)&&gp(e),[2]}var g})})}function bv(i){return es(i)&&!ts(i).tr()&&i.Fr.length>0}function gp(i){ts(i).start()}function YE(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return ts(i).Ar(),[2]})})}function QE(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o;return(0,M.Jh)(this,function(d){for(e=ts(i),t=0,o=i.Fr;t<o.length;t++)e.Er(o[t].mutations);return[2]})})}function EI(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return o=i.Fr.shift(),u=bE.from(o,e,t),[4,KE(i,function(){return i.remoteSyncer.applySuccessfulWrite(u)})];case 1:return d.sent(),[4,ja(i)];case 2:return d.sent(),[2]}})})}function CI(i,e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return e&&ts(i).pr?[4,function(o,u){return(0,M.mG)(this,void 0,void 0,function(){var d,f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return Hy(f=u.code)&&f!==ne.ABORTED?(d=o.Fr.shift(),ts(o).sr(),[4,KE(o,function(){return o.remoteSyncer.rejectFailedWrite(d.batchId,u)})]):[3,3];case 1:return g.sent(),[4,ja(o)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}(i,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return bv(i)&&gp(i),[2]}})})}function mp(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t=Se(i),e?(t.Or.delete(2),[4,hp(t)]):[3,2];case 1:return o.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,wl(t)]);case 3:o.sent(),t.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Cl(i){var t,o,u,d,e=this;return i.Ur||(i.Ur=(t=i.datastore,o=i.asyncQueue,u={Ii:fR.bind(null,i),Ri:wI.bind(null,i),_r:fp.bind(null,i)},(d=Se(t)).br(),new mI(o,d.Hi,d.credentials,d.R,u)),i.Mr.push(function(t){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Ur.sr(),Xo(i)?El(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),WE(i),o.label=3;case 3:return[2]}})})})),i.Ur}function ts(i){var t,o,u,d,e=this;return i.Kr||(i.Kr=(t=i.datastore,o=i.asyncQueue,u={Ii:YE.bind(null,i),Ri:CI.bind(null,i),Ir:QE.bind(null,i),Tr:EI.bind(null,i)},(d=Se(t)).br(),new yI(o,d.Hi,d.credentials,d.R,u)),i.Mr.push(function(t){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Kr.sr(),[4,ja(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.Fr.length>0&&(Ce("RemoteStore","Stopping write stream with "+i.Fr.length+" pending writes"),i.Fr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var yp=function(){function i(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(f){})}return i.createAndSchedule=function(e,t,o,u,d){var f=new i(e,t,Date.now()+o,u,d);return f.start(o),f},i.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},i.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function ns(i,e){if(On("AsyncQueue",e+": "+i),ll(i))return new _e(ne.UNAVAILABLE,e+": "+i);throw i}var DI=function(){function i(e){this.comparator=e?function(t,o){return e(t,o)||Ve.comparator(t.key,o.key)}:function(t,o){return Ve.comparator(t.key,o.key)},this.keyedMap=qy(),this.sortedSet=new Qn(this.comparator)}return i.emptySet=function(e){return new i(e.comparator)},i.prototype.has=function(e){return null!=this.keyedMap.get(e)},i.prototype.get=function(e){return this.keyedMap.get(e)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},i.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();t.hasNext();){var u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0},i.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},i.prototype.copy=function(e,t){var o=new i;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o},i}(),Dl=function(){function i(){this.Qr=new Qn(Ve.comparator)}return i.prototype.track=function(e){var t=e.doc.key,o=this.Qr.get(t);o?0!==e.type&&3===o.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==o.type?this.Qr=this.Qr.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Qr=this.Qr.remove(t):1===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Le():this.Qr=this.Qr.insert(t,e)},i.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,o){e.push(o)}),e},i}(),Ct=function(){function i(e,t,o,u,d,f,g,_){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_}return i.fromInitialDocuments=function(e,t,o,u){var d=[];return t.forEach(function(f){d.push({type:0,doc:f})}),new i(e,t,DI.emptySet(t),d,o,u,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(var u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0},i}(),Hs=function(){this.Wr=void 0,this.listeners=[]},Tl=function(){this.queries=new pl(function(i){return zw(i)},nl),this.onlineState="Unknown",this.Gr=new Set};function Ua(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,d,f,g,_;return(0,M.Jh)(this,function(w){switch(w.label){case 0:if(t=Se(i),u=!1,(d=t.queries.get(o=e.query))||(u=!0,d=new Hs),!u)return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),f=d,[4,t.onListen(o)];case 2:return f.Wr=w.sent(),[3,4];case 3:return g=w.sent(),_=ns(g,"Initialization of query '"+Py(e.query)+"' failed"),[2,void e.onError(_)];case 4:return t.queries.set(o,d),d.listeners.push(e),e.zr(t.onlineState),d.Wr&&e.Hr(d.Wr)&&pd(t),[2]}})})}function ZE(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,d,f;return(0,M.Jh)(this,function(g){return t=Se(i),u=!1,(d=t.queries.get(o=e.query))&&(f=d.listeners.indexOf(e))>=0&&(d.listeners.splice(f,1),u=0===d.listeners.length),u?[2,(t.queries.delete(o),t.onUnlisten(o))]:[2]})})}function ot(i,e){for(var t=Se(i),o=!1,u=0,d=e;u<d.length;u++){var f=d[u],_=t.queries.get(f.query);if(_){for(var w=0,C=_.listeners;w<C.length;w++)C[w].Hr(f)&&(o=!0);_.Wr=f}}o&&pd(t)}function Ei(i,e,t){var o=Se(i),u=o.queries.get(e);if(u)for(var d=0,f=u.listeners;d<f.length;d++)f[d].onError(t);o.queries.delete(e)}function pd(i){i.Gr.forEach(function(e){e.next()})}var rs=function(){function i(e,t,o){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],o=0,u=e.docChanges;o<u.length;o++){var d=u[o];3!==d.type&&t.push(d)}e=new Ct(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var f=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),f=!0):this.eo(e,this.onlineState)&&(this.no(e),f=!0),this.Xr=e,f},i.prototype.onError=function(e){this.Jr.error(e)},i.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},i.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},i.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(e){e=Ct.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},i}(),pR=function(){function i(e,t){this.payload=e,this.byteLength=t}return i.prototype.io=function(){return"metadata"in this.payload},i}(),wv=function(){function i(e){this.R=e}return i.prototype.qn=function(e){return Hi(this.R,e)},i.prototype.Un=function(e){return e.metadata.exists?Qf(this.R,e.document,!1):jn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},i.prototype.Kn=function(e){return xn(e)},i}();!function(){function i(e,t,o){this.ro=e,this.localStore=t,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(e)}i.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},i.prototype.co=function(e){for(var t=new Map,o=new wv(this.R),u=0,d=e;u<d.length;u++){var f=d[u];if(f.metadata.queries)for(var g=o.qn(f.metadata.name),_=0,w=f.metadata.queries;_<w.length;_++){var C=w[_],T=(t.get(C)||xt()).add(g);t.set(C,T)}}return t},i.prototype.complete=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u,d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,lI(this.localStore,new wv(this.R),this.documents,this.ro.id)];case 1:e=f.sent(),t=this.co(this.documents),o=0,u=this.queries,f.label=2;case 2:return o<u.length?[4,dR(this.localStore,d=u[o],t.get(d.name))]:[3,5];case 3:f.sent(),f.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kE(Object.assign({},this.progress),e))]}})})}}();var XE=function(i){this.key=i},eC=function(i){this.key=i},ni=function(){function i(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=xt(),this.mutatedKeys=xt(),this.lo=Ww(e),this.fo=new DI(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(e,t){var o=this,u=t?t.mo:new Dl,d=t?t.fo:this.fo,f=t?t.mutatedKeys:this.mutatedKeys,g=d,_=!1,w=Jc(this.query)&&d.size===this.query.limit?d.last():null,C=Xc(this.query)&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal(function(S,N){var R=d.get(S),k=rl(o.query,N)?N:null,$=!!R&&o.mutatedKeys.has(R.key),Y=!!k&&(k.hasLocalMutations||o.mutatedKeys.has(k.key)&&k.hasCommittedMutations),he=!1;R&&k?R.data.isEqual(k.data)?$!==Y&&(u.track({type:3,doc:k}),he=!0):o.yo(R,k)||(u.track({type:2,doc:k}),he=!0,(w&&o.lo(k,w)>0||C&&o.lo(k,C)<0)&&(_=!0)):!R&&k?(u.track({type:0,doc:k}),he=!0):R&&!k&&(u.track({type:1,doc:R}),he=!0,(w||C)&&(_=!0)),he&&(k?(g=g.add(k),f=Y?f.add(S):f.delete(S)):(g=g.delete(S),f=f.delete(S)))}),Jc(this.query)||Xc(this.query))for(;g.size>this.query.limit;){var T=Jc(this.query)?g.last():g.first();g=g.delete(T.key),f=f.delete(T.key),u.track({type:1,doc:T})}return{fo:g,mo:u,Nn:_,mutatedKeys:f}},i.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},i.prototype.applyChanges=function(e,t,o){var u=this,d=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var f=e.mo.jr();f.sort(function(C,T){return N=T.type,(R=function(k){switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}})(C.type)-R(N)||u.lo(C.doc,T.doc);var N,R}),this.po(o);var g=t?this.Eo():[],_=0===this.ho.size&&this.current?1:0,w=_!==this.ao;return this.ao=_,0!==f.length||w?{snapshot:new Ct(this.query,e.fo,d,f,e.mutatedKeys,0===_,w,!1),To:g}:{To:g}},i.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},i.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(o){return t.uo=t.uo.add(o)}),e.modifiedDocuments.forEach(function(o){}),e.removedDocuments.forEach(function(o){return t.uo=t.uo.delete(o)}),this.current=e.current)},i.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=xt(),this.fo.forEach(function(u){e.Io(u.key)&&(e.ho=e.ho.add(u.key))});var o=[];return t.forEach(function(u){e.ho.has(u)||o.push(new eC(u))}),this.ho.forEach(function(u){t.has(u)||o.push(new XE(u))}),o},i.prototype.Ao=function(e){this.uo=e.Bn,this.ho=xt();var t=this._o(e.documents);return this.applyChanges(t,!0)},i.prototype.Ro=function(){return Ct.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),qt=function(i,e,t){this.query=i,this.targetId=e,this.view=t},qi=function(i){this.key=i,this.bo=!1},tC=function(){function i(e,t,o,u,d,f){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=f,this.vo={},this.Po=new pl(function(g){return zw(g)},nl),this.Vo=new Map,this.So=new Set,this.Do=new Qn(Ve.comparator),this.Co=new Map,this.No=new cv,this.xo={},this.ko=new Map,this.Fo=rp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function SI(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,u,d,f,g;return(0,M.Jh)(this,function(_){switch(_.label){case 0:return t=Av(i),(d=t.Po.get(e))?(t.sharedClientState.addLocalQueryTarget(d.targetId),u=d.view.Ro(),[3,4]):[3,1];case 1:return[4,_l(t.localStore,_i(e))];case 2:return f=_.sent(),g=t.sharedClientState.addLocalQueryTarget(f.targetId),[4,vp(t,e,f.targetId,"current"===g)];case 3:u=_.sent(),t.isPrimaryClient&&Us(t.remoteStore,f),_.label=4;case 4:return[2,u]}})})}function vp(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,d,f,g,_,w;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return i.Oo=function(T,S,N){return function(R,k,$,Y){return(0,M.mG)(this,void 0,void 0,function(){var he,pe,Te;return(0,M.Jh)(this,function(Ie){switch(Ie.label){case 0:return(he=k.view._o($)).Nn?[4,ud(R.localStore,k.query,!1).then(function(et){return k.view._o(et.documents,he)})]:[3,2];case 1:he=Ie.sent(),Ie.label=2;case 2:return pe=Y&&Y.targetChanges.get(k.targetId),Te=k.view.applyChanges(he,R.isPrimaryClient,pe),[2,(Dv(R,k.targetId,Te.To),Te.snapshot)]}})})}(i,T,S,N)},[4,ud(i.localStore,e,!0)];case 1:return u=C.sent(),d=new ni(e,u.Bn),f=d._o(u.documents),g=Wy.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),_=d.applyChanges(f,i.isPrimaryClient,g),Dv(i,t,_.To),w=new qt(e,t,d),[2,(i.Po.set(e,w),i.Vo.has(t)?i.Vo.get(t).push(e):i.Vo.set(t,[e]),_.snapshot)]}})})}function Ev(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return t=Se(i),o=t.Po.get(e),(u=t.Vo.get(o.targetId)).length>1?[2,(t.Vo.set(o.targetId,u.filter(function(f){return!nl(f,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,wr(t.localStore,o.targetId,!1).then(function(){t.sharedClientState.clearQueryState(o.targetId),fd(t.remoteStore,o.targetId),$a(t,o.targetId)}).catch(Ba)]):[3,3];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return $a(t,o.targetId),[4,wr(t.localStore,o.targetId,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})}function Sl(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d,f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:o=Iv(i),g.label=1;case 1:return g.trys.push([1,5,,6]),[4,(_=o.localStore,w=e,T=Se(_),S=Zr.now(),N=w.reduce(function(R,k){return R.add(k.key)},xt()),T.persistence.runTransaction("Locally write mutations","readwrite",function(R){return T.Mn.pn(R,N).next(function(k){C=k;for(var $=[],Y=0,he=w;Y<he.length;Y++){var pe=he[Y],Te=By(pe,C.get(pe.key));null!=Te&&$.push(new ks(pe.key,Te,Sy(Te.value.mapValue),Yn.exists(!0)))}return T._n.addMutationBatch(R,S,$,w)})}).then(function(R){return R.applyToLocalDocumentSet(C),{batchId:R.batchId,changes:C}}))];case 2:return u=g.sent(),o.sharedClientState.addPendingMutation(u.batchId),function(_,w,C){var T=_.xo[_.currentUser.toKey()];T||(T=new Qn(_t)),T=T.insert(w,C),_.xo[_.currentUser.toKey()]=T}(o,u.batchId,t),[4,yo(o,u.changes)];case 3:return g.sent(),[4,ja(o.remoteStore)];case 4:return g.sent(),[3,6];case 5:return d=g.sent(),f=ns(d,"Failed to persist write"),t.reject(f),[3,6];case 6:return[2]}var _,w,C,T,S,N})})}function Al(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(u){switch(u.label){case 0:t=Se(i),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,vl(t.localStore,e)];case 2:return o=u.sent(),e.targetChanges.forEach(function(d,f){var g=t.Co.get(f);g&&(Xe(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?g.bo=!0:d.modifiedDocuments.size>0?Xe(g.bo):d.removedDocuments.size>0&&(Xe(g.bo),g.bo=!1))}),[4,yo(t,o,e)];case 3:return u.sent(),[3,6];case 4:return[4,Ba(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function nC(i,e,t){var o=Se(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){var u=[];o.Po.forEach(function(d,f){var g=f.view.zr(e);g.snapshot&&u.push(g.snapshot)}),function(d,f){var g=Se(d);g.onlineState=f;var _=!1;g.queries.forEach(function(w,C){for(var T=0,S=C.listeners;T<S.length;T++)S[T].zr(f)&&(_=!0)}),_&&pd(g)}(o.eventManager,e),u.length&&o.vo._r(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ha(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d,f,g,_;return(0,M.Jh)(this,function(w){switch(w.label){case 0:return(o=Se(i)).sharedClientState.updateQueryState(e,"rejected",t),u=o.Co.get(e),(d=u&&u.key)?(f=(f=new Qn(Ve.comparator)).insert(d,jn.newNoDocument(d,ft.min())),g=xt().add(d),_=new zy(ft.min(),new Map,new Tn(_t),f,g),[4,Al(o,_)]):[3,2];case 1:return w.sent(),o.Do=o.Do.remove(d),o.Co.delete(e),bp(o),[3,4];case 2:return[4,wr(o.localStore,e,!1).then(function(){return $a(o,e,t)}).catch(Ba)];case 3:w.sent(),w.label=4;case 4:return[2]}})})}function AI(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:t=Se(i),o=e.batch.batchId,d.label=1;case 1:return d.trys.push([1,4,,6]),[4,up(t.localStore,e)];case 2:return u=d.sent(),gd(t,o,null),Ga(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),[4,yo(t,u)];case 3:return d.sent(),[3,6];case 4:return[4,Ba(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}})})}function rC(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:o=Se(i),d.label=1;case 1:return d.trys.push([1,4,,6]),[4,(f=o.localStore,g=e,_=Se(f),_.persistence.runTransaction("Reject batch","readwrite-primary",function(w){var C;return _._n.lookupMutationBatch(w,g).next(function(T){return Xe(null!==T),C=T.keys(),_._n.removeMutationBatch(w,T)}).next(function(){return _._n.performConsistencyCheck(w)}).next(function(){return _.Mn.pn(w,C)})}))];case 2:return u=d.sent(),gd(o,e,t),Ga(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),[4,yo(o,u)];case 3:return d.sent(),[3,6];case 4:return[4,Ba(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}var f,g,_})})}function Cv(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,d,f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:es((t=Se(i)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,(_=t.localStore,w=Se(_),w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return w._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(o=g.sent())?[2,void e.resolve()]:((u=t.ko.get(o)||[]).push(e),t.ko.set(o,u),[3,4]);case 3:return d=g.sent(),f=ns(d,"Initialization of waitForPendingWrites() operation failed"),e.reject(f),[3,4];case 4:return[2]}var _,w})})}function Ga(i,e){(i.ko.get(e)||[]).forEach(function(t){t.resolve()}),i.ko.delete(e)}function gd(i,e,t){var o=Se(i),u=o.xo[o.currentUser.toKey()];if(u){var d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.xo[o.currentUser.toKey()]=u}}function $a(i,e,t){void 0===t&&(t=null),i.sharedClientState.removeLocalQueryTarget(e);for(var o=0,u=i.Vo.get(e);o<u.length;o++){var d=u[o];i.Po.delete(d),t&&i.vo.Mo(d,t)}i.Vo.delete(e),i.isPrimaryClient&&i.No.Zn(e).forEach(function(f){i.No.containsKey(f)||qa(i,f)})}function qa(i,e){i.So.delete(e.path.canonicalString());var t=i.Do.get(e);null!==t&&(fd(i.remoteStore,t),i.Do=i.Do.remove(e),i.Co.delete(t),bp(i))}function Dv(i,e,t){for(var o=0,u=t;o<u.length;o++){var d=u[o];d instanceof XE?(i.No.addReference(d.key,e),_p(i,d)):d instanceof eC?(Ce("SyncEngine","Document no longer in limbo: "+d.key),i.No.removeReference(d.key,e),i.No.containsKey(d.key)||qa(i,d.key)):Le()}}function _p(i,e){var t=e.key,o=t.path.canonicalString();i.Do.get(t)||i.So.has(o)||(Ce("SyncEngine","New document in limbo: "+t),i.So.add(o),bp(i))}function bp(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var e=i.So.values().next().value;i.So.delete(e);var t=new Ve(Tt.fromString(e)),o=i.Fo.next();i.Co.set(o,new qi(t)),i.Do=i.Do.insert(t,o),Us(i.remoteStore,new Vs(_i(Ma(t.path)),o,2,Qr.o))}}function yo(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d,f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return o=Se(i),u=[],d=[],f=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(_,w){f.push(o.Oo(w,e,t).then(function(C){if(C){o.isPrimaryClient&&o.sharedClientState.updateQueryState(w.targetId,C.fromCache?"not-current":"current"),u.push(C);var T=lR.Pn(w.targetId,C);d.push(T)}}))}),[4,Promise.all(f)]);case 1:return g.sent(),o.vo._r(u),[4,function(_,w){return(0,M.mG)(this,void 0,void 0,function(){var C,T,S,N,R,k,$,he;return(0,M.Jh)(this,function(pe){switch(pe.label){case 0:C=Se(_),pe.label=1;case 1:return pe.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Te){return Ee.forEach(w,function(Ie){return Ee.forEach(Ie.bn,function(et){return C.persistence.referenceDelegate.addReference(Te,Ie.targetId,et)}).next(function(){return Ee.forEach(Ie.vn,function(et){return C.persistence.referenceDelegate.removeReference(Te,Ie.targetId,et)})})})})];case 2:return pe.sent(),[3,4];case 3:if(!ll(T=pe.sent()))throw T;return Ce("LocalStore","Failed to update sequence numbers: "+T),[3,4];case 4:for(S=0,N=w;S<N.length;S++)k=(R=N[S]).targetId,R.fromCache||($=C.kn.get(k),he=$.withLastLimboFreeSnapshotVersion($.snapshotVersion),C.kn=C.kn.insert(k,he));return[2]}})})}(o.localStore,d)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}function iC(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return(t=Se(i)).currentUser.isEqual(e)?[3,3]:(Ce("SyncEngine","User change. New user:",e.toKey()),[4,ap(t.localStore,e)]);case 1:return o=u.sent(),t.currentUser=e,(d=t).ko.forEach(function(g){g.forEach(function(_){_.reject(new _e(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ko.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),[4,yo(t,o.Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}var d})})}function wp(i,e){var t=Se(i),o=t.Co.get(e);if(o&&o.bo)return xt().add(o.key);var u=xt(),d=t.Vo.get(e);if(!d)return u;for(var f=0,g=d;f<g.length;f++){var w=t.Po.get(g[f]);u=u.unionWith(w.view.wo)}return u}function II(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return[4,ud((t=Se(i)).localStore,e.query,!0)];case 1:return o=d.sent(),u=e.view.Ao(o),[2,(t.isPrimaryClient&&Dv(t,e.targetId,u.To),u)]}})})}function Tv(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){return[2,ld((e=Se(i)).localStore).then(function(o){return yo(e,o)})]})})}function Sv(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,(g=(u=Se(i)).localStore,_=e,w=Se(g),C=Se(w._n),w.persistence.runTransaction("Lookup mutation documents","readonly",function(T){return C.jt(T,_).next(function(S){return S?w.Mn.pn(T,S):Ee.resolve(null)})}))];case 1:return null===(d=f.sent())?[3,6]:"pending"!==t?[3,3]:[4,ja(u.remoteStore)];case 2:return f.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(gd(u,e,o||null),Ga(u,e),function(g,_){Se(Se(g)._n).Gt(_)}(u.localStore,e)):Le(),f.label=4;case 4:return[4,yo(u,d)];case 5:return f.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+e),f.label=7;case 7:return[2]}var g,_,w,C})})}function gR(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,d,f,_,w;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return Av(t=Se(i)),Iv(t),!0!==e||!0===t.$o?[3,3]:(o=t.sharedClientState.getAllActiveQueryTargets(),[4,MI(t,o.toArray())]);case 1:return u=C.sent(),t.$o=!0,[4,mp(t.remoteStore,!0)];case 2:for(C.sent(),d=0,f=u;d<f.length;d++)Us(t.remoteStore,f[d]);return[3,7];case 3:return!1!==e||!1===t.$o?[3,7]:(_=[],w=Promise.resolve(),t.Vo.forEach(function(T,S){t.sharedClientState.isLocalQueryTarget(S)?_.push(S):w=w.then(function(){return $a(t,S),wr(t.localStore,S,!0)}),fd(t.remoteStore,S)}),[4,w]);case 4:return C.sent(),[4,MI(t,_)];case 5:return C.sent(),(S=Se(t)).Co.forEach(function(N,R){fd(S.remoteStore,R)}),S.No.ts(),S.Co=new Map,S.Do=new Qn(Ve.comparator),t.$o=!1,[4,mp(t.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var S})})}function MI(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d,f,g,_,w,C,T,S,R,k,$;return(0,M.Jh)(this,function(Y){switch(Y.label){case 0:o=Se(i),u=[],d=[],f=0,g=e,Y.label=1;case 1:return f<g.length?(w=void 0,(C=o.Vo.get(_=g[f]))&&0!==C.length?[4,_l(o.localStore,_i(C[0]))]:[3,7]):[3,13];case 2:w=Y.sent(),T=0,S=C,Y.label=3;case 3:return T<S.length?(R=o.Po.get(S[T]),[4,II(o,R)]):[3,6];case 4:(k=Y.sent()).snapshot&&d.push(k.snapshot),Y.label=5;case 5:return T++,[3,3];case 6:return[3,11];case 7:return[4,aI(o.localStore,_)];case 8:return $=Y.sent(),[4,_l(o.localStore,$)];case 9:return w=Y.sent(),[4,vp(o,tt($),_,!1)];case 10:Y.sent(),Y.label=11;case 11:u.push(w),Y.label=12;case 12:return f++,[3,1];case 13:return[2,(o.vo._r(d),u)]}})})}function tt(i){return Oy(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function mR(i){var e=Se(i);return Se(Se(e.localStore).persistence).fn()}function md(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,d,f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return(u=Se(i)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!u.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ld(u.localStore)];case 3:return d=g.sent(),f=zy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,yo(u,d,f)];case 4:return g.sent(),[3,8];case 5:return[4,wr(u.localStore,e,!0)];case 6:return g.sent(),$a(u,e,o),[3,8];case 7:Le(),g.label=8;case 8:return[2]}})})}function NI(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,d,f,g,_,w,C,T;return(0,M.Jh)(this,function(N){switch(N.label){case 0:if(!(o=Av(i)).$o)return[3,10];u=0,d=e,N.label=1;case 1:return u<d.length?o.Vo.has(f=d[u])?(Ce("SyncEngine","Adding an already active target "+f),[3,5]):[4,aI(o.localStore,f)]:[3,6];case 2:return g=N.sent(),[4,_l(o.localStore,g)];case 3:return _=N.sent(),[4,vp(o,tt(g),_.targetId,!1)];case 4:N.sent(),Us(o.remoteStore,_),N.label=5;case 5:return u++,[3,1];case 6:w=function(R){return(0,M.Jh)(this,function(k){switch(k.label){case 0:return o.Vo.has(R)?[4,wr(o.localStore,R,!1).then(function(){fd(o.remoteStore,R),$a(o,R)}).catch(Ba)]:[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})},C=0,T=t,N.label=7;case 7:return C<T.length?[5,w(T[C])]:[3,10];case 8:N.sent(),N.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function Av(i){var e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Al.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ha.bind(null,e),e.vo._r=ot.bind(null,e.eventManager),e.vo.Mo=Ei.bind(null,e.eventManager),e}function Iv(i){var e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,e),e}var RI=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return this.R=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},i.prototype.Uo=function(e){return null},i.prototype.Ko=function(e){return sI(this.persistence,new LE,e.initialUser,this.R)},i.prototype.qo=function(e){return new dI(hI.bs,this.R)},i.prototype.Bo=function(e){return new yv},i.prototype.terminate=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},i}(),oC=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).Qo=t,d.cacheSizeBytes=o,d.forceOwnership=u,d.synchronizeTabs=!1,d}return(0,M.ZT)(e,i),e.prototype.initialize=function(t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return u.sent(),[4,uI(this.localStore)];case 2:return u.sent(),[4,this.Qo.initialize(this,t)];case 3:return u.sent(),[4,Iv(this.Qo.syncEngine)];case 4:return u.sent(),[4,ja(this.Qo.remoteStore)];case 5:return u.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return u.sent(),[2]}})})},e.prototype.Ko=function(t){return sI(this.persistence,new LE,t.initialUser,this.R)},e.prototype.Uo=function(t){return new xE(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var o=sp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new oI(this.synchronizeTabs,o,t.clientId,u,t.asyncQueue,gI(),dp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new yv},e}(RI),cr=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o,!1)||this).Qo=t,u.cacheSizeBytes=o,u.synchronizeTabs=!0,u}return(0,M.ZT)(e,i),e.prototype.initialize=function(t){return(0,M.mG)(this,void 0,void 0,function(){var o,u=this;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return d.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof mv?(this.sharedClientState.syncEngine={ui:Sv.bind(null,o),ai:md.bind(null,o),hi:NI.bind(null,o),fn:mR.bind(null,o),ci:Tv.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:d.sent(),d.label=3;case 3:return[4,this.persistence.He(function(f){return(0,M.mG)(u,void 0,void 0,function(){return(0,M.Jh)(this,function(g){switch(g.label){case 0:return[4,gR(this.Qo.syncEngine,f)];case 1:return g.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return d.sent(),[2]}})})},e.prototype.Bo=function(t){var o=gI();if(!mv.yt(o))throw new _e(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var u=sp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mv(o,t.asyncQueue,u,t.clientId,t.initialUser)},e}(oC),Mv=function(){function i(){}return i.prototype.initialize=function(e,t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(d){return nC(o.syncEngine,d,1)},this.remoteStore.remoteSyncer.handleCredentialChange=iC.bind(null,this.syncEngine),[4,mp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(e){return new Tl},i.prototype.createDatastore=function(e){var o=hd(e.databaseInfo.databaseId),u=new pI(e.databaseInfo);return new vI(e.credentials,u,o)},i.prototype.createRemoteStore=function(e){var t,o,u,d,f,g=this;return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=function(_){return nC(g.syncEngine,_,0)},f=cd.yt()?new cd:new cp,new bI(t,o,u,d,f)},i.prototype.createSyncEngine=function(e,t){return w=t,C=new tC(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),w&&(C.$o=!0),C;var w,C},i.prototype.terminate=function(){return function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t=Se(e),Ce("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,wl(t)];case 1:return o.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),Il=function(){function i(e){this.observer=e,this.muted=!1}return i.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},i.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(e,t){var o=this;this.muted||setTimeout(function(){o.muted||e(t)},0)},i}(),xI=(function(){function i(e,t){var o=this;this.Go=e,this.R=t,this.metadata=new Zn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(u){u&&u.io()?o.metadata.resolve(u.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==u?void 0:u.payload)))},function(u){return o.metadata.reject(u)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Jo()];case 1:return null===(e=d.sent())?[2,null]:(t=this.zo.decode(e),o=Number(t),isNaN(o)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(o)]);case 2:return u=d.sent(),[2,new pR(JSON.parse(u),e.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},i.prototype.Xo=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},i.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},i.prototype.tc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(e=o.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function i(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t,o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _e(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(d,f){return(0,M.mG)(this,void 0,void 0,function(){var g,_,w,C,T,S;return(0,M.Jh)(this,function(N){switch(N.label){case 0:return g=Se(d),_=rd(g.R)+"/documents",w={documents:f.map(function(R){return xa(g.R,R)})},[4,g.$i("BatchGetDocuments",_,w)];case 1:return C=N.sent(),T=new Map,C.forEach(function(R){var $,Y,k=($=g.R,"found"in(Y=R)?function(he,pe){Xe(!!pe.found);var Te=Hi(he,pe.found.name),Ie=xn(pe.found.updateTime),et=new Jr({mapValue:{fields:pe.found.fields}});return jn.newFoundDocument(Te,Ie,et)}($,Y):"missing"in Y?function(he,pe){Xe(!!pe.missing),Xe(!!pe.readTime);var Te=Hi(he,pe.missing),Ie=xn(pe.readTime);return jn.newNoDocument(Te,Ie)}($,Y):Le());T.set(k.key.toString(),k)}),S=[],[2,(f.forEach(function(R){var k=T.get(R.toString());Xe(!!k),S.push(k)}),S)]}})})}(this.datastore,e)];case 1:return[2,((t=u.sent()).forEach(function(d){return o.recordVersion(d)}),t)]}})})},i.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())},i.prototype.delete=function(e){this.write(new sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.commit=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t=this;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(u){e.delete(u.key.toString())}),e.forEach(function(u,d){var f=Ve.fromPath(d);t.mutations.push(new qf(f,t.precondition(f)))}),[4,function(u,d){return(0,M.mG)(this,void 0,void 0,function(){var f,g,_;return(0,M.Jh)(this,function(w){switch(w.label){case 0:return f=Se(u),g=rd(f.R)+"/documents",_={writes:d.map(function(C){return Qy(f.R,C)})},[4,f.Ni("Commit",g,_)];case 1:return w.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Le();t=ft.min()}var o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new _e(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},i.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Yn.updateTime(t):Yn.none()},i.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ft.min()))throw new _e(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)},i.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},i.prototype.ensureCommitNotCalled=function(){},i}()),FI=function(){function i(e,t,o,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=u,this.ec=5,this.Zi=new vv(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,M.mG)(e,void 0,void 0,function(){var t,o,u=this;return(0,M.Jh)(this,function(d){return t=new xI(this.datastore),(o=this.sc(t))&&o.then(function(f){u.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){u.deferred.resolve(f)}).catch(function(g){u.ic(g)})})}).catch(function(f){u.ic(f)}),[2]})})})},i.prototype.sc=function(e){try{var t=this.updateFunction(e);return!xs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},i.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Hy(t)}return!1},i}(),PI=function(){function i(e,t,o){var u=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=o,this.user=Jn.UNAUTHENTICATED,this.clientId=kf.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(d){return(0,M.mG)(u,void 0,void 0,function(){return(0,M.Jh)(this,function(f){switch(f.label){case 0:return Ce("FirestoreClient","Received user=",d.uid),[4,this.credentialListener(d)];case 1:return f.sent(),this.user=d,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,M.mG)(e,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:d.sent(),d.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:d.sent(),d.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return o=d.sent(),u=ns(o,"Failed to shutdown persistence"),t.reject(u),[3,6];case 6:return[2]}})})}),t.promise},i}();function aC(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u=this;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return t=d.sent(),[4,e.initialize(t)];case 2:return d.sent(),o=t.initialUser,i.setCredentialChangeListener(function(f){return(0,M.mG)(u,void 0,void 0,function(){return(0,M.Jh)(this,function(g){switch(g.label){case 0:return o.isEqual(f)?[3,2]:[4,ap(e.localStore,f)];case 1:g.sent(),o=f,g.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=e,[2]}})})}function uC(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,yd(i)];case 1:return t=u.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=u.sent(),[4,e.initialize(t,o)];case 3:return u.sent(),i.setCredentialChangeListener(function(d){return function(f,g){return(0,M.mG)(this,void 0,void 0,function(){var _,w;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return(_=Se(f)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),w=es(_),_.Or.add(3),[4,wl(_)];case 1:return C.sent(),w&&_.Br.set("Unknown"),[4,_.remoteSyncer.handleCredentialChange(g)];case 2:return C.sent(),_.Or.delete(3),[4,hp(_)];case 3:return C.sent(),[2]}})})}(e.remoteStore,d)}),i.onlineComponents=e,[2]}})})}function yd(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return i.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,aC(i,new RI)]);case 1:e.sent(),e.label=2;case 2:return[2,i.offlineComponents]}})})}function Ep(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return i.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,uC(i,new Mv)]);case 1:e.sent(),e.label=2;case 2:return[2,i.onlineComponents]}})})}function lC(i){return yd(i).then(function(e){return e.persistence})}function Cp(i){return yd(i).then(function(e){return e.localStore})}function Dp(i){return Ep(i).then(function(e){return e.remoteStore})}function Nv(i){return Ep(i).then(function(e){return e.syncEngine})}function vd(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return[4,Ep(i)];case 1:return e=o.sent(),[2,((t=e.eventManager).onListen=SI.bind(null,e.syncEngine),t.onUnlisten=Ev.bind(null,e.syncEngine),t)]}})})}function cC(i,e,t){var o=this;void 0===t&&(t={});var u=new Zn;return i.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(o,void 0,void 0,function(){var d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return d=function(g,_,w,C,T){var S=new Il({next:function(R){_.enqueueAndForget(function(){return ZE(g,N)});var k=R.docs.has(w);!k&&R.fromCache?T.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&C&&"server"===C.source?T.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(R)},error:function(R){return T.reject(R)}}),N=new rs(Ma(w.path),S,{includeMetadataChanges:!0,so:!0});return Ua(g,N)},[4,vd(i)];case 1:return[2,d.apply(void 0,[f.sent(),i.asyncQueue,e,t,u])]}})})}),u.promise}function dC(i,e,t){var o=this;void 0===t&&(t={});var u=new Zn;return i.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(o,void 0,void 0,function(){var d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return d=function(g,_,w,C,T){var S=new Il({next:function(R){_.enqueueAndForget(function(){return ZE(g,N)}),R.fromCache&&"server"===C.source?T.reject(new _e(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(R)},error:function(R){return T.reject(R)}}),N=new rs(w,S,{includeMetadataChanges:!0,so:!0});return Ua(g,N)},[4,vd(i)];case 1:return[2,d.apply(void 0,[f.sent(),i.asyncQueue,e,t,u])]}})})}),u.promise}var kI=function(i,e,t,o,u,d,f,g){this.databaseId=i,this.appId=e,this.persistenceKey=t,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=g},Tp=function(){function i(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database},i}(),hC=new Map,fC=function(i,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},Ml=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Jn.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),LI=function(){function i(e){this.token=e,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){var o=this;this.changeListener=t,e.enqueueRetryable(function(){return t(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),VI=function(){function i(e){var t=this;this.currentUser=Jn.UNAUTHENTICATED,this.oc=new Zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var o=function(u){Ce("FirebaseCredentialsProvider","Auth detected"),t.auth=u,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(u){return o(u)}),setTimeout(function(){if(!t.auth){var u=e.getImmediate({optional:!0});u?o(u):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return i.prototype.getToken=function(){var e=this,t=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(u){return e.cc!==t?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):u?(Xe("string"==typeof u.accessToken),new fC(u.accessToken,e.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(e,t){var o=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,M.mG)(o,void 0,void 0,function(){return(0,M.Jh)(this,function(u){switch(u.label){case 0:return[4,this.oc.promise];case 1:return u.sent(),[4,t(this.currentUser)];case 2:return u.sent(),this.changeListener=t,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Xe(null===e||"string"==typeof e),new Jn(e)},i}(),pC=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o,this.type="FirstParty",this.user=Jn.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),i}(),_d=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new pC(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Jn.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function gC(i,e,t){if(!t)throw new _e(ne.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+e+".")}function Sp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e(ne.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return e}function mC(i,e,t,o){if(!0===e&&!0===o)throw new _e(ne.INVALID_ARGUMENT,i+" and "+t+" cannot be used together.")}function yC(i){if(!Ve.isDocumentKey(i))throw new _e(ne.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function vC(i){if(Ve.isDocumentKey(i))throw new _e(ne.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function Ap(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var e=function(t){if(t.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return e?"a custom "+e+" object":"an object"}return"function"==typeof i?"a function":Le()}function St(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=Ap(i);throw new _e(ne.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return i}function Rv(i,e){if(e<=0)throw new _e(ne.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+e+".")}var _C=function(){function i(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},i}(),bd=function(){function i(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _C({}),this._settingsFrozen=!1,e instanceof Tp?(this._databaseId=e,this._credentials=new Ml):(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tp(o.options.projectId)}(e),this._credentials=new VI(t))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _C(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Ml;switch(t.type){case"gapi":var o=t.client;return Xe(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new _d(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(t=hC.get(this))&&(Ce("ComponentProvider","Removing Datastore"),hC.delete(this),t.terminate()),Promise.resolve();var t},i}(),sn=function(){function i(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new za(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._key)},i}(),ri=function(){function i(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}return i.prototype.withConverter=function(e){return new i(this.firestore,e,this._query)},i}(),za=function(i){function e(t,o,u){var d=this;return(d=i.call(this,t,o,Ma(u))||this)._path=u,d.type="collection",d}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new Ve(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ri);function Ip(i,e){for(var t,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(i=(0,It.m9)(i),gC("collection","path",e),i instanceof bd)return vC(t=Tt.fromString.apply(Tt,(0,M.ev)([e],o))),new za(i,null,t);if(!(i instanceof sn||i instanceof za))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vC(t=Tt.fromString.apply(Tt,(0,M.ev)([i.path],o)).child(Tt.fromString(e))),new za(i.firestore,null,t)}function Mp(i,e){for(var t,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(i=(0,It.m9)(i),1===arguments.length&&(e=kf.u()),gC("doc","path",e),i instanceof bd)return yC(t=Tt.fromString.apply(Tt,(0,M.ev)([e],o))),new sn(i,null,new Ve(t));if(!(i instanceof sn||i instanceof za))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yC(t=i._path.child(Tt.fromString.apply(Tt,(0,M.ev)([e],o)))),new sn(i.firestore,i instanceof za?i.converter:null,new Ve(t))}function bC(i,e){return i=(0,It.m9)(i),e=(0,It.m9)(e),(i instanceof sn||i instanceof za)&&(e instanceof sn||e instanceof za)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function wC(i,e){return i=(0,It.m9)(i),e=(0,It.m9)(e),i instanceof ri&&e instanceof ri&&i.firestore===e.firestore&&nl(i._query,e._query)&&i.converter===e.converter}var BI=function(){function i(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new vv(this,"async_queue_retry"),this.Ic=function(){var o=dp();o&&Ce("AsyncQueue","Visibility state changed to "+o.visibilityState),e.Zi.Gi()};var t=dp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(e){this.enqueue(e)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},i.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=dp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new Zn;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},i.prototype.bc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t=this;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ll(e=o.sent()))throw e;return Ce("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(e){var t=this,o=this.dc.then(function(){return t.gc=!0,e().catch(function(u){throw t.yc=u,t.gc=!1,On("INTERNAL UNHANDLED ERROR: ",(f=(d=u).message||"",d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f)),u;var d,f}).then(function(u){return t.gc=!1,u})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(e,t,o){var u=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var d=yp.createAndSchedule(this,e,t,o,function(f){return u.vc(f)});return this.mc.push(d),d},i.prototype.Ac=function(){this.yc&&Le()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},i.prototype.Vc=function(e){for(var t=0,o=this.mc;t<o.length;t++)if(o[t].timerId===e)return!0;return!1},i.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(f,g){return f.targetTimeMs-g.targetTimeMs});for(var o=0,u=t.mc;o<u.length;o++){var d=u[o];if(d.skipDelay(),"all"!==e&&d.timerId===e)break}return t.Pc()})},i.prototype.Dc=function(e){this.Tc.push(e)},i.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},i}();function Nl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var o=e,u=0,d=["next","error","complete"];u<d.length;u++){var f=d[u];if(f in o&&"function"==typeof o[f])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(e,t,o){this._progressObserver={next:e,error:t,complete:o}},i.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},i.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},i.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},i.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},i.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var zt=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o)||this).type="firestore",u._queue=new BI,u._persistenceKey="name"in t?t.name:"[DEFAULT]",u}return(0,M.ZT)(e,i),e.prototype._terminate=function(){return this._firestoreClient||Wa(this),this._firestoreClient.terminate()},e}(bd);function Gn(i){return i._firestoreClient||Wa(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Wa(i){var e,d,g,t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new kI(i._databaseId,d,i._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));i._firestoreClient=new PI(i._credentials,i._queue,o)}function Xn(i,e,t){var o=this,u=new Zn;return i.asyncQueue.enqueue(function(){return(0,M.mG)(o,void 0,void 0,function(){var d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,aC(i,t)];case 1:return f.sent(),[4,uC(i,e)];case 2:return f.sent(),u.resolve(),[3,4];case 3:if(!("FirebaseError"===(g=d=f.sent()).name?g.code===ne.FAILED_PRECONDITION||g.code===ne.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),u.reject(d),[3,4];case 4:return[2]}var g})})}).then(function(){return u.promise})}function Ov(i){if(i._initialized||i._terminated)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var An=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;++o)if(0===e[o].length)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}return i.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},i}(),is=function(){function i(e){this._byteString=e}return i.fromBase64String=function(e){try{return new i(Bn.fromBase64String(e))}catch(t){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},i.fromUint8Array=function(e){return new i(Bn.fromUint8Array(e))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},i}(),Ka=function(i){this._methodName=i},wd=function(){function i(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(e){return _t(this._lat,e._lat)||_t(this._long,e._long)},i}(),CC=/^__.*__$/,DC=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new ol(e,this.data,t,this.fieldTransforms)},i}(),TC=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return new ks(e,this.data,this.fieldMask,t,this.fieldTransforms)},i}();function SC(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var AC=function(){function i(e,t,o,u,d,f){this.settings=e,this.databaseId=t,this.R=o,this.ignoreUndefinedProperties=u,void 0===d&&this.Cc(),this.fieldTransforms=d||[],this.fieldMask=f||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(e){return new i(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.kc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.xc({path:o,Fc:!1});return u.$c(e),u},i.prototype.Oc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.xc({path:o,Fc:!1});return u.Cc(),u},i.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},i.prototype.Lc=function(e){return Rp(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},i.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},i.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(SC(this.Nc)&&CC.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),IC=function(){function i(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=o||hd(e)}return i.prototype.Uc=function(e,t,o,u){return void 0===u&&(u=!1),new AC({Nc:e,methodName:t,qc:o,path:ji.emptyPath(),Fc:!1,Bc:u},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function Ya(i){var e=i._freezeSettings(),t=hd(i._databaseId);return new IC(i._databaseId,!!e.ignoreUndefinedProperties,t)}function xv(i,e,t,o,u,d){void 0===d&&(d={});var f=i.Uc(d.merge||d.mergeFields?2:0,e,t,u);kv("Data must be an object, but it was:",f,o);var g,_,w=xC(o,f);if(d.merge)g=new Ta(f.fieldMask),_=f.fieldTransforms;else if(d.mergeFields){for(var C=[],T=0,S=d.mergeFields;T<S.length;T++){var N=Lv(e,S[T],t);if(!f.contains(N))throw new _e(ne.INVALID_ARGUMENT,"Field '"+N+"' is specified in your field mask but missing from your input data.");FC(C,N)||C.push(N)}g=new Ta(C),_=f.fieldTransforms.filter(function(R){return g.covers(R.field)})}else g=null,_=f.fieldTransforms;return new DC(new Jr(w),g,_)}var Fv=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ka);function MC(i,e,t){return new AC({Nc:3,qc:e.settings.qc,methodName:i._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Rl=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){return new _r(t.path,new ed)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ka),vR=function(i){function e(t,o){var u=this;return(u=i.call(this,t)||this).Kc=o,u}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=MC(this,t,!0),u=this.Kc.map(function(f){return os(f,o)}),d=new Ps(u);return new _r(t.path,d)},e.prototype.isEqual=function(t){return this===t},e}(Ka),NC=function(i){function e(t,o){var u=this;return(u=i.call(this,t)||this).Kc=o,u}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=MC(this,t,!0),u=this.Kc.map(function(f){return os(f,o)}),d=new lr(u);return new _r(t.path,d)},e.prototype.isEqual=function(t){return this===t},e}(Ka),UI=function(i){function e(t,o){var u=this;return(u=i.call(this,t)||this).Qc=o,u}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=new Oa(t.R,Yw(t.R,this.Qc));return new _r(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Ka);function RC(i,e,t,o){var u=i.Uc(1,e,t);kv("Data must be an object, but it was:",u,o);var d=[],f=Jr.empty();Qu(o,function(_,w){var C=Vv(e,_,t);w=(0,It.m9)(w);var T=u.Oc(C);if(w instanceof Fv)d.push(C);else{var S=os(w,T);null!=S&&(d.push(C),f.set(C,S))}});var g=new Ta(d);return new TC(f,g,u.fieldTransforms)}function Np(i,e,t,o,u,d){var f=i.Uc(1,e,t),g=[Lv(e,o,t)],_=[u];if(d.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var w=0;w<d.length;w+=2)g.push(Lv(e,d[w])),_.push(d[w+1]);for(var C=[],T=Jr.empty(),S=g.length-1;S>=0;--S)if(!FC(C,g[S])){var N=g[S],R=_[S];R=(0,It.m9)(R);var k=f.Oc(N);if(R instanceof Fv)C.push(N);else{var $=os(R,k);null!=$&&(C.push(N),T.set(N,$))}}var Y=new Ta(C);return new TC(T,Y,f.fieldTransforms)}function OC(i,e,t,o){return void 0===o&&(o=!1),os(t,i.Uc(o?4:3,e))}function os(i,e){if(Pv(i=(0,It.m9)(i)))return kv("Unsupported field value:",e,i),xC(i,e);if(i instanceof Ka)return function(t,o){if(!SC(o.Nc))throw o.Lc(t._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(t._methodName+"() is not currently supported inside arrays");var u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,o){for(var u=[],d=0,f=0,g=t;f<g.length;f++){var _=os(g[f],o.Mc(d));null==_&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,It.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yw(o.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var u=Zr.fromDate(t);return{timestampValue:al(o.R,u)}}if(t instanceof Zr)return u=new Zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:al(o.R,u)};if(t instanceof wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof is)return{bytesValue:Ky(o.R,t._byteString)};if(t instanceof sn){var d=t.firestore._databaseId;if(!d.isEqual(u=o.databaseId))throw o.Lc("Document reference is for database "+d.projectId+"/"+d.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:Yf(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.Lc("Unsupported field value: "+Ap(t))}(i,e)}function xC(i,e){var t={};return Lw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qu(i,function(o,u){var d=os(u,e.kc(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Pv(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zr||i instanceof wd||i instanceof is||i instanceof sn||i instanceof Ka)}function kv(i,e,t){if(!Pv(t)||"object"!=typeof(u=t)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){var o=Ap(t);throw e.Lc("an object"===o?i+" a custom object":i+" "+o)}var u}function Lv(i,e,t){if((e=(0,It.m9)(e))instanceof An)return e._internalPath;if("string"==typeof e)return Vv(i,e);throw Rp("Field path arguments must be of type string or FieldPath.",i,!1,void 0,t)}var HI=new RegExp("[~\\*/\\[\\]]");function Vv(i,e,t){if(e.search(HI)>=0)throw Rp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,t);try{return(new(An.bind.apply(An,(0,M.ev)([void 0],e.split(".")))))._internalPath}catch(o){throw Rp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,t)}}function Rp(i,e,t,o,u){var d=o&&!o.isEmpty(),f=void 0!==u,g="Function "+e+"() called with invalid data";t&&(g+=" (via `toFirestore()`)");var _="";return(d||f)&&(_+=" (found",d&&(_+=" in field "+o),f&&(_+=" in document "+u),_+=")"),new _e(ne.INVALID_ARGUMENT,(g+=". ")+i+_)}function FC(i,e){return i.some(function(t){return t.isEqual(e)})}var Ed=function(){function i(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new sn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var e=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(e){if(this._document){var t=this._document.data.field(Gs("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},i}(),GI=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(){return i.prototype.data.call(this)},e}(Ed);function Gs(i,e){return"string"==typeof e?Vv(i,e):e instanceof An?e._internalPath:e._delegate._internalPath}var $s=function(){function i(e,t){this.hasPendingWrites=e,this.fromCache=t}return i.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},i}(),vo=function(i){function e(t,o,u,d,f,g){var _=this;return(_=i.call(this,t,o,u,d,g)||this)._firestore=t,_._firestoreImpl=t,_.metadata=f,_}return(0,M.ZT)(e,i),e.prototype.exists=function(){return i.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var o=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,o){if(void 0===o&&(o={}),this._document){var u=this._document.data.field(Gs("DocumentSnapshot.get",t));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}},e}(Ed),Ol=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(t){return void 0===t&&(t={}),i.prototype.data.call(this,t)},e}(vo),ss=function(){function i(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new $s(u.hasPendingWrites,u.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e,t){var o=this;this._snapshot.docs.forEach(function(u){e.call(t,new Ol(o._firestore,o._userDataWriter,u.key,u,new $s(o._snapshot.mutatedKeys.has(u.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){var d=0;return o._snapshot.docChanges.map(function(g){return{type:"added",doc:new Ol(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $s(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}})}var f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(g){return u||3!==g.type}).map(function(g){var _=new Ol(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $s(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),w=-1,C=-1;return 0!==g.type&&(w=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),1!==g.type&&(C=(f=f.add(g.doc)).indexOf(g.doc.key)),{type:PC(g.type),doc:_,oldIndex:w,newIndex:C}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},i}();function PC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function Bv(i,e){return i instanceof vo&&e instanceof vo?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ss&&e instanceof ss&&i._firestore===e._firestore&&wC(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function kC(i){if(Xc(i)&&0===i.explicitOrderBy.length)throw new _e(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xl=function(){};function as(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var o=0,u=e;o<u.length;o++){var d=u[o];i=d._apply(i)}return i}var $I=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).jc=t,d.Wc=o,d.Gc=u,d.type="where",d}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var d,g,o=Ya(t.firestore),u=function(d,f,g,_,w,C,T){var S;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new _e(ne.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){zi(T,C);for(var N=[],R=0,k=T;R<k.length;R++)N.push(Op(_,d,k[R]));S={arrayValue:{values:N}}}else S=Op(_,d,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||zi(T,C),S=OC(g,"where",T,"in"===C||"not-in"===C);var Y=vr.create(w,C,S);return function(he,pe){if(pe.g()){var Te=xy(he);if(null!==Te&&!Te.isEqual(pe.field))throw new _e(ne.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Te.toString()+"' and '"+pe.field.toString()+"'");var Ie=qw(he);null!==Ie&&BC(0,pe.field,Ie)}var et=function(pt,Tr){for(var er=0,Gr=pt.filters;er<Gr.length;er++){var Wl=Gr[er];if(Tr.indexOf(Wl.op)>=0)return Wl.op}return null}(he,function(pt){switch(pt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(pe.op));if(null!==et)throw new _e(ne.INVALID_ARGUMENT,et===pe.op?"Invalid query. You cannot use more than one '"+pe.op.toString()+"' filter.":"Invalid query. You cannot use '"+pe.op.toString()+"' filters with '"+et.toString()+"' filters.")}(d,Y),Y}(t._query,0,o,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ri(t.firestore,t.converter,(g=(d=t._query).filters.concat([u]),new fo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),g,d.limit,d.limitType,d.startAt,d.endAt)))},e}(xl),qI=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).jc=t,u.zc=o,u.type="orderBy",u}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var u,f,o=function(u,d,f){if(null!==u.startAt)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new Fs(d,f);return function(_,w){if(null===qw(_)){var C=xy(_);null!==C&&BC(0,C,w.field)}}(u,g),g}(t._query,this.jc,this.zc);return new ri(t.firestore,t.converter,(f=(u=t._query).explicitOrderBy.concat([o]),new fo(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)))},e}(xl),LC=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).type=t,d.Hc=o,d.Jc=u,d}return(0,M.ZT)(e,i),e.prototype._apply=function(t){return new ri(t.firestore,t.converter,Cn(t._query,this.Hc,this.Jc))},e}(xl),Fl=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).type=t,d.Yc=o,d.Xc=u,d}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var u,d,o=VC(t,this.type,this.Yc,this.Xc);return new ri(t.firestore,t.converter,(d=o,new fo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)))},e}(xl),Pl=function(i){function e(t,o,u){var d=this;return(d=i.call(this)||this).type=t,d.Yc=o,d.Xc=u,d}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var u,d,o=VC(t,this.type,this.Yc,this.Xc);return new ri(t.firestore,t.converter,(d=o,new fo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)))},e}(xl);function VC(i,e,t,o){if(t[0]=(0,It.m9)(t[0]),t[0]instanceof Ed)return function(d,f,g,_,w){if(!_)throw new _e(ne.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+g+"().");for(var C=[],T=0,S=Na(d);T<S.length;T++){var N=S[T];if(N.field.isKeyField())C.push(Xu(f,_.key));else{var R=_.data.field(N.field);if(Ey(R))throw new _e(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){var k=N.field.canonicalString();throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+k+"' (used as the orderBy) does not exist.")}C.push(R)}}return new tl(C,w)}(i._query,i.firestore._databaseId,e,t[0]._document,o);var u=Ya(i.firestore);return function(d,f,g,_,w,C){var T=d.explicitOrderBy;if(w.length>T.length)throw new _e(ne.INVALID_ARGUMENT,"Too many arguments provided to "+_+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var S=[],N=0;N<w.length;N++){var R=w[N];if(T[N].field.isKeyField()){if("string"!=typeof R)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+_+"(), but got a "+typeof R);if(!Fy(d)&&-1!==R.indexOf("/"))throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+_+"() must be a plain document ID, but '"+R+"' contains a slash.");var k=d.path.child(Tt.fromString(R));if(!Ve.isDocumentKey(k))throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+_+"() must result in a valid document path, but '"+k+"' is not because it contains an odd number of segments.");var $=new Ve(k);S.push(Xu(f,$))}else{var Y=OC(g,_,R);S.push(Y)}}return new tl(S,C)}(i._query,i.firestore._databaseId,u,e,t,o)}function Op(i,e,t){if("string"==typeof(t=(0,It.m9)(t))){if(""===t)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fy(e)&&-1!==t.indexOf("/"))throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var o=e.path.child(Tt.fromString(t));if(!Ve.isDocumentKey(o))throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return Xu(i,new Ve(o))}if(t instanceof sn)return Xu(i,t._key);throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ap(t)+".")}function zi(i,e){if(!Array.isArray(i)||0===i.length)throw new _e(ne.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(i.length>10)throw new _e(ne.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function BC(i,e,t){if(!t.isEqual(e))throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}var kl=function(){function i(){}return i.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Le()}},i.prototype.convertObject=function(e,t){var o=this,u={};return Qu(e.fields,function(d,f){u[d]=o.convertValue(f,t)}),u},i.prototype.convertGeoPoint=function(e){return new wd(En(e.latitude),En(e.longitude))},i.prototype.convertArray=function(e,t){var o=this;return(e.values||[]).map(function(u){return o.convertValue(u,t)})},i.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var o=Bw(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Wc(e));default:return null}},i.prototype.convertTimestamp=function(e){var t=qo(e);return new Zr(t.seconds,t.nanos)},i.prototype.convertDocumentKey=function(e,t){var o=Tt.fromString(e);Xe(Jf(o));var u=new Tp(o.get(1),o.get(3)),d=new Ve(o.popFirst(5));return u.isEqual(t)||On("Document "+d+" contains a document reference within a different database ("+u.projectId+"/"+u.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),d},i}();function xp(i,e,t){return i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e}var zI=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new is(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,o)},e}(kl),_R=function(){function i(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ya(e)}return i.prototype.set=function(e,t,o){this._verifyNotCommitted();var u=_o(e,this._firestore),d=xp(u.converter,t,o),f=xv(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(f.toMutation(u._key,Yn.none())),this},i.prototype.update=function(e,t,o){for(var u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];this._verifyNotCommitted();var f,g=_o(e,this._firestore);return f="string"==typeof(t=(0,It.m9)(t))||t instanceof An?Np(this._dataReader,"WriteBatch.update",g._key,t,o,u):RC(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(f.toMutation(g._key,Yn.exists(!0))),this},i.prototype.delete=function(e){this._verifyNotCommitted();var t=_o(e,this._firestore);return this._mutations=this._mutations.concat(new sl(t._key,Yn.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new _e(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function _o(i,e){if((i=(0,It.m9)(i)).firestore!==e)throw new _e(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var us=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new is(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,o)},e}(kl);function jv(i,e,t){i=St(i,sn);var o=St(i.firestore,zt),u=xp(i.converter,e,t);return Cd(o,[xv(Ya(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Yn.none())])}function Fp(i,e,t){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];i=St(i,sn);var d=St(i.firestore,zt),f=Ya(d);return Cd(d,[("string"==typeof(e=(0,It.m9)(e))||e instanceof An?Np(f,"updateDoc",i._key,e,t,o):RC(f,"updateDoc",i._key,e)).toMutation(i._key,Yn.exists(!0))])}function Pp(i){for(var e,t,o,u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];i=(0,It.m9)(i);var f={includeMetadataChanges:!1},g=0;"object"!=typeof u[g]||Nl(u[g])||(f=u[g],g++);var _,w,C,T={includeMetadataChanges:f.includeMetadataChanges};if(Nl(u[g])){var S=u[g];u[g]=null===(e=S.next)||void 0===e?void 0:e.bind(S),u[g+1]=null===(t=S.error)||void 0===t?void 0:t.bind(S),u[g+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}if(i instanceof sn)w=St(i.firestore,zt),C=Ma(i._key.path),_={next:function(k){u[g]&&u[g](Uv(w,i,k))},error:u[g+1],complete:u[g+2]};else{var N=St(i,ri);w=St(N.firestore,zt),C=N._query;var R=new us(w);_={next:function(k){u[g]&&u[g](new ss(w,R,N,k))},error:u[g+1],complete:u[g+2]},kC(i._query)}return function(k,$,Y,he){var pe=this,Te=new Il(he),Ie=new rs($,Te,Y);return k.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(pe,void 0,void 0,function(){var et;return(0,M.Jh)(this,function(pt){switch(pt.label){case 0:return et=Ua,[4,vd(k)];case 1:return[2,et.apply(void 0,[pt.sent(),Ie])]}})})}),function(){Te.Wo(),k.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(pe,void 0,void 0,function(){var et;return(0,M.Jh)(this,function(pt){switch(pt.label){case 0:return et=ZE,[4,vd(k)];case 1:return[2,et.apply(void 0,[pt.sent(),Ie])]}})})})}}(Gn(w),C,T,_)}function Cd(i,e){return function(t,o){var u=this,d=new Zn;return t.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(u,void 0,void 0,function(){var f;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return f=Sl,[4,Nv(t)];case 1:return[2,f.apply(void 0,[g.sent(),o,d])]}})})}),d.promise}(Gn(i),e)}function Uv(i,e,t){var o=t.docs.get(e._key),u=new us(i);return new vo(i,u,e._key,o,new $s(t.hasPendingWrites,t.fromCache),e.converter)}var WI=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o)||this)._firestore=t,u}return(0,M.ZT)(e,i),e.prototype.get=function(t){var o=this,u=_o(t,this._firestore),d=new us(this._firestore);return i.prototype.get.call(this,t).then(function(f){return new vo(o._firestore,d,u._key,f._document,new $s(!1,!1),u.converter)})},e}(function(){function i(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ya(e)}return i.prototype.get=function(e){var t=this,o=_o(e,this._firestore),u=new zI(this._firestore);return this._transaction.lookup([o._key]).then(function(d){if(!d||1!==d.length)return Le();var f=d[0];if(f.isFoundDocument())return new Ed(t._firestore,u,f.key,f,o.converter);if(f.isNoDocument())return new Ed(t._firestore,u,o._key,null,o.converter);throw Le()})},i.prototype.set=function(e,t,o){var u=_o(e,this._firestore),d=xp(u.converter,t,o),f=xv(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,f),this},i.prototype.update=function(e,t,o){for(var u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];var f,g=_o(e,this._firestore);return f="string"==typeof(t=(0,It.m9)(t))||t instanceof An?Np(this._dataReader,"Transaction.update",g._key,t,o,u):RC(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,f),this},i.prototype.delete=function(e){var t=_o(e,this._firestore);return this._transaction.delete(t._key),this},i}());function jC(){if("undefined"==typeof Uint8Array)throw new _e(ne.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hv(){if("undefined"==typeof atob)throw new _e(ne.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var kp=function(){function i(e){this._delegate=e}return i.fromBase64String=function(e){return Hv(),new i(is.fromBase64String(e))},i.fromUint8Array=function(e){return jC(),new i(is.fromUint8Array(e))},i.prototype.toBase64=function(){return Hv(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return jC(),this._delegate.toUint8Array()},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),UC=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(e,t){return function(o,u){Ov(o=St(o,zt));var d=Gn(o),f=o._freezeSettings(),g=new Mv;return Xn(d,g,new oC(g,f.cacheSizeBytes,null==u?void 0:u.forceOwnership))}(e._delegate,{forceOwnership:t})},i.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){Ov(t=St(t,zt));var o=Gn(t),u=t._freezeSettings(),d=new Mv;return Xn(o,d,new cr(d,u.cacheSizeBytes))}(e._delegate)},i.prototype.clearIndexedDbPersistence=function(e){return function(t){var o=this;if(t._initialized&&!t._terminated)throw new _e(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var u=new Zn;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,M.mG)(o,void 0,void 0,function(){var d;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,function(g){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(w){switch(w.label){case 0:return ka.yt()?[4,ka.delete(g+"main")]:[2,Promise.resolve()];case 1:return w.sent(),[2]}})})}(sp(t._databaseId,t._persistenceKey))];case 1:return f.sent(),u.resolve(),[3,3];case 2:return d=f.sent(),u.reject(d),[3,3];case 3:return[2]}})})}),u.promise}(e._delegate)},i}(),HC=function(){function i(e,t,o){var u=this;this._delegate=t,this.Zc=o,this.INTERNAL={delete:function(){return u.terminate()}},e instanceof Tp||(this.tu=e)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},i.prototype.useEmulator=function(e,t,o){void 0===o&&(o={}),function(u,d,f,g){var _;void 0===g&&(g={});var w=(u=St(u,bd))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==d&&Pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},w),{host:d+":"+f,ssl:!1})),g.mockUserToken){var C,T;if("string"==typeof g.mockUserToken)C=g.mockUserToken,T=Jn.MOCK_USER;else{C=(0,It.Sg)(g.mockUserToken,null===(_=u._app)||void 0===_?void 0:_.options.projectId);var S=g.mockUserToken.sub||g.mockUserToken.user_id;if(!S)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jn(S)}u._credentials=new LI(new fC(C,T))}}(this._delegate,e,t,o)},i.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,M.mG)(t,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return[4,lC(e)];case 1:return o=d.sent(),[4,Dp(e)];case 2:return u=d.sent(),[2,(o.setNetworkEnabled(!0),f=u,g=Se(f),g.Or.delete(0),hp(g))]}var f,g})})})}(Gn(St(this._delegate,zt)))},i.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,M.mG)(t,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return[4,lC(e)];case 1:return o=d.sent(),[4,Dp(e)];case 2:return u=d.sent(),[2,(o.setNetworkEnabled(!1),function(f){return(0,M.mG)(this,void 0,void 0,function(){var g;return(0,M.Jh)(this,function(_){switch(_.label){case 0:return(g=Se(f)).Or.add(0),[4,wl(g)];case 1:return _.sent(),g.Br.set("Offline"),[2]}})})}(u))]}})})})}(Gn(St(this._delegate,zt)))},i.prototype.enablePersistence=function(e){var t=!1,o=!1;return e&&mC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",o=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(e){var t=this,o=new Zn;return e.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(t,void 0,void 0,function(){var u;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return u=Cv,[4,Nv(e)];case 1:return[2,u.apply(void 0,[d.sent(),o])]}})})}),o.promise}(Gn(St(this._delegate,zt)))},i.prototype.onSnapshotsInSync=function(e){return o=e,function(u,d){var f=this,g=new Il(d);return u.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(f,void 0,void 0,function(){var _;return(0,M.Jh)(this,function(w){switch(w.label){case 0:return _=function(C,T){Se(C).Gr.add(T),T.next()},[4,vd(u)];case 1:return[2,_.apply(void 0,[w.sent(),g])]}})})}),function(){g.Wo(),u.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(f,void 0,void 0,function(){var _;return(0,M.Jh)(this,function(w){switch(w.label){case 0:return _=function(C,T){Se(C).Gr.delete(T)},[4,vd(u)];case 1:return[2,_.apply(void 0,[w.sent(),g])]}})})})}}(Gn(St(this._delegate,zt)),Nl(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new qs(this,Ip(this._delegate,e))}catch(t){throw dr(t,"collection()","Firestore.collection()")}},i.prototype.doc=function(e){try{return new Qa(this,Mp(this._delegate,e))}catch(t){throw dr(t,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(e){try{return new Sd(this,function(t,o){if(t=St(t,bd),gC("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new _e(ne.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ri(t,null,(u=o,new fo(Tt.emptyPath(),u)));var u}(this._delegate,e))}catch(t){throw dr(t,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(e){var o,t=this;return function(d,f){var g=this,_=new Zn;return d.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(g,void 0,void 0,function(){var w;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return[4,(T=d,Ep(T).then(function(S){return S.datastore}))];case 1:return w=C.sent(),new FI(d.asyncQueue,w,f,_).run(),[2]}var T})})}),_.promise}(Gn(o=this._delegate),function(d){return function(o){return e(new $C(t,o))}(new WI(o,d))})},i.prototype.batch=function(){var e=this;return Gn(this._delegate),new Gv(new _R(this._delegate,function(t){return Cd(e._delegate,t)}))},i.prototype.loadBundle=function(e){throw new _e(ne.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(e){throw new _e(ne.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),Dd=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new kp(new is(t))},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return Qa.eu(o,this.firestore,null)},e}(kl),$C=function(){function i(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dd(e)}return i.prototype.get=function(e){var t=this,o=Za(e);return this._delegate.get(o).then(function(u){return new Fn(t._firestore,new vo(t._firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,o.converter))})},i.prototype.set=function(e,t,o){var u=Za(e);return o?(Sp("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this},i.prototype.update=function(e,t,o){for(var u,d=[],f=3;f<arguments.length;f++)d[f-3]=arguments[f];var g=Za(e);return 2===arguments.length?this._delegate.update(g,t):(u=this._delegate).update.apply(u,(0,M.ev)([g,t,o],d)),this},i.prototype.delete=function(e){var t=Za(e);return this._delegate.delete(t),this},i}(),Gv=function(){function i(e){this._delegate=e}return i.prototype.set=function(e,t,o){var u=Za(e);return o?(Sp("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this},i.prototype.update=function(e,t,o){for(var u,d=[],f=3;f<arguments.length;f++)d[f-3]=arguments[f];var g=Za(e);return 2===arguments.length?this._delegate.update(g,t):(u=this._delegate).update.apply(u,(0,M.ev)([g,t,o],d)),this},i.prototype.delete=function(e){var t=Za(e);return this._delegate.delete(t),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),Td=function(){function i(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}return i.prototype.fromFirestore=function(e,t){var o=new Ol(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bo(this._firestore,o),null!=t?t:{})},i.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},i.nu=function(e,t){var o=i.su,u=o.get(e);u||(u=new WeakMap,o.set(e,u));var d=u.get(t);return d||(d=new i(e,new Dd(e),t),u.set(t,d)),d},i}();Td.su=new WeakMap;var Qa=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dd(e)}return i.iu=function(e,t,o){if(e.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new i(t,new sn(t._delegate,o,new Ve(e)))},i.eu=function(e,t,o){return new i(t,new sn(t._delegate,o,e))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new qs(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new qs(this.firestore,Ip(this._delegate,e))}catch(t){throw dr(t,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(e){return(e=(0,It.m9)(e))instanceof sn&&bC(this._delegate,e)},i.prototype.set=function(e,t){t=Sp("DocumentReference.set",t);try{return t?jv(this._delegate,e,t):jv(this._delegate,e)}catch(o){throw dr(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(e,t){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];try{return 1===arguments.length?Fp(this._delegate,e):Fp.apply(void 0,(0,M.ev)([this._delegate,e,t],o))}catch(d){throw dr(d,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return Cd(St((e=this._delegate).firestore,zt),[new sl(e._key,Yn.none())]);var e},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var u=$v(t),d=KI(t,function(f){return new Fn(e.firestore,new vo(e.firestore._delegate,e._userDataWriter,f._key,f._document,f.metadata,e._delegate.converter))});return Pp(this._delegate,u,d)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=St(o,sn);var u=St(o.firestore,zt),d=Gn(u),f=new us(u);return function(g,_){var w=this,C=new Zn;return g.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(w,void 0,void 0,function(){var T;return(0,M.Jh)(this,function(S){switch(S.label){case 0:return T=function(N,R,k){return(0,M.mG)(this,void 0,void 0,function(){var $,Y;return(0,M.Jh)(this,function(he){switch(he.label){case 0:return he.trys.push([0,2,,3]),[4,(pe=N,Te=R,Ie=Se(pe),Ie.persistence.runTransaction("read document","readonly",function(et){return Ie.Mn.mn(et,Te)}))];case 1:return(Y=he.sent()).isFoundDocument()?k.resolve(Y):Y.isNoDocument()?k.resolve(null):k.reject(new _e(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return $=he.sent(),Y=ns($,"Failed to get document '"+R+" from cache"),k.reject(Y),[3,3];case 3:return[2]}var pe,Te,Ie})})},[4,Cp(g)];case 1:return[2,T.apply(void 0,[S.sent(),_,C])]}})})}),C.promise}(d,o._key).then(function(g){return new vo(u,f,o._key,g,new $s(null!==g&&g.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=St(o,sn);var u=St(o.firestore,zt);return cC(Gn(u),o._key,{source:"server"}).then(function(d){return Uv(u,o,d)})}(this._delegate):function(o){o=St(o,sn);var u=St(o.firestore,zt);return cC(Gn(u),o._key).then(function(d){return Uv(u,o,d)})}(this._delegate)).then(function(o){return new Fn(t.firestore,new vo(t.firestore._delegate,t._userDataWriter,o._key,o._document,o.metadata,t._delegate.converter))})},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?Td.nu(this.firestore,e):null))},i}();function dr(i,e,t){return i.message=i.message.replace(e,t),i}function $v(i){for(var e=0,t=i;e<t.length;e++){var o=t[e];if("object"==typeof o&&!Nl(o))return o}return{}}function KI(i,e){var t,o,u;return{next:function(d){u.next&&u.next(e(d))},error:null===(t=(u=Nl(i[0])?i[0]:Nl(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}var Fn=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Qa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(e){return this._delegate.data(e)},i.prototype.get=function(e,t){return this._delegate.get(e,t)},i.prototype.isEqual=function(e){return Bv(this._delegate,e._delegate)},i}(),bo=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(t){return this._delegate.data(t)},e}(Fn),Sd=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dd(e)}return i.prototype.where=function(e,t,o){try{return new i(this.firestore,as(this._delegate,(f=o,g=t,_=Gs("where",u=e),new $I(_,g,f))))}catch(u){throw dr(u,/(orderBy|where)\(\)/,"Query.$1()")}var u,f,g,_},i.prototype.orderBy=function(e,t){try{return new i(this.firestore,as(this._delegate,function(o,u){void 0===u&&(u="asc");var d=u,f=Gs("orderBy",o);return new qI(f,d)}(e,t)))}catch(o){throw dr(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(e){try{return new i(this.firestore,as(this._delegate,(Rv("limit",t=e),new LC("limit",t,"F"))))}catch(t){throw dr(t,"limit()","Query.limit()")}var t},i.prototype.limitToLast=function(e){try{return new i(this.firestore,as(this._delegate,(Rv("limitToLast",t=e),new LC("limitToLast",t,"L"))))}catch(t){throw dr(t,"limitToLast()","Query.limitToLast()")}var t},i.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,as(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Fl("startAt",o,!0)}.apply(void 0,e)))}catch(o){throw dr(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,as(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Fl("startAfter",o,!1)}.apply(void 0,e)))}catch(o){throw dr(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,as(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Pl("endBefore",o,!0)}.apply(void 0,e)))}catch(o){throw dr(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,as(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new Pl("endAt",o,!1)}.apply(void 0,e)))}catch(o){throw dr(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(e){return wC(this._delegate,e._delegate)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=St(o,ri);var u=St(o.firestore,zt),d=Gn(u),f=new us(u);return function(g,_){var w=this,C=new Zn;return g.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(w,void 0,void 0,function(){var T;return(0,M.Jh)(this,function(S){switch(S.label){case 0:return T=function(N,R,k){return(0,M.mG)(this,void 0,void 0,function(){var $,Y,he,pe,Te;return(0,M.Jh)(this,function(Ie){switch(Ie.label){case 0:return Ie.trys.push([0,2,,3]),[4,ud(N,R,!0)];case 1:return Te=Ie.sent(),$=new ni(R,Te.Bn),Y=$._o(Te.documents),he=$.applyChanges(Y,!1),k.resolve(he.snapshot),[3,3];case 2:return pe=Ie.sent(),Te=ns(pe,"Failed to execute query '"+R+" against cache"),k.reject(Te),[3,3];case 3:return[2]}})})},[4,Cp(g)];case 1:return[2,T.apply(void 0,[S.sent(),_,C])]}})})}),C.promise}(d,o._query).then(function(g){return new ss(u,f,o,g)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=St(o,ri);var u=St(o.firestore,zt),d=Gn(u),f=new us(u);return dC(d,o._query,{source:"server"}).then(function(g){return new ss(u,f,o,g)})}(this._delegate):function(o){o=St(o,ri);var u=St(o.firestore,zt),d=Gn(u),f=new us(u);return kC(o._query),dC(d,o._query).then(function(g){return new ss(u,f,o,g)})}(this._delegate)).then(function(o){return new qC(t.firestore,new ss(t.firestore._delegate,t._userDataWriter,t._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var u=$v(t),d=KI(t,function(f){return new qC(e.firestore,new ss(e.firestore._delegate,e._userDataWriter,e._delegate,f._snapshot))});return Pp(this._delegate,u,d)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?Td.nu(this.firestore,e):null))},i}(),YI=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new bo(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),qC=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"query",{get:function(){return new Sd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new bo(e._firestore,t)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(o){return new YI(t._firestore,o)})},i.prototype.forEach=function(e,t){var o=this;this._delegate.forEach(function(u){e.call(t,new bo(o._firestore,u))})},i.prototype.isEqual=function(e){return Bv(this._delegate,e._delegate)},i}(),qs=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o)||this).firestore=t,u._delegate=o,u}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Qa(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Qa(this.firestore,void 0===t?Mp(this._delegate):Mp(this._delegate,t))}catch(o){throw dr(o,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var u,d,f,g,_,o=this;return(u=this._delegate,d=t,f=St(u.firestore,zt),g=Mp(u),_=xp(u.converter,d),Cd(f,[xv(Ya(u.firestore),"addDoc",g._key,_,null!==u.converter,{}).toMutation(g._key,Yn.exists(!1))]).then(function(){return g})).then(function(u){return new Qa(o.firestore,u)})},e.prototype.isEqual=function(t){return bC(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Td.nu(this.firestore,t):null))},e}(Sd);function Za(i){return St(i,sn)}var qv=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(An.bind.apply(An,(0,M.ev)([void 0],e)))}return i.documentId=function(){return new i(ji.keyField().canonicalString())},i.prototype.isEqual=function(e){return(e=(0,It.m9)(e))instanceof An&&this._delegate._internalPath.isEqual(e._internalPath)},i}(),QI=function(){function i(e){this._delegate=e}return i.serverTimestamp=function(){var e=new Rl("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new i(e)},i.delete=function(){var e=new Fv("deleteField");return e._methodName="FieldValue.delete",new i(e)},i.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new vR("arrayUnion",u)}.apply(void 0,e);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new NC("arrayRemove",u)}.apply(void 0,e);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(e){var t=new UI("increment",e);return t._methodName="FieldValue.increment",new i(t)},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i}(),JI=F(6034),zv={Firestore:HC,GeoPoint:wd,Timestamp:Zr,Blob:kp,Transaction:$C,WriteBatch:Gv,DocumentReference:Qa,DocumentSnapshot:Fn,Query:Sd,QueryDocumentSnapshot:bo,QuerySnapshot:qC,CollectionReference:qs,FieldPath:qv,FieldValue:QI,setLogLevel:function(i){Bi.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new JI.wA("firestore",function(o){return e=o.getProvider("app").getImmediate(),t=o.getProvider("auth-internal"),new HC(e,new zt(e,t),new UC);var e,t},"PUBLIC").setServiceProps(Object.assign({},zv))),i.registerVersion("@firebase/firestore","2.4.1")}(Oi.Z);var Wv=F(6682),Lp=F(7771),Kv=F(8858);class Yv extends Mi.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new WC(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,o=t?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,d=o.length;let f;if(this.closed)throw new gh.N;if(this.isStopped||this.hasError?f=Or.w.EMPTY:(this.observers.push(e),f=new Kv.W(this,e)),u&&e.add(e=new Vo.ht(e,u)),t)for(let g=0;g<d&&!e.closed;g++)e.next(o[g]);else for(let g=0;g<d&&!e.closed;g++)e.next(o[g].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||Lp.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,o=this._windowTime,u=this._events,d=u.length;let f=0;for(;f<d&&!(e-u[f].time<o);)f++;return d>t&&(f=Math.max(f,d-t)),f>0&&u.splice(0,f),u}}class WC{constructor(e,t){this.time=e,this.value=t}}F(3101);const Ll=new m.OlP("angularfire2.auth.use-emulator");function Jv(i,e){return function(i,e=tA.z){return new Ni.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Xv(i,e){return Jv(i,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function Id(i,e){return Xv(i,e).pipe($g(void 0),Xh(),(0,st.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,g)=>{const _=u.find(C=>C.doc.ref.isEqual(f.ref)),w=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(f.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(f.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(f.metadata)||d.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:f}})}),d}))}function eD(i,e,t){return Id(i,t).pipe(vh((o,u)=>function(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return jp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jp(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),t=>t.lift(new it(void 0,void 0)),(0,st.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function jp(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function e_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class rD{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Id(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe($g(void 0),Xh(),No(([o,u])=>u.length>0||!o),(0,st.U)(([o,u])=>u),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(vh((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=e_(e);return eD(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Xv(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,tn.D)(this.query.get(e)).pipe((0,Vo.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new iD(this.ref.doc(e),this.afs)}}class iD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=iM(o,t);return new rD(u,d,this.afs)}snapshotChanges(){return function(i,e){return Jv(i,e).pipe($g(void 0),Xh(),(0,st.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe((0,Vo.QV)(this.afs.schedulers.insideAngular))}}class tM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Id(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),No(t=>t.length>0),this.afs.keepUnstableUntilFirst):Id(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(vh((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=e_(e);return eD(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Xv(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,tn.D)(this.query.get(e)).pipe((0,Vo.QV)(this.afs.schedulers.insideAngular))}}const Up=new m.OlP("angularfire2.enableFirestorePersistence"),oD=new m.OlP("angularfire2.firestore.persistenceSettings"),nM=new m.OlP("angularfire2.firestore.settings"),rM=new m.OlP("angularfire2.firestore.use-emulator");function iM(i,e=(t=>t)){return{query:e(i),ref:i}}let sD=(()=>{class i{constructor(t,o,u,d,f,g,_,w,C){this.schedulers=new cn.HU(g),this.keepUnstableUntilFirst=(0,cn.ss)(this.schedulers);const T=(0,cn.on)(t,g,o);!ef.Z.auth&&C&&(0,cn.yq)();const S=w;[this.firestore,this.persistenceEnabled$]=(0,cn.sI)(`${T.name}.firestore`,"AngularFirestore",T,()=>{const N=g.runOutsideAngular(()=>T.firestore());if(d&&N.settings(d),S&&N.useEmulator(...S),u&&!function(i){return"server"===i}(f)){const R=()=>{try{return(0,tn.D)(N.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(k){return"undefined"!=typeof console&&console.warn(k),(0,Ge.of)(!1)}};return[N,g.runOutsideAngular(R)]}return[N,(0,Ge.of)(!1)]},[d,S,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:f}=iM(u,o),g=this.schedulers.ngZone.run(()=>d);return new rD(g,f,this)}collectionGroup(t,o){const u=o||(f=>f),d=this.firestore.collectionGroup(t);return new tM(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new iD(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(cn.Dh),m.LFG(cn.xv,8),m.LFG(Up,8),m.LFG(nM,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(oD,8),m.LFG(rM,8),m.LFG(Ll,8))},i.\u0275prov=m.Yz7({factory:function(){return new i(m.LFG(cn.Dh),m.LFG(cn.xv,8),m.LFG(Up,8),m.LFG(nM,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(oD,8),m.LFG(rM,8),m.LFG(Ll,8))},token:i,providedIn:"any"}),i})(),oM=(()=>{class i{static enablePersistence(t){return{ngModule:i,providers:[{provide:Up,useValue:!0},{provide:oD,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[sD]}),i})();const sM=(i,e)=>{if(void 0===e)return i;const t=Object.keys(e);return i.filter(u=>((u,d,f)=>void 0===u.find(g=>d[g]!==f[g]))(t,u,e))};let aM=(()=>{class i{constructor(t){this._client=t}getAll(t){return this._client.collection("images").valueChanges({idField:"id"}).pipe((0,st.U)(o=>sM(o,t)))}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(sD))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const uM=new m.OlP("GETS_ALL_IMAGE_DTO");let lM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[aM,{provide:uM,useExisting:aM}],imports:[[oM]]}),i})(),cM=(()=>{class i extends Yv{getDate(){return(0,Ge.of)({date:new Date})}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=m.n5z(i)))(o||i)}}(),i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const dM=new m.OlP("DATE_DTO_STORAGE");let ER=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[cM,{provide:dM,useExisting:cM}],imports:[[]]}),i})();const hM_firestoreConfig={apiKey:"AIzaSyD4z_KL5YW1YTSU10dGQp1WPzsFA8akGcI",authDomain:"tasks-6069d.firebaseapp.com",projectId:"tasks-6069d",storageBucket:"tasks-6069d.appspot.com",messagingSenderId:"896396123736",appId:"1:896396123736:web:068d944b994d3f06ddb42d"};let aD=(()=>{class i{constructor(t){this._getDateDtoPort=t,this.today$=this._getDateDtoPort.getDate()}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(dM))},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-today"]],decls:7,vars:6,consts:[[1,"py-3","border-bottom"],[1,"fs-1","fw-bold","d-inline","align-middle","text-uppercase"],[1,"px-3","fs-5","d-inline","align-middle","text-uppercase"]],template:function(t,o){if(1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"p",1),m._uU(2,"Today"),m.qZA(),m.TgZ(3,"p",2),m._uU(4),m.ALo(5,"date"),m.ALo(6,"async"),m.qZA(),m.qZA()),2&t){let u;m.xp6(4),m.hij(" ",m.xi3(5,1,null==(u=m.lcZ(6,4,o.today$))?null:u.date,"EEE dd MMM")," ")}},pipes:[xT,du],encapsulation:2,changeDetection:0}),i})(),CR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-nav-to-add-task"]],decls:12,vars:0,consts:[[1,"row","align-items-center"],[1,"col"],[1,"text-center","fw-bolder","fs-1","pt-5"],[1,"row","align-items-center","py-3"],[1,"col","text-center"],[1,"text-center","fs-4"],[1,"row","align-items-center","pt-3","pb-5"],["routerLink","add-task",1,"btn","indigo","text-white"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"p",2),m._uU(3," Get a clear view of the day ahead "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.TgZ(6,"p",5),m._uU(7," All your tasks that are due today will show up here. "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",6),m.TgZ(9,"div",4),m.TgZ(10,"a",7),m._uU(11,"Add task"),m.qZA(),m.qZA(),m.qZA())},directives:[ko],encapsulation:2,changeDetection:0}),i})();function DR(i,e){if(1&i&&(m.TgZ(0,"div",2),m._UZ(1,"img",3),m.qZA()),2&i){const t=e.$implicit;m.xp6(1),m.Q6J("src",t.imageUrl,m.LSH)}}let uD=(()=>{class i{constructor(t){this._getsAllImageDto=t,this.images$=this._getsAllImageDto.getAll()}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(uM))},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-images-inline"]],decls:3,vars:3,consts:[[1,"container","d-flex","justify-content-between","mt-5"],["class","d-inline-block text-center w-25",4,"ngFor","ngForOf"],[1,"d-inline-block","text-center","w-25"],[1,"w-100","h-100",3,"src"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m.YNc(1,DR,2,1,"div",1),m.ALo(2,"async"),m.qZA()),2&t&&(m.xp6(1),m.Q6J("ngForOf",m.lcZ(2,1,o.images$)))},directives:[ds],pipes:[du],encapsulation:2,changeDetection:0}),i})(),fM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-home-page"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-1"],[1,"col-10"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m._UZ(1,"div",1),m.TgZ(2,"div",2),m._UZ(3,"lib-today"),m.qZA(),m._UZ(4,"div",1),m.qZA(),m.TgZ(5,"div",0),m._UZ(6,"div",1),m.TgZ(7,"div",2),m._UZ(8,"lib-nav-to-add-task"),m.qZA(),m._UZ(9,"div",1),m.qZA(),m._UZ(10,"lib-images-inline"))},directives:[aD,CR,uD],encapsulation:2,changeDetection:0}),i})(),pM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci,Ds.forChild([{path:"",component:fM}]),Hg,H0,G0,lM]]}),i})();var TR=F(1555);function t_(i,e){return new Ni.y(t=>{const o=i.length;if(0===o)return void t.complete();const u=new Array(o);let d=0,f=0;for(let g=0;g<o;g++){const _=(0,tn.D)(i[g]);let w=!1;t.add(_.subscribe({next:C=>{w||(w=!0,f++),u[g]=C},error:C=>t.error(C),complete:()=>{d++,(d===o||!w)&&(f===o&&t.next(e?e.reduce((C,T,S)=>(C[T]=u[S],C),{}):u),t.complete())}}))}})}let lD=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.Qsj),m.Y36(m.SBq))},i.\u0275dir=m.lG2({type:i}),i})(),Ja=(()=>{class i extends lD{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=m.n5z(i)))(o||i)}}(),i.\u0275dir=m.lG2({type:i,features:[m.qOj]}),i})();const wo=new m.OlP("NgValueAccessor"),IR={provide:wo,useExisting:(0,m.Gpc)(()=>n_),multi:!0},mM=new m.OlP("CompositionEventMode");let n_=(()=>{class i extends lD{constructor(t,o,u){super(t,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=ge()?ge().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(mM,8))},i.\u0275dir=m.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&m.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[m._Bn([IR]),m.qOj]}),i})();function zs(i){return null==i||0===i.length}function Hp(i){return null!=i&&"number"==typeof i.length}const fn=new m.OlP("NgValidators"),ls=new m.OlP("NgAsyncValidators"),yM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vM{static min(e){return function(i){return e=>{if(zs(e.value)||zs(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}(e)}static max(e){return function(i){return e=>{if(zs(e.value)||zs(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}(e)}static required(e){return function(i){return zs(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function(i){return zs(i.value)||yM.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function(i){return e=>zs(e.value)||!Hp(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(i){return e=>Hp(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(i){if(!i)return Xa;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),o=>{if(zs(o.value))return null;const u=o.value;return e.test(u)?null:{pattern:{requiredPattern:t,actualValue:u}}}}(e)}static nullValidator(e){return null}static compose(e){return CM(e)}static composeAsync(e){return qp(e)}}function Xa(i){return null}function bM(i){return null!=i}function wM(i){const e=(0,m.QGY)(i)?(0,tn.D)(i):i;return(0,m.CqO)(e),e}function cD(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function EM(i,e){return e.map(t=>t(i))}function dD(i){return i.map(e=>function(i){return!i.validate}(e)?e:t=>e.validate(t))}function CM(i){if(!i)return null;const e=i.filter(bM);return 0==e.length?null:function(t){return cD(EM(t,e))}}function hD(i){return null!=i?CM(dD(i)):null}function qp(i){if(!i)return null;const e=i.filter(bM);return 0==e.length?null:function(t){return function(...i){if(1===i.length){const e=i[0];if((0,mh.k)(e))return t_(e,null);if((0,TR.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return t_(t.map(o=>e[o]),t)}}if("function"==typeof i[i.length-1]){const e=i.pop();return t_(i=1===i.length&&(0,mh.k)(i[0])?i[0]:i,null).pipe((0,st.U)(t=>e(...t)))}return t_(i,null)}(EM(t,e).map(wM)).pipe((0,st.U)(cD))}}function u_(i){return null!=i?qp(dD(i)):null}function DM(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function TM(i){return i._rawValidators}function fD(i){return i._rawAsyncValidators}function pD(i){return i?Array.isArray(i)?i:[i]:[]}function Nd(i,e){return Array.isArray(i)?i.includes(e):i===e}function gD(i,e){const t=pD(e);return pD(i).forEach(u=>{Nd(t,u)||t.push(u)}),t}function SM(i,e){return pD(e).filter(t=>!Nd(i,t))}let AM=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=hD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=u_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,o){return!!this.control&&this.control.hasError(t,o)}getError(t,o){return this.control?this.control.getError(t,o):null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=m.lG2({type:i}),i})(),Er=(()=>{class i extends AM{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=m.n5z(i)))(o||i)}}(),i.\u0275dir=m.lG2({type:i,features:[m.qOj]}),i})();class Ci extends AM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mD{constructor(e){this._cd=e}is(e){var t,o,u;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[e])}}let zp=(()=>{class i extends mD{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(Ci,2))},i.\u0275dir=m.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&m.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[m.qOj]}),i})(),yD=(()=>{class i extends mD{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(Er,10))},i.\u0275dir=m.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&m.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[m.qOj]}),i})();function eu(i,e){h_(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&_D(i,e)})}(i,e),function(i,e){const t=(o,u)=>{e.valueAccessor.writeValue(o),u&&e.viewToModelUpdate(o)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&_D(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function Rd(i,e,t=!0){const o=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(o),e.valueAccessor.registerOnTouched(o)),Ur(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Od(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function h_(i,e){const t=TM(i);null!==e.validator?i.setValidators(DM(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const o=fD(i);null!==e.asyncValidator?i.setAsyncValidators(DM(o,e.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();Od(e._rawValidators,u),Od(e._rawAsyncValidators,u)}function Ur(i,e){let t=!1;if(null!==i){if(null!==e.validator){const u=TM(i);if(Array.isArray(u)&&u.length>0){const d=u.filter(f=>f!==e.validator);d.length!==u.length&&(t=!0,i.setValidators(d))}}if(null!==e.asyncValidator){const u=fD(i);if(Array.isArray(u)&&u.length>0){const d=u.filter(f=>f!==e.asyncValidator);d.length!==u.length&&(t=!0,i.setAsyncValidators(d))}}}const o=()=>{};return Od(e._rawValidators,o),Od(e._rawAsyncValidators,o),t}function _D(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function xd(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Yp="VALID",Fd="INVALID",tu="PENDING",Pd="DISABLED";function Qp(i){return(m_(i)?i.validators:i)||null}function Vl(i){return Array.isArray(i)?hD(i):i||null}function kd(i,e){return(m_(e)?e.asyncValidators:i)||null}function g_(i){return Array.isArray(i)?u_(i):i||null}function m_(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class y_{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Vl(this._rawValidators),this._composedAsyncValidatorFn=g_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yp}get invalid(){return this.status===Fd}get pending(){return this.status==tu}get disabled(){return this.status===Pd}get enabled(){return this.status!==Pd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Vl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=g_(e)}addValidators(e){this.setValidators(gD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SM(e,this._rawAsyncValidators))}hasValidator(e){return Nd(this._rawValidators,e)}hasAsyncValidator(e){return Nd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pd,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yp,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yp||this.status===tu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pd:Yp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tu,this._hasOwnPendingAsyncValidator=!0;const t=wM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let o=i;return e.forEach(u=>{o=o instanceof v_?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof VR&&o.at(u)||null}),o}(this,e)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Pd:this.errors?Fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tu)?tu:this._anyControlsHaveStatus(Fd)?Fd:Yp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){m_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zp extends y_{constructor(e=null,t,o){super(Qp(t),kd(o,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class v_ extends y_{constructor(e,t,o){super(Qp(t),kd(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,u)=>{o.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t instanceof Zp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&e(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(e,t){let o=e;return this._forEachChild((u,d)=>{o=t(o,u,d)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class VR extends y_{constructor(e,t,o){super(Qp(t),kd(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,u)=>{o.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Zp?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let TD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=m.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Ws=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({}),i})();const Bl=new m.OlP("NgModelWithFormControlWarning"),MD={provide:Er,useExisting:(0,m.Gpc)(()=>pn)};let pn=(()=>{class i extends Er{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ur(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return eu(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){Rd(t.control||null,t,!1),xd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function(i,e){i._syncPendingControls(),e.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,u=this.form.get(t.path);o!==u&&(Rd(o||null,t),u instanceof Zp&&(eu(u,t),t.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function(i,e){h_(i,e)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function(i,e){return Ur(i,e)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h_(this.form,this),this._oldForm&&Ur(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(fn,10),m.Y36(ls,10))},i.\u0275dir=m.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&m.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([MD]),m.qOj,m.TTD]}),i})();const $M={provide:Ci,useExisting:(0,m.Gpc)(()=>RD)};let RD=(()=>{class i extends Ci{constructor(t,o,u,d,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(i,e){if(!e)return null;let t,o,u;return Array.isArray(e),e.forEach(d=>{d.constructor===n_?t=d:function(i){return Object.getPrototypeOf(i.constructor)===Ja}(d)?o=d:u=d}),u||o||t||null}(0,d)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(i,e){return[...e.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(Er,13),m.Y36(fn,10),m.Y36(ls,10),m.Y36(wo,10),m.Y36(Bl,8))},i.\u0275dir=m.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([$M]),m.qOj,m.TTD]}),i._ngModelWarningSentOnce=!1,i})(),r1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[Ws]]}),i})(),I_=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Bl,useValue:t.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[r1]}),i})();const i1=new m.OlP("ADDS_TASK_DTO");let o1=(()=>{class i{constructor(t,o){this._addsTaskDto=t,this.router=o,this.taskDescription=new v_({description:new Zp("",vM.required)})}onTaskDescriptionSubmited(t){var o;this._addsTaskDto.add({description:null===(o=t.get("description"))||void 0===o?void 0:o.value,isDone:!1}),this.router.navigate(["/task-list"])}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(i1),m.Y36(dn))},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-add-task"]],decls:10,vars:1,consts:[[1,"py-5","w-25"],[3,"formGroup","ngSubmit"],["type","text","formControlName","description","rows","4","placeholder","Task Description",1,"form-control"],[1,"container","px-0","py-4"],[1,"row"],[1,"col-xl-4"],["type","submit","value","Add task",1,"btn","indigo","text-white"],["type","button","routerLink","/task-list",1,"btn","btn-outline-secondary"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"form",1),m.NdJ("ngSubmit",function(){return o.onTaskDescriptionSubmited(o.taskDescription)}),m._UZ(2,"textarea",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"div",5),m._UZ(6,"input",6),m.qZA(),m.TgZ(7,"div",5),m.TgZ(8,"a",7),m._uU(9,"Cancel"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(1),m.Q6J("formGroup",o.taskDescription))},directives:[TD,yD,pn,n_,zp,RD,ko],encapsulation:2,changeDetection:0}),i})(),s1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-add-task-page"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-1"],[1,"col-10"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m._UZ(1,"div",1),m.TgZ(2,"div",2),m._UZ(3,"lib-today"),m.qZA(),m._UZ(4,"div",1),m.qZA(),m.TgZ(5,"div",0),m._UZ(6,"div",1),m.TgZ(7,"div",2),m._UZ(8,"lib-add-task"),m.qZA(),m._UZ(9,"div",1),m.qZA(),m._UZ(10,"lib-images-inline"))},directives:[aD,o1,uD],encapsulation:2,changeDetection:0}),i})(),a1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci,I_,Ds]]}),i})(),Dr=(()=>{class i{constructor(t){this._client=t}getAll(t){return this._client.collection("tasks").valueChanges({idField:"id"}).pipe((0,st.U)(o=>sM(o,t)))}add(t){this._client.collection("tasks").add(t)}set(t){this._client.doc("tasks/"+t.id).update(t)}remove(t){this._client.doc("tasks/"+t).delete()}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(sD))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const u1=new m.OlP("GETS_ALL_TASK_DTO"),M_=new m.OlP("SETS_TASK_DTO"),BD=new m.OlP("REMOVES_TASK_DTO");let N_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[Dr,{provide:u1,useExisting:Dr},{provide:i1,useExisting:Dr},{provide:M_,useExisting:Dr},{provide:BD,useExisting:Dr}],imports:[[oM]]}),i})(),R_=(()=>{class i extends Yv{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=m.n5z(i)))(o||i)}}(),i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const ng=new m.OlP("TASK_DTO_STORAGE");let O_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[R_,{provide:ng,useExisting:R_}],imports:[[]]}),i})(),rg=(()=>{class i extends Yv{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=m.n5z(i)))(o||i)}}(),i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const jl=new m.OlP("ALERT_TASK_STATE_DTO_STORAGE");let ig=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[rg,{provide:jl,useExisting:rg}],imports:[[]]}),i})(),og=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci,Ds.forChild([{path:"",component:s1}]),Hg,G0,a1,N_,lM]]}),i})();class jD{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const UD={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Ft="undefined"!=typeof window&&window||{};var ag=(()=>(function(i){i.isBs3="bs3",i.isBs4="bs4",i.isBs5="bs5"}(ag||(ag={})),ag))();let ii;function k_(){if(void 0===Ft.document)return"bs4";const i=Ft.document.createElement("span");i.innerText="testing bs version",i.classList.add("d-none"),i.classList.add("visually-hidden"),Ft.document.head.appendChild(i);const e=i.getBoundingClientRect(),t=Ft.getComputedStyle(i).overflow;return Ft.document.head.removeChild(i),!e||e&&0!==e.top?"bs3":t&&"hidden"===t?"bs5":"bs4"}function Ki(){return void 0===Ft||(void 0===Ft.__theme?(ii||(ii=k_()),"bs3"===ii):"bs3"===Ft.__theme)}function qD(){return!Ki()&&(ii||(ii=k_()),"bs4"===ii)}function Di(){return{isBs3:Ki(),isBs4:qD(),isBs5:!Ki()&&!qD()&&(ii||(ii=k_()),"bs5"===ii)}}function g1(){const i="Change";return function(t,o){const u=` __${o}Value`;Object.defineProperty(t,o,{get(){return this[u]},set(d){const f=this[u];this[u]=d,f!==d&&this[o+i]&&this[o+i].emit(d)}})}}function YD(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"button",2),m.NdJ("click",function(){return m.CHM(t),m.oxw(2).close()}),m.TgZ(1,"span",3),m._uU(2,"\xd7"),m.qZA(),m.TgZ(3,"span",4),m._uU(4,"Close"),m.qZA(),m.qZA()}}function QD(i,e){if(1&i&&(m.TgZ(0,"div",1),m.YNc(1,YD,5,0,"ng-template",0),m.Hsn(2),m.qZA()),2&i){const t=m.oxw();m.Tol("alert alert-"+t.type),m.Q6J("ngClass",t.classes),m.xp6(1),m.Q6J("ngIf",t.dismissible)}}"undefined"==typeof console||console;const m1=["*"];let y1=(()=>{class i{constructor(){this.type="warning",this.dismissible=!1,this.dismissOnTimeout=void 0}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),v1=(()=>{class i{constructor(t,o){this.changeDetection=o,this.type="warning",this.dismissible=!1,this.isOpen=!0,this.onClose=new m.vpe,this.onClosed=new m.vpe,this.classes="",this.dismissibleChange=new m.vpe,Object.assign(this,t),this.dismissibleChange.subscribe(()=>{this.classes=this.dismissible?"alert-dismissible":"",this.changeDetection.markForCheck()})}ngOnInit(){this.dismissOnTimeout&&setTimeout(()=>this.close(),parseInt(this.dismissOnTimeout,10))}close(){!this.isOpen||(this.onClose.emit(this),this.isOpen=!1,this.changeDetection.markForCheck(),this.onClosed.emit(this))}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(y1),m.Y36(m.sBO))},i.\u0275cmp=m.Xpm({type:i,selectors:[["alert"],["bs-alert"]],inputs:{type:"type",dismissible:"dismissible",isOpen:"isOpen",dismissOnTimeout:"dismissOnTimeout"},outputs:{onClose:"onClose",onClosed:"onClosed"},ngContentSelectors:m1,decls:1,vars:1,consts:[[3,"ngIf"],["role","alert",3,"ngClass"],["type","button","aria-label","Close",1,"close","btn-close",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"sr-only","visually-hidden"]],template:function(t,o){1&t&&(m.F$t(),m.YNc(0,QD,3,4,"ng-template",0)),2&t&&m.Q6J("ngIf",o.isOpen)},directives:[eo,lu],encapsulation:2,changeDetection:0}),(0,M.gn)([g1(),(0,M.w6)("design:type",Object)],i.prototype,"dismissible",void 0),i})(),Eo=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[ci]]}),i})();function Ud(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"alert",1),m.NdJ("onClose",function(){return m.CHM(t),m.oxw().toDone()}),m._uU(1),m.qZA()}if(2&i){const t=e.ngIf;m.xp6(1),m.hij(" 1 Task ",t.state,"\n")}}let Ul=(()=>{class i{constructor(t){this._alertTaskStorageDto=t,this.alertState$=this._alertTaskStorageDto.asObservable()}toDone(){this._alertTaskStorageDto.next(void 0)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(jl))},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-task-alert"]],decls:2,vars:3,consts:[["type","success","dismissOnTimeout","5000",3,"onClose",4,"ngIf"],["type","success","dismissOnTimeout","5000",3,"onClose"]],template:function(t,o){1&t&&(m.YNc(0,Ud,2,1,"alert",0),m.ALo(1,"async")),2&t&&m.Q6J("ngIf",m.lcZ(1,1,o.alertState$))},directives:[eo,v1],pipes:[du],encapsulation:2,changeDetection:0}),i})();var ug=F(9105);function V_(i,e,t,o){return(0,ug.m)(t)&&(o=t,t=void 0),o?V_(i,e,t).pipe((0,st.U)(u=>(0,mh.k)(u)?o(...u):o(u))):new Ni.y(u=>{ZD(i,e,function(f){u.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},u,t)})}function ZD(i,e,t,o,u){let d;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(e,t,u),d=()=>f.removeEventListener(e,t,u)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(e,t),d=()=>f.off(e,t)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(e,t),d=()=>f.removeListener(e,t)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,g=i.length;f<g;f++)ZD(i[f],e,t,o,u)}o.add(d)}var eT=F(6465),B_=F(6102);const w1=new class extends B_.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let o,u=-1,d=t.length;e=e||t.shift();do{if(o=e.execute(e.state,e.delay))break}while(++u<d&&(e=t.shift()));if(this.active=!1,o){for(;++u<d&&(e=t.shift());)e.unsubscribe();throw o}}}(class extends eT.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});var Co=(()=>(function(i){i.top="top",i.bottom="bottom",i.left="left",i.right="right",i.auto="auto",i.end="right",i.start="left",i["top left"]="top left",i["top right"]="top right",i["right top"]="right top",i["right bottom"]="right bottom",i["bottom right"]="bottom right",i["bottom left"]="bottom left",i["left bottom"]="left bottom",i["left top"]="left top",i["top start"]="top left",i["top end"]="top right",i["end top"]="right top",i["end bottom"]="right bottom",i["bottom end"]="bottom right",i["bottom start"]="bottom left",i["start bottom"]="start bottom",i["start top"]="left top"}(Co||(Co={})),Co))(),nu=(()=>(function(i){i.top="top",i.bottom="bottom",i.left="start",i.right="end",i.auto="auto",i.end="end",i.start="start",i["top left"]="top start",i["top right"]="top end",i["right top"]="end top",i["right bottom"]="end bottom",i["bottom right"]="bottom end",i["bottom left"]="bottom start",i["left bottom"]="start bottom",i["left top"]="start top",i["top start"]="top start",i["top end"]="top end",i["end top"]="end top",i["end bottom"]="end bottom",i["bottom end"]="bottom end",i["bottom start"]="bottom start",i["start bottom"]="start bottom",i["start top"]="start top"}(nu||(nu={})),nu))();function ru(i,e){if(1!==i.nodeType)return[];const t=i.ownerDocument.defaultView,o=null==t?void 0:t.getComputedStyle(i,null);return e?o&&o[e]:o}const nT="undefined"!=typeof window&&"undefined"!=typeof document,C1=nT&&!(!window.MSInputMethodContext||!document.documentMode),D1=nT&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Gd(i){return 11===i?C1:10===i?D1:C1||D1}function rT(i){if(!i)return document.documentElement;const e=Gd(10)?document.body:null;let o,t=null==i?void 0:i.offsetParent;for(;t===e&&i.nextElementSibling&&o!==i.nextElementSibling;)o=i.nextElementSibling,t=o.offsetParent;const u=t&&t.nodeName;return u&&"BODY"!==u&&"HTML"!==u?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===ru(t,"position")?rT(t):t:o?o.ownerDocument.documentElement:document.documentElement}function j_(i){return null!==i.parentNode?j_(i.parentNode):i}function U_(i,e){if(!(i&&i.nodeType&&e&&e.nodeType))return document.documentElement;const t=i.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=t?i:e,u=t?e:i,d=document.createRange();d.setStart(o,0),d.setEnd(u,0);const f=d.commonAncestorContainer;if(i!==f&&e!==f||o.contains(u))return function(i){const{nodeName:e}=i;return"BODY"!==e&&("HTML"===e||rT(i.firstElementChild)===i)}(f)?f:rT(f);const g=j_(i);return g.host?U_(g.host,e):U_(i,j_(e).host)}function S1(i){if(!i||!i.parentElement||Gd())return document.documentElement;let e=i.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===ru(e,"transform");)e=e.parentElement;return e||document.documentElement}function A1(i,e){const t="x"===e?"Left":"Top",o="Left"===t?"Right":"Bottom";return parseFloat(i[`border${t}Width`])+parseFloat(i[`border${o}Width`])}function I1(i,e,t,o){const d=t,f=o;return Math.max(e[`offset${i}`],e[`scroll${i}`],d[`client${i}`],d[`offset${i}`],d[`scroll${i}`],Gd(10)?parseInt(d[`offset${i}`],10)+parseInt(f["margin"+("Height"===i?"Top":"Left")],10)+parseInt(f["margin"+("Height"===i?"Bottom":"Right")],10):0)}function iT(i){const e=i.body,t=i.documentElement,o=Gd(10)?getComputedStyle(t):void 0;return{height:I1("Height",e,t,o),width:I1("Width",e,t,o)}}function $d(i,e="top"){const t="top"===e?"scrollTop":"scrollLeft",o=i.nodeName;if("BODY"===o||"HTML"===o){const u=i.ownerDocument.documentElement;return(i.ownerDocument.scrollingElement||u)[t]}return i[t]}function lg(i){return Object.assign(Object.assign({},i),{right:(i.left||0)+i.width,bottom:(i.top||0)+i.height})}function Mt(i){return"number"==typeof i||"[object Number]"===Object.prototype.toString.call(i)}function s(i){const e=i.getBoundingClientRect();try{if(Gd(10)){const _=$d(i,"top"),w=$d(i,"left");e&&Mt(e.top)&&Mt(e.left)&&Mt(e.bottom)&&Mt(e.right)&&(e.top+=_,e.left+=w,e.bottom+=_,e.right+=w)}}catch(_){return e}if(!(e&&Mt(e.top)&&Mt(e.left)&&Mt(e.bottom)&&Mt(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===i.nodeName?iT(i.ownerDocument):void 0,u=(null==o?void 0:o.width)||i.clientWidth||Mt(e.right)&&Mt(t.left)&&e.right-t.left||0,d=(null==o?void 0:o.height)||i.clientHeight||Mt(e.bottom)&&Mt(t.top)&&e.bottom-t.top||0;let f=i.offsetWidth-u,g=i.offsetHeight-d;if(f||g){const _=ru(i);f-=A1(_,"x"),g-=A1(_,"y"),t.width-=f,t.height-=g}return lg(t)}function a(i){return"HTML"===i.nodeName?i:i.parentNode||i.host}function l(i){if(!i)return document.body;switch(i.nodeName){case"HTML":case"BODY":return i.ownerDocument.body;case"#document":return i.body}const{overflow:e,overflowX:t,overflowY:o}=ru(i);return/(auto|scroll|overlay)/.test(String(e)+String(o)+String(t))?i:l(a(i))}function h(i,e,t=!1){var o,u,d,f,g,_;const w=Gd(10),C="HTML"===e.nodeName,T=s(i),S=s(e),N=l(i),R=ru(e),k=parseFloat(R.borderTopWidth),$=parseFloat(R.borderLeftWidth);t&&C&&(S.top=Math.max(null!==(o=S.top)&&void 0!==o?o:0,0),S.left=Math.max(null!==(u=S.left)&&void 0!==u?u:0,0));let Y=lg({top:(null!==(d=T.top)&&void 0!==d?d:0)-(null!==(f=S.top)&&void 0!==f?f:0)-k,left:(null!==(g=T.left)&&void 0!==g?g:0)-(null!==(_=S.left)&&void 0!==_?_:0)-$,width:T.width,height:T.height});if(Y.marginTop=0,Y.marginLeft=0,!w&&C){const he=parseFloat(R.marginTop),pe=parseFloat(R.marginLeft);Mt(Y.top)&&(Y.top-=k-he),Mt(Y.bottom)&&(Y.bottom-=k-he),Mt(Y.left)&&(Y.left-=$-pe),Mt(Y.right)&&(Y.right-=$-pe),Y.marginTop=he,Y.marginLeft=pe}return(w&&!t?e.contains(N):e===N&&"BODY"!==N.nodeName)&&(Y=function(i,e,t=!1){const o=$d(e,"top"),u=$d(e,"left"),d=t?-1:1;return Mt(i.top)&&(i.top+=o*d),Mt(i.bottom)&&(i.bottom+=o*d),Mt(i.left)&&(i.left+=u*d),Mt(i.right)&&(i.right+=u*d),i}(Y,e)),Y}function y(i){const e=i.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===ru(i,"position")||y(a(i)))}function v(i,e,t=0,o,u=!1){let d={top:0,left:0};const f=u?S1(i):U_(i,e);if("viewport"===o)d=function(i,e=!1){const t=i.ownerDocument.documentElement,o=h(i,t),u=Math.max(t.clientWidth,window.innerWidth||0),d=Math.max(t.clientHeight,window.innerHeight||0),f=e?0:$d(t),g=e?0:$d(t,"left");return lg({top:f-Number(null==o?void 0:o.top)+Number(null==o?void 0:o.marginTop),left:g-Number(null==o?void 0:o.left)+Number(null==o?void 0:o.marginLeft),width:u,height:d})}(f,u);else{let g;"scrollParent"===o?(g=l(a(e)),"BODY"===g.nodeName&&(g=i.ownerDocument.documentElement)):g="window"===o?i.ownerDocument.documentElement:o;const _=h(g,f,u);if(_&&"HTML"===g.nodeName&&!y(f)){const{height:w,width:C}=iT(i.ownerDocument);Mt(d.top)&&Mt(_.top)&&Mt(_.marginTop)&&(d.top+=_.top-_.marginTop),Mt(d.top)&&(d.bottom=Number(w)+Number(_.top)),Mt(d.left)&&Mt(_.left)&&Mt(_.marginLeft)&&(d.left+=_.left-_.marginLeft),Mt(d.top)&&(d.right=Number(C)+Number(_.left))}else _&&(d=_)}return Mt(d.left)&&(d.left+=t),Mt(d.top)&&(d.top+=t),Mt(d.right)&&(d.right-=t),Mt(d.bottom)&&(d.bottom-=t),d}function b({width:i,height:e}){return i*e}function E(i,e,t,o,u=["top","bottom","right","left"],d="viewport",f=0){var g,_,w,C;if(-1===i.indexOf("auto"))return i;const T=v(t,o,f,d),S={top:{width:null!==(g=T.width)&&void 0!==g?g:0,height:e.top&&T.top?e.top-T.top:0},right:{width:T.right&&e.right?T.right-e.right:0,height:null!==(_=T.height)&&void 0!==_?_:0},bottom:{width:null!==(w=T.width)&&void 0!==w?w:0,height:T.bottom&&e.bottom?T.bottom-e.bottom:0},left:{width:e.left&&T.left?e.left-T.left:0,height:null!==(C=T.height)&&void 0!==C?C:0}},N=Object.keys(S).map(Y=>Object.assign(Object.assign({key:Y},S[Y]),{area:b(S[Y])})).sort((Y,he)=>he.area-Y.area);let R=N.filter(({width:Y,height:he})=>Y>=t.clientWidth&&he>=t.clientHeight);R=R.filter(Y=>u.some(he=>he===Y.key));const k=R.length>0?R[0].key:N[0].key,$=i.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Di().isBs5?nu[k]:k}`),k+($?`-${$}`:"")}const P=(i,e=0)=>i?parseFloat(i):e;function J(i){const e=i.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(i),o=P(null==t?void 0:t.marginTop)+P(null==t?void 0:t.marginBottom),u=P(null==t?void 0:t.marginLeft)+P(null==t?void 0:t.marginRight);return{width:Number(i.offsetWidth)+u,height:Number(i.offsetHeight)+o}}function G(i,e,t){return h(e,t?S1(i):U_(i,e),t)}function we(i,e,t){var o,u,d;const f=t.split(" ")[0],g=J(i),_={width:g.width,height:g.height},w=-1!==["right","left"].indexOf(f),C=w?"top":"left",T=w?"left":"top",S=w?"height":"width",N=w?"width":"height";return _[C]=(null!==(o=e[C])&&void 0!==o?o:0)+e[S]/2-g[S]/2,_[T]=f===T?(null!==(u=e[T])&&void 0!==u?u:0)-g[N]:null!==(d=e[function(i){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return i.replace(/left|right|bottom|top/g,t=>e[t])}(T)])&&void 0!==d?d:0,_}function ce(i,e){var t;return!!(null===(t=i.modifiers[e])||void 0===t?void 0:t.enabled)}const ke={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function ze(i,e){return!!Di().isBs5&&ke[e].includes(i)}function oi(i,e,t){!i||!e||Object.keys(e).forEach(o=>{let u="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&function(i){return""!==i&&!isNaN(parseFloat(i))&&isFinite(Number(i))}(e[o])&&(u="px"),t?t.setStyle(i,o,`${String(e[o])}${u}`):i.style[o]=String(e[o])+u})}function qd(i){var e,t,o,u,d,f;let g=i.offsets.target;const _=i.instance.target.querySelector(".arrow");if(!_)return i;const w=-1!==["left","right"].indexOf(i.placement.split(" ")[0]),C=w?"height":"width",T=w?"Top":"Left",S=T.toLowerCase(),N=w?"left":"top",R=w?"bottom":"right",k=J(_)[C],$=i.placement.split(" ")[1];(null!==(e=i.offsets.host[R])&&void 0!==e?e:0)-k<(null!==(t=g[S])&&void 0!==t?t:0)&&(g[S]-=(null!==(o=g[S])&&void 0!==o?o:0)-((null!==(u=i.offsets.host[R])&&void 0!==u?u:0)-k)),Number(i.offsets.host[S])+Number(k)>(null!==(d=g[R])&&void 0!==d?d:0)&&(g[S]+=Number(i.offsets.host[S])+Number(k)-Number(g[R])),g=lg(g);const Y=ru(i.instance.target),he=parseFloat(Y[`margin${T}`])||0,pe=parseFloat(Y[`border${T}Width`])||0;let Te;if($){const et=parseFloat(Y.borderRadius)||0,pt=Number(he+pe+et);Te=S===$?Number(i.offsets.host[S])+pt:Number(i.offsets.host[S])+Number(i.offsets.host[C]-pt)}else Te=Number(i.offsets.host[S])+Number(i.offsets.host[C]/2-k/2);let Ie=Te-(null!==(f=g[S])&&void 0!==f?f:0)-he-pe;return Ie=Math.max(Math.min(g[C]-(k+5),Ie),0),i.offsets.arrow={[S]:Math.round(Ie),[N]:""},i.instance.arrow=_,i}function Hl(i){if(i.offsets.target=lg(i.offsets.target),!ce(i.options,"flip"))return i.offsets.target=Object.assign(Object.assign({},i.offsets.target),we(i.instance.target,i.offsets.host,i.placement)),i;const e=v(i.instance.target,i.instance.host,0,"viewport",!1);let t=i.placement.split(" ")[0],o=i.placement.split(" ")[1]||"";const g=E("auto",i.offsets.host,i.instance.target,i.instance.host,i.options.allowedPositions),_=[t,g];return _.forEach((w,C)=>{var T,S,N,R,k,$,Y,he,pe,Te,Ie,et,pt,Tr,er,Gr;if(t!==w||_.length===C+1)return;t=i.placement.split(" ")[0];const Wl="left"===t&&Math.floor(null!==(T=i.offsets.target.right)&&void 0!==T?T:0)>Math.floor(null!==(S=i.offsets.host.left)&&void 0!==S?S:0)||"right"===t&&Math.floor(null!==(N=i.offsets.target.left)&&void 0!==N?N:0)<Math.floor(null!==(R=i.offsets.host.right)&&void 0!==R?R:0)||"top"===t&&Math.floor(null!==(k=i.offsets.target.bottom)&&void 0!==k?k:0)>Math.floor(null!==($=i.offsets.host.top)&&void 0!==$?$:0)||"bottom"===t&&Math.floor(null!==(Y=i.offsets.target.top)&&void 0!==Y?Y:0)<Math.floor(null!==(he=i.offsets.host.bottom)&&void 0!==he?he:0),Kl=Math.floor(null!==(pe=i.offsets.target.left)&&void 0!==pe?pe:0)<Math.floor(null!==(Te=e.left)&&void 0!==Te?Te:0),Ys=Math.floor(null!==(Ie=i.offsets.target.right)&&void 0!==Ie?Ie:0)>Math.floor(null!==(et=e.right)&&void 0!==et?et:0),Z_=Math.floor(null!==(pt=i.offsets.target.top)&&void 0!==pt?pt:0)<Math.floor(null!==(Tr=e.top)&&void 0!==Tr?Tr:0),J_=Math.floor(null!==(er=i.offsets.target.bottom)&&void 0!==er?er:0)>Math.floor(null!==(Gr=e.bottom)&&void 0!==Gr?Gr:0),Fe="left"===t&&Kl||"right"===t&&Ys||"top"===t&&Z_||"bottom"===t&&J_,je=-1!==["top","bottom"].indexOf(t),nt=je&&"left"===o&&Kl||je&&"right"===o&&Ys||!je&&"left"===o&&Z_||!je&&"right"===o&&J_;(Wl||Fe||nt)&&((Wl||Fe)&&(t=_[C+1]),nt&&(o=function(i){return"right"===i?"left":"left"===i?"right":i}(o)),i.placement=t+(o?` ${o}`:""),i.offsets.target=Object.assign(Object.assign({},i.offsets.target),we(i.instance.target,i.offsets.host,i.placement)))}),i}function $l(i){var e;if(!ce(i.options,"preventOverflow"))return i;const t="transform",o=i.instance.target.style,{top:u,left:d,[t]:f}=o;o.top="",o.left="",o[t]="";const g=v(i.instance.target,i.instance.host,0,(null===(e=i.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);o.top=u,o.left=d,o[t]=f;const w={primary(C){var T,S,N,R;let k=i.offsets.target[C];return(null!==(T=i.offsets.target[C])&&void 0!==T?T:0)<(null!==(S=g[C])&&void 0!==S?S:0)&&(k=Math.max(null!==(N=i.offsets.target[C])&&void 0!==N?N:0,null!==(R=g[C])&&void 0!==R?R:0)),{[C]:k}},secondary(C){var T,S,N,R,k,$,Y,he;const pe="right"===C?"left":"top";let Te=i.offsets.target[pe];return(null!==(T=i.offsets.target[C])&&void 0!==T?T:0)<(null!==(S=g[C])&&void 0!==S?S:0)&&"right"!==C&&(Te=Math.min(null!==(N=i.offsets.target[pe])&&void 0!==N?N:0,(null!==(R=g[C])&&void 0!==R?R:0)-i.offsets.target.height)),(null!==(k=i.offsets.target[C])&&void 0!==k?k:0)>(null!==($=g[C])&&void 0!==$?$:0)&&"right"===C&&(Te=Math.min(null!==(Y=i.offsets.target[pe])&&void 0!==Y?Y:0,(null!==(he=g[C])&&void 0!==he?he:0)-i.offsets.target.width)),{[pe]:Te}}};return["left","right","top","bottom"].forEach(C=>{const T=-1!==["left","top","start"].indexOf(C)?w.primary:w.secondary;i.offsets.target=Object.assign(Object.assign({},i.offsets.target),T(C))}),i}function H_(i){var e;const t=i.placement,o=t.split(" ")[0],u=t.split(" ")[1];if(u){const{host:d,target:f}=i.offsets,g=-1!==["bottom","top"].indexOf(o),_=g?"left":"top",w=g?"width":"height",C={start:{[_]:d[_]},end:{[_]:(null!==(e=d[_])&&void 0!==e?e:0)+d[w]-f[w]}};i.offsets.target=Object.assign(Object.assign({},f),{[_]:_===u?C.start[_]:C.end[_]})}return i}const $_=new class{position(e,t){return this.offset(e,t)}offset(e,t){return G(t,e)}positionElements(e,t,o,u,d){const f=[Hl,H_,$l,qd],_=function(i,e,t,o){if(!i||!e)return;const u=G(i,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const d=!!t.match(/auto/g);let f=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const g=f.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return g&&(f=g[1]+(g[2]?` ${g[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(f)&&(f="auto"),f=E(f,u,i,e,o?o.allowedPositions:void 0),{options:o||{modifiers:{}},instance:{target:i,host:e,arrow:void 0},offsets:{target:we(i,u,f),host:u,arrow:void 0},positionFixed:!1,placement:f,placementAuto:d}}(t,e,Co[o],d);if(_)return f.reduce((w,C)=>C(w),_)}};function q_(i,e,t,o,u,d){const f=$_.positionElements(i,e,t,o,u);if(!f)return;const g=function(i){var e,t,o,u;return{width:i.offsets.target.width,height:i.offsets.target.height,left:Math.floor(null!==(e=i.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=i.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(o=i.offsets.target.bottom)&&void 0!==o?o:0),right:Math.floor(null!==(u=i.offsets.target.right)&&void 0!==u?u:0)}}(f);oi(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${g.left}px, ${g.top}px, 0px)`},d),f.instance.arrow&&oi(f.instance.arrow,f.offsets.arrow,d),function(i,e){const t=i.instance.target;let o=t.className;const u=Di().isBs5?nu[i.placement]:i.placement;i.placementAuto&&(o=o.replace(/bs-popover-auto/g,`bs-popover-${u}`),o=o.replace(/ms-2|me-2|mb-2|mt-2/g,""),o=o.replace(/bs-tooltip-auto/g,`bs-tooltip-${u}`),o=o.replace(/\sauto/g,` ${u}`),-1!==o.indexOf("popover")&&(o=o+" "+function(i){return Di().isBs5?ze(i,"end")?"ms-2":ze(i,"start")?"me-2":ze(i,"top")?"mb-2":ze(i,"bottom")?"mt-2":"":""}(u)),-1!==o.indexOf("popover")&&-1===o.indexOf("popover-auto")&&(o+=" popover-auto"),-1!==o.indexOf("tooltip")&&-1===o.indexOf("tooltip-auto")&&(o+=" tooltip-auto")),o=o.replace(/left|right|top|bottom|end|start/g,`${u.split(" ")[0]}`),e?e.setAttribute(t,"class",o):t.className=o}(f,d)}let iu=(()=>{class i{constructor(t,o,u){this.update$$=new Mi.xQ,this.positionElements=new Map,this.isDisabled=!1,sh(u)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,Wv.T)(V_(window,"scroll",{passive:!0}),V_(window,"resize",{passive:!0}),(0,Ge.of)(0,w1),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(d=>{q_(oT(d.target),oT(d.element),d.attachment,d.appendToBody,this.options,o.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(oT(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(oT(t))}setOptions(t){this.options=t}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.R0b),m.LFG(m.FYo),m.LFG(m.Lbi))},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i((0,m.LFG)(m.R0b),(0,m.LFG)(m.FYo),(0,m.LFG)(m.Lbi))},token:i,providedIn:"root"}),i})();function oT(i){return"string"==typeof i?document.querySelector(i):i instanceof m.SBq?i.nativeElement:null!=i?i:null}class z_{constructor(e,t,o){this.nodes=e,this.viewRef=t,this.componentRef=o}}class _x{constructor(e,t,o,u,d,f,g,_){this._viewContainerRef=e,this._renderer=t,this._elementRef=o,this._injector=u,this._componentFactoryResolver=d,this._ngZone=f,this._applicationRef=g,this._posService=_,this.onBeforeShow=new m.vpe,this.onShown=new m.vpe,this.onBeforeHide=new m.vpe,this.onHidden=new m.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=m.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof m.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const o=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!o)return;o.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,o,u;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const d=this._componentRef.location.nativeElement;return d.parentNode.removeChild(d),(null===(t=this._contentRef)||void 0===t?void 0:t.componentRef)&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&(null===(o=this._contentRef)||void 0===o?void 0:o.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._contentRef.viewRef.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const o=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),u=this._listenOpts.show=f=>{e.show?e.show(f):this.show(f),f()};return this._renderer&&(this._unregisterListenersFn=function(i,e){const t=function(i,e=UD){const t=(i||"").trim();if(0===t.length)return[];const o=t.split(/\s+/).map(d=>d.split(":")).map(d=>{const f=e[d[0]]||d;return new jD(f[0],f[1])}),u=o.filter(d=>d.isManual());if(u.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===u.length&&o.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return o}(e.triggers),o=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const u=[],d=[],f=()=>{d.forEach(g=>u.push(g())),d.length=0};return t.forEach(g=>{const _=g.open===g.close,w=_?e.toggle:e.show;if(!_&&g.close&&e.hide){const C=i.listen(o,g.close,e.hide);d.push(()=>C)}w&&u.push(i.listen(o,g.open,()=>w(f)))}),()=>{u.forEach(g=>g())}}(this._renderer,{target:e.target,triggers:e.triggers,show:u,hide:o,toggle:f=>{this.isShown?o():u(f)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function(i,e){return e.outsideClick?i.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(o=>o.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function(i,e){return e.outsideEsc?i.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(o=>o.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,o){if(!e)return new z_([]);if(e instanceof m.Rgc){if(this._viewContainerRef){const f=this._viewContainerRef.createEmbeddedView(e,t);return f.markForCheck(),new z_([f.rootNodes],f)}const d=e.createEmbeddedView({});return this._applicationRef.attachView(d),new z_([d.rootNodes],d)}if("function"==typeof e){const d=this._componentFactoryResolver.resolveComponentFactory(e),f=m.zs3.create({providers:this._providers,parent:this._injector}),g=d.create(f);return Object.assign(g.instance,o),this._applicationRef.attachView(g.hostView),new z_([[g.location.nativeElement]],g.hostView,g)}const u=this._renderer?[this._renderer.createText(`${e}`)]:[];return new z_([u])}}let M1,cg=(()=>{class i{constructor(t,o,u,d,f){this._componentFactoryResolver=t,this._ngZone=o,this._injector=u,this._posService=d,this._applicationRef=f}createLoader(t,o,u){return new _x(o,u,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m._Vd),m.LFG(m.R0b),m.LFG(m.zs3),m.LFG(iu),m.LFG(m.z2F))},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i((0,m.LFG)(m._Vd),(0,m.LFG)(m.R0b),(0,m.LFG)(m.gxx),(0,m.LFG)(iu),(0,m.LFG)(m.z2F))},token:i,providedIn:"root"}),i})(),bx=(()=>{class i{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(u=>u!==t);let o=this._focusTrapStack;o.length&&o[o.length-1]._disable(),o.push(t),t._enable()}deregister(t){t._disable();const o=this._focusTrapStack,u=o.indexOf(t);-1!==u&&(o.splice(u,1),o.length&&o[o.length-1]._enable())}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();try{M1="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){M1=!1}let N1=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?sh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!M1)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.Lbi))},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i((0,m.LFG)(m.Lbi))},token:i,providedIn:"root"}),i})(),R1=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function(i){try{return i.frameElement}catch(e){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===tO(o)||!this.isVisible(o)))return!1;let u=t.nodeName.toLowerCase(),d=tO(t);return t.hasAttribute("contenteditable")?-1!==d:!("iframe"===u||"object"===u||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===u?!!t.hasAttribute("controls")&&-1!==d:"video"===u?-1!==d&&(null!==d||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||eO(i))}(t)&&!this.isDisabled(t)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(N1))},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i((0,m.LFG)(N1))},token:i,providedIn:"root"}),i})();function eO(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function tO(i){if(!eO(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function nO(i){return null!=i&&"false"!=`${i}`}class Rx{constructor(e,t,o,u,d=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=u,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let o=0;o<t.length;o++)t[o].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[o]):t[o].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[o]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let o=0;o<t.length;o++){let u=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(u)return u}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let o=t.length-1;o>=0;o--){let u=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(u)return u}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(jt(1)).subscribe(e)}}let Ox=(()=>{class i{constructor(t,o,u){this._checker=t,this._ngZone=o,this._document=u}create(t,o=!1){return new Rx(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(R1),m.LFG(m.R0b),m.LFG(fe))},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i((0,m.LFG)(R1),(0,m.LFG)(m.R0b),(0,m.LFG)(fe))},token:i,providedIn:"root"}),i})(),xx=(()=>{class i{constructor(t,o,u){this._elementRef=t,this._focusTrapFactory=o,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=u,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=nO(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=nO(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const o=t.autoCapture;o&&!o.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.SBq),m.Y36(Ox),m.Y36(fe))},i.\u0275dir=m.lG2({type:i,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[m.TTD]}),i})(),rO=(()=>{class i{static forRoot(){return{ngModule:i,providers:[bx,N1,R1]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[ci]]}),i})();const Fx=["*"];let O1=(()=>{class i{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),iO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const W_={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},oO=new m.OlP("override-default-config");let Px=(()=>{class i{constructor(t,o,u){this._element=o,this._renderer=u,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Ki()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var o;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(o=this.bsModalService)||void 0===o||o.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var o,u;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(o=this.bsModalService)||void 0===o?void 0:o.getModalsCount())&&(null===(u=this.bsModalService)||void 0===u||u.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Ki()?"in":"show"),setTimeout(()=>{var t,o;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(o=this.bsModalService)||void 0===o||o.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(iO),m.Y36(m.SBq),m.Y36(m.Qsj))},i.\u0275cmp=m.Xpm({type:i,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,o){1&t&&m.NdJ("mousedown",function(d){return o.onClickStarted(d)})("click",function(d){return o.onClickStop(d)})("popstate",function(){return o.onPopState()},!1,m.Jf7)("keydown.esc",function(d){return o.onEsc(d)},!1,m.Jf7),2&t&&m.uIk("aria-modal",!0)("aria-labelledby",o.config.ariaLabelledBy)("aria-describedby",o.config.ariaDescribedby)},ngContentSelectors:Fx,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,o){1&t&&(m.F$t(),m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.Hsn(2),m.qZA(),m.qZA()),2&t&&m.Tol("modal-dialog"+(o.config.class?" "+o.config.class:""))},directives:[xx],encapsulation:2}),i})(),sO=(()=>{class i{constructor(t,o){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=o}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Ki()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Ft),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function(){const i=Di(),e=Object.keys(i).find(t=>i[t]);return ag[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.SBq),m.Y36(m.Qsj))},i.\u0275cmp=m.Xpm({type:i,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})(),kx=1,x1=(()=>{class i{constructor(t,o,u){this.clf=o,this.modalDefaultOption=u,this.onShow=new m.vpe,this.onShown=new m.vpe,this.onHide=new m.vpe,this.onHidden=new m.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=u?Object.assign({},W_,u):W_}show(t,o){this.modalsCount++,this._createLoaders();const u=(null==o?void 0:o.id)||kx++;return this.config=this.modalDefaultOption?Object.assign({},W_,this.modalDefaultOption,o):Object.assign({},W_,o),this.config.id=u,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,o=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&o&&(this._backdropLoader.attach(sO).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var o;const u=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const g of this.config.providers)u.provide(g);const d=new O1,f=u.provide({provide:iO,useValue:this.config}).provide({provide:O1,useValue:d}).attach(Px).to("body");return d.hide=()=>{var g;return null===(g=f.instance)||void 0===g?void 0:g.hide()},d.setClass=g=>{f.instance&&(f.instance.config.class=g)},d.onHidden=new m.vpe,d.onHide=new m.vpe,this.copyEvent(u.onBeforeHide,d.onHide),this.copyEvent(u.onHidden,d.onHidden),f.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),f.instance&&(f.instance.level=this.getModalsCount(),d.content=u.getInnerComponent(),d.id=null===(o=f.instance.config)||void 0===o?void 0:o.id),d}_hideModal(t){if(null!=t){const o=this.loaders.findIndex(d=>{var f;return(null===(f=d.instance)||void 0===f?void 0:f.config.id)===t}),u=this.loaders[o];u&&u.hide(t)}else this.loaders.forEach(o=>{o.instance&&o.hide(o.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const o=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),o}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const o=this.loaders.findIndex(u=>{var d;return(null===(d=u.instance)||void 0===d?void 0:d.config.id)===t});o>=0&&(this.loaders.splice(o,1),this.loaders.forEach((u,d)=>{u.instance&&(u.instance.level=d+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,o){t.subscribe(u=>{o.emit(this.lastDismissReason||u)})}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.FYo),m.LFG(cg),m.LFG(oO,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();rO.forRoot();let Lx=(()=>{class i{static forRoot(){return{ngModule:i,providers:[x1,cg,iu]}}static forChild(){return{ngModule:i,providers:[x1,cg,iu]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[rO]]}),i})();function Vx(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"button",9),m.NdJ("click",function(){const d=m.CHM(t).ngIf;return m.oxw().onConfirmDeleteBtnClicked(d.id)}),m._uU(1," Delete "),m.qZA()}}let Bx=(()=>{class i{constructor(t,o,u,d){this._removesTaskDto=t,this._taskDtoStorage=o,this._alertTaskStorage=u,this.bsModalRef=d,this.task$=this._taskDtoStorage.asObservable()}onConfirmDeleteBtnClicked(t){this._removesTaskDto.remove(t),this.bsModalRef.hide(),this._alertTaskStorage.next({state:"deleted"})}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(BD),m.Y36(ng),m.Y36(jl),m.Y36(O1))},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-delete-task-modal"]],decls:14,vars:3,consts:[[1,"modal-header"],[1,"m-0"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","mx-4",3,"click"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"h5",1),m._uU(2,"Delete Task"),m.qZA(),m.TgZ(3,"button",2),m.NdJ("click",function(){return o.bsModalRef.hide()}),m.TgZ(4,"span",3),m._uU(5,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",4),m.TgZ(7,"span",5),m._uU(8," Are you sure you want to delete this task? "),m.qZA(),m.qZA(),m.TgZ(9,"div",6),m.TgZ(10,"button",7),m.NdJ("click",function(){return o.bsModalRef.hide()}),m._uU(11," Cancel "),m.qZA(),m.YNc(12,Vx,2,0,"button",8),m.ALo(13,"async"),m.qZA()),2&t&&(m.xp6(12),m.Q6J("ngIf",m.lcZ(13,1,o.task$)))},directives:[eo],pipes:[du],encapsulation:2,changeDetection:0}),i})();class aT{}const ou="*";function lO(i,e=null){return{type:2,steps:i,options:e}}function uT(i){return{type:6,styles:i,offset:null}}function cO(i){Promise.resolve(null).then(i)}class dg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){cO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class dO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,u=0;const d=this.players.length;0==d?cO(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==d&&this._onFinish()}),f.onDestroy(()=>{++o==d&&this._onDestroy()}),f.onStart(()=>{++u==d&&this._onStart()})}),this.totalTime=this.players.reduce((f,g)=>Math.max(f,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(u)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}const Hx=function(i){return{dropdown:i}},Gx=["*"];let hO=(()=>{class i{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,m.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),zd=(()=>{class i{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new m.vpe,this.isDisabledChange=new m.vpe,this.toggleClick=new m.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const fO=[uT({height:0,overflow:"hidden"}),function(i,e=null){return{type:4,styles:e,timings:i}}("220ms cubic-bezier(0, 0, 0.2, 1)",uT({height:"*",overflow:"hidden"}))];let qx=(()=>{class i{constructor(t,o,u,d,f){this._state=t,this.cd=o,this._renderer=u,this._element=d,this.isOpen=!1,this._factoryDropDownAnimation=f.build(fO),this._subscription=t.isOpenChange.subscribe(g=>{this.isOpen=g;const _=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),_&&!Ki()&&(this._renderer.addClass(_,"show"),(_.classList.contains("dropdown-menu-right")||_.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(_,"left","auto"),this._renderer.setStyle(_,"right","0")),"up"===this.direction&&(this._renderer.setStyle(_,"top","auto"),this._renderer.setStyle(_,"transform","translateY(-101%)"))),_&&this._state.isAnimated&&this._factoryDropDownAnimation.create(_).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(zd),m.Y36(m.sBO),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(aT))},i.\u0275cmp=m.Xpm({type:i,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Gx,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,o){1&t&&(m.F$t(),m.TgZ(0,"div",0),m.Hsn(1),m.qZA()),2&t&&(m.ekj("dropup","up"===o.direction)("show",o.isOpen)("open",o.isOpen),m.Q6J("ngClass",m.VKq(7,Hx,"down"===o.direction)))},directives:[lu],encapsulation:2,changeDetection:0}),i})(),pO=(()=>{class i{constructor(t,o,u,d,f,g,_){this._elementRef=t,this._renderer=o,this._viewContainerRef=u,this._cis=d,this._state=f,this._config=g,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=_.build(fO),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:zd,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Ki()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(No(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const o=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=o?"up":"down";const u=this.placement||(o?"top start":"bottom start");this._dropdown.attach(qx).to(this.container).position({attachment:u}).show({content:t.templateRef,placement:u}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const o=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!o)return;const u=this._elementRef.nativeElement.ownerDocument.activeElement,d=o.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&d[--this._state.counts].focus();break;case 40:this._state.counts+1<d.length&&(u.classList!==d[this._state.counts].classList?d[this._state.counts].focus():d[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Ki()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.s_b),m.Y36(cg),m.Y36(zd),m.Y36(hO),m.Y36(aT))},i.\u0275dir=m.lG2({type:i,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,o){1&t&&m.NdJ("keydown.arrowDown",function(d){return o.navigationClick(d)})("keydown.arrowUp",function(d){return o.navigationClick(d)}),2&t&&m.ekj("dropup",o.dropup)("open",o.isOpen)("show",o.isOpen&&o.isBs4)},inputs:{dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen",placement:"placement",triggers:"triggers",container:"container"},outputs:{onShown:"onShown",onHidden:"onHidden",isOpenChange:"isOpenChange"},exportAs:["bs-dropdown"],features:[m._Bn([zd])]}),i})(),zx=(()=>{class i{constructor(t,o,u){t.resolveDropdownMenu({templateRef:u,viewContainer:o})}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(zd),m.Y36(m.s_b),m.Y36(m.Rgc))},i.\u0275dir=m.lG2({type:i,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),i})(),Wx=(()=>{class i{constructor(t,o,u,d,f){this._changeDetectorRef=t,this._dropdown=o,this._element=u,this._renderer=d,this._state=f,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(g=>{this.isOpen=g,g?(this._documentClickListener=this._renderer.listen("document","click",_=>{this._state.autoClose&&2!==_.button&&!this._element.nativeElement.contains(_.target)&&(!this._state.insideClick||!this._dropdown._contains(_))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(g=>this.isDisabled=g||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(m.sBO),m.Y36(pO),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(zd))},i.\u0275dir=m.lG2({type:i,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,o){1&t&&m.NdJ("click",function(d){return o.onClick(d)}),2&t&&m.uIk("aria-haspopup",!0)("aria-expanded",o.isOpen)("disabled",o.isDisabled)},exportAs:["bs-dropdown-toggle"]}),i})(),Kx=(()=>{class i{static forRoot(){return{ngModule:i,providers:[cg,iu,zd]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[ci]]}),i})();function Yx(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"input",13),m.NdJ("change",function(){m.CHM(t);const u=m.oxw().$implicit;return m.oxw().onUnCheckChanged(u)}),m.qZA(),m.TgZ(2,"label",14),m._uU(3),m.qZA(),m.qZA()}if(2&i){const t=m.oxw().$implicit;m.xp6(3),m.hij("",t.description," ")}}function Qx(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"input",15),m.NdJ("change",function(){m.CHM(t);const u=m.oxw().$implicit;return m.oxw().onCheckChanged(u)}),m.qZA(),m.TgZ(2,"label",16),m._uU(3),m.qZA(),m.qZA()}if(2&i){const t=m.oxw().$implicit;m.xp6(3),m.hij("",t.description," ")}}function Zx(i,e){if(1&i){const t=m.EpF();m.O4$(),m.kcU(),m.TgZ(0,"ul",17),m.TgZ(1,"li",18),m.NdJ("click",function(){m.CHM(t);const u=m.oxw().$implicit;return m.oxw().onDeleteBtnClicked(u)}),m.TgZ(2,"a",19),m._uU(3,"Delete"),m.qZA(),m.qZA(),m.TgZ(4,"li",18),m.NdJ("click",function(){m.CHM(t);const u=m.oxw().$implicit;return m.oxw().onDeleteBtnClicked(u)}),m.TgZ(5,"a",19),m._uU(6,"Delete"),m.qZA(),m.qZA(),m.TgZ(7,"li",18),m.NdJ("click",function(){m.CHM(t);const u=m.oxw().$implicit;return m.oxw().onDeleteBtnClicked(u)}),m.TgZ(8,"a",19),m._uU(9,"Delete"),m.qZA(),m.qZA(),m.qZA()}}function Jx(i,e){if(1&i&&(m.TgZ(0,"div",5),m.YNc(1,Yx,4,1,"div",6),m.YNc(2,Qx,4,1,"ng-template",null,7,m.W1O),m.TgZ(4,"div",8),m.TgZ(5,"a",9),m.O4$(),m.TgZ(6,"svg",10),m._UZ(7,"path",11),m.qZA(),m.qZA(),m.YNc(8,Zx,10,0,"ul",12),m.qZA(),m.qZA()),2&i){const t=e.$implicit,o=m.MAs(3);m.xp6(1),m.Q6J("ngIf",!t.isDone)("ngIfElse",o)}}let Xx=(()=>{class i{constructor(t,o,u,d,f){this._getsAllTaskDto=t,this._setsTaskDto=o,this._storageTaskDto=u,this._alertStateDto=d,this.modalService=f,this.taskList$=this._getsAllTaskDto.getAll(),this.alertState$=this._alertStateDto.asObservable()}onUnCheckChanged(t){this._setsTaskDto.set({id:t.id,isDone:!t.isDone}),this._alertStateDto.next({state:"completed"})}onCheckChanged(t){this._setsTaskDto.set({id:t.id,isDone:!t.isDone})}onDeleteBtnClicked(t){this.bsModalRef=this.modalService.show(Bx),this._storageTaskDto.next(t)}}return i.\u0275fac=function(t){return new(t||i)(m.Y36(u1),m.Y36(M_),m.Y36(ng),m.Y36(jl),m.Y36(x1))},i.\u0275cmp=m.Xpm({type:i,selectors:[["lib-task-list"]],decls:7,vars:3,consts:[[1,"row","mx-1","py-5","border-bottom"],["class","form-check py-2 d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"row","py-3"],[1,"col-1","ps-3","pe-1"],["routerLink","/add-task",1,"btn","indigo","text-white"],[1,"form-check","py-2","d-flex","justify-content-between"],[4,"ngIf","ngIfElse"],["check",""],["dropdown","",1,"btn-group"],["role","button","id","button-animated","dropdownToggle","","type","button","aria-controls","dropdown-animated"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots"],["d","M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"],["id","dropdown-animated","class","dropdown-menu","role","menu","aria-labelledby","button-animated",4,"dropdownMenu"],["type","checkbox","value","",1,"form-check-input","rounded-circle",3,"change"],["for","flexCheckDefault",1,"form-check-label"],["checked","","type","checkbox","value","",1,"form-check-input","rounded-circle","bg-success",3,"change"],["for","flexCheckDefault",1,"form-check-label","text-decoration-line-through"],["id","dropdown-animated","role","menu","aria-labelledby","button-animated",1,"dropdown-menu"],["role","menuitem",3,"click"],[1,"dropdown-item"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m.YNc(1,Jx,9,2,"div",1),m.ALo(2,"async"),m.qZA(),m.TgZ(3,"div",2),m.TgZ(4,"div",3),m.TgZ(5,"a",4),m._uU(6,"Add task"),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(1),m.Q6J("ngForOf",m.lcZ(2,1,o.taskList$)))},directives:[ds,ko,eo,pO,Wx,zx],pipes:[du],encapsulation:2,changeDetection:0}),i})(),eF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-task-list-page"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-1"],[1,"col-10"],[1,"col-xxl-1"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m._UZ(1,"div",1),m.TgZ(2,"div",2),m._UZ(3,"lib-today"),m.qZA(),m.TgZ(4,"div",3),m._UZ(5,"lib-task-alert"),m.qZA(),m.qZA(),m.TgZ(6,"div",0),m._UZ(7,"div",1),m.TgZ(8,"div",2),m._UZ(9,"lib-task-list"),m.qZA(),m._UZ(10,"div",1),m.qZA())},directives:[aD,Ul,Xx],encapsulation:2,changeDetection:0}),i})(),tF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[{provide:hO,useValue:{isAnimated:!0,autoClose:!0}}],imports:[[ci,Ds,Lx.forRoot(),Kx.forRoot(),Eo.forRoot()]]}),i})(),nF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci,Eo.forRoot()]]}),i})(),rF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[],imports:[[ci,Ds.forChild([{path:"",component:eF}]),Hg,tF,N_,nF]]}),i})();const iF=[{path:"",loadChildren:()=>pM},{path:"add-task",loadChildren:()=>og},{path:"task-list",loadChildren:()=>rF}];let oF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[Ds.forRoot(iF)],Ds]}),i})(),sF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-root"]],decls:9,vars:0,consts:[["routerLink","",1,"container-fluid","text-white","indigo"],[1,"row"],[1,"col-1"],[1,"col-10","pt-2","px-0"],[1,"fs-3","fw-bold"]],template:function(t,o){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"span"),m.TgZ(5,"p",4),m._uU(6,"Awesome Todo app"),m.qZA(),m.qZA(),m.qZA(),m._UZ(7,"div",2),m.qZA(),m.qZA(),m._UZ(8,"router-outlet"))},directives:[Qh,Zh],styles:[""]}),i})();function gO(){return"undefined"!=typeof window&&void 0!==window.document}function P1(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ql(i){switch(i.length){case 0:return new dg;case 1:return i[0];default:return new dO(i)}}function mO(i,e,t,o,u={},d={}){const f=[],g=[];let _=-1,w=null;if(o.forEach(C=>{const T=C.offset,S=T==_,N=S&&w||{};Object.keys(C).forEach(R=>{let k=R,$=C[R];if("offset"!==R)switch(k=e.normalizePropertyName(k,f),$){case"!":$=u[R];break;case ou:$=d[R];break;default:$=e.normalizeStyleValue(R,k,$,f)}N[k]=$}),S||g.push(N),w=N,_=T}),f.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${f.join(C)}`)}return g}function k1(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&L1(t,"start",i)));break;case"done":i.onDone(()=>o(t&&L1(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&L1(t,"destroy",i)))}}function L1(i,e,t){const o=t.totalTime,d=V1(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==o?i.totalTime:o,!!t.disabled),f=i._data;return null!=f&&(d._data=f),d}function V1(i,e,t,o,u="",d=0,f){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:u,totalTime:d,disabled:!!f}}function Yi(i,e,t){let o;return i instanceof Map?(o=i.get(e),o||i.set(e,o=t)):(o=i[e],o||(o=i[e]=t)),o}function yO(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let B1=(i,e)=>!1,j1=(i,e)=>!1,vO=(i,e,t)=>[];const _O=P1();(_O||"undefined"!=typeof Element)&&(B1=gO()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),j1=(()=>{if(_O||Element.prototype.matches)return(i,e)=>i.matches(e);{const i=Element.prototype,e=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return e?(t,o)=>e.apply(t,[o]):j1}})(),vO=(i,e,t)=>{let o=[];if(t){const u=i.querySelectorAll(e);for(let d=0;d<u.length;d++)o.push(u[d])}else{const u=i.querySelector(e);u&&o.push(u)}return o});let Wd=null,bO=!1;function U1(i){Wd||(Wd=("undefined"!=typeof document?document.body:null)||{},bO=!!Wd.style&&"WebkitAppearance"in Wd.style);let e=!0;return Wd.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Wd.style,!e&&bO&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Wd.style)),e}const H1=j1,G1=B1,$1=vO;function wO(i){const e={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[o]=i[t]}),e}let EO=(()=>{class i{validateStyleProperty(t){return U1(t)}matchesElement(t,o){return H1(t,o)}containsElement(t,o){return G1(t,o)}query(t,o,u){return $1(t,o,u)}computeStyle(t,o,u){return u||""}animate(t,o,u,d,f,g=[],_){return new dg(u,d)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),q1=(()=>{class i{}return i.NOOP=new EO,i})();const z1="ng-enter",lT="ng-leave",cT="ng-trigger",dT=".ng-trigger",DO="ng-animating",W1=".ng-animating";function Kd(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:K1(parseFloat(e[1]),e[2])}function K1(i,e){switch(e){case"s":return 1e3*i;default:return i}}function hT(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let u,d=0,f="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};u=K1(parseFloat(g[1]),g[2]);const _=g[3];null!=_&&(d=K1(parseFloat(_),g[4]));const w=g[5];w&&(f=w)}else u=i;if(!t){let g=!1,_=e.length;u<0&&(e.push("Duration values below 0 are not allowed for this animation step."),g=!0),d<0&&(e.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&e.splice(_,0,`The provided timing value "${i}" is invalid.`)}return{duration:u,delay:d,easing:f}}(i,e,t)}function hg(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function zl(i,e,t={}){if(e)for(let o in i)t[o]=i[o];else hg(i,t);return t}function SO(i,e,t){return t?e+":"+t+";":""}function AO(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=SO(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=SO(0,pF(t),i.style[t]));i.setAttribute("style",e)}function Ks(i,e,t){i.style&&(Object.keys(e).forEach(o=>{const u=Q1(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[u]),i.style[u]=e[o]}),P1()&&AO(i))}function Yd(i,e){i.style&&(Object.keys(e).forEach(t=>{const o=Q1(t);i.style[o]=""}),P1()&&AO(i))}function Y_(i){return Array.isArray(i)?1==i.length?i[0]:lO(i):i}const Y1=new RegExp("{{\\s*(.+?)\\s*}}","g");function IO(i){let e=[];if("string"==typeof i){let t;for(;t=Y1.exec(i);)e.push(t[1]);Y1.lastIndex=0}return e}function fT(i,e,t){const o=i.toString(),u=o.replace(Y1,(d,f)=>{let g=e[f];return e.hasOwnProperty(f)||(t.push(`Please provide a value for the animation param ${f}`),g=""),g.toString()});return u==o?i:u}function pT(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const fF=/-+([a-z0-9])/g;function Q1(i){return i.replace(fF,(...e)=>e[1].toUpperCase())}function pF(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function MO(i,e){return 0===i||0===e}function NO(i,e,t){const o=Object.keys(t);if(o.length&&e.length){let d=e[0],f=[];if(o.forEach(g=>{d.hasOwnProperty(g)||f.push(g),d[g]=t[g]}),f.length)for(var u=1;u<e.length;u++){let g=e[u];f.forEach(function(_){g[_]=Z1(i,_)})}}return e}function Qi(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Z1(i,e){return window.getComputedStyle(i)[e]}function gF(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,e,t){if(":"==i[0]){const _=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const u=o[1],d=o[2],f=o[3];e.push(RO(u,f));"<"==d[0]&&!("*"==u&&"*"==f)&&e.push(RO(f,u))}(o,t,e)):t.push(i),t}const mT=new Set(["true","1"]),yT=new Set(["false","0"]);function RO(i,e){const t=mT.has(i)||yT.has(i),o=mT.has(e)||yT.has(e);return(u,d)=>{let f="*"==i||i==u,g="*"==e||e==d;return!f&&t&&"boolean"==typeof u&&(f=u?mT.has(i):yT.has(i)),!g&&o&&"boolean"==typeof d&&(g=d?mT.has(e):yT.has(e)),f&&g}}const vF=new RegExp("s*:selfs*,?","g");function J1(i,e,t){return new _F(i).build(e,t)}class _F{constructor(e){this._driver=e}build(e,t){const o=new EF(t);return this._resetContextStyleTimingState(o),Qi(this,Y_(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,u=t.depCount=0;const d=[],f=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const _=g,w=_.name;w.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,d.push(this.visitState(_,t))}),_.name=w}else if(1==g.type){const _=this.visitTransition(g,t);o+=_.queryCount,u+=_.depCount,f.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:d,transitions:f,queryCount:o,depCount:u,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),u=e.options&&e.options.params||null;if(o.containsDynamicStyles){const d=new Set,f=u||{};if(o.styles.forEach(g=>{if(vT(g)){const _=g;Object.keys(_).forEach(w=>{IO(_[w]).forEach(C=>{f.hasOwnProperty(C)||d.add(C)})})}}),d.size){const g=pT(d.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:e.name,style:o,options:u?{params:u}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=Qi(this,Y_(e.animation),t);return{type:1,matchers:gF(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Qd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>Qi(this,o,t)),options:Qd(e.options)}}visitGroup(e,t){const o=t.currentTime;let u=0;const d=e.steps.map(f=>{t.currentTime=o;const g=Qi(this,f,t);return u=Math.max(u,t.currentTime),g});return t.currentTime=u,{type:3,steps:d,options:Qd(e.options)}}visitAnimate(e,t){const o=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return X1(hT(i,e).duration,0,"");const o=i;if(o.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=X1(0,0,"");return d.dynamic=!0,d.strValue=o,d}return t=t||hT(o,e),X1(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let u,d=e.styles?e.styles:uT({});if(5==d.type)u=this.visitKeyframes(d,t);else{let f=e.styles,g=!1;if(!f){g=!0;const w={};o.easing&&(w.easing=o.easing),f=uT(w)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(f,t);_.isEmptyStep=g,u=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(f=>{"string"==typeof f?f==ou?o.push(f):t.errors.push(`The provided style string value ${f} is not allowed.`):o.push(f)}):o.push(e.styles);let u=!1,d=null;return o.forEach(f=>{if(vT(f)){const g=f,_=g.easing;if(_&&(d=_,delete g.easing),!u)for(let w in g)if(g[w].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:d,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let u=t.currentTime,d=t.currentTime;o&&d>0&&(d-=o.duration+o.delay),e.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void t.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],w=_[g];let C=!0;w&&(d!=u&&d>=w.startTime&&u<=w.endTime&&(t.errors.push(`The CSS property "${g}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${u}ms"`),C=!1),d=w.startTime),C&&(_[g]={startTime:d,endTime:u}),t.options&&function(i,e,t){const o=e.params||{},u=IO(i);u.length&&u.forEach(d=>{o.hasOwnProperty(d)||t.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(f[g],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let d=0;const f=[];let g=!1,_=!1,w=0;const C=e.steps.map(Y=>{const he=this._makeStyleAst(Y,t);let pe=null!=he.offset?he.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(vT(t)&&t.hasOwnProperty("offset")){const o=t;e=parseFloat(o.offset),delete o.offset}});else if(vT(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(he.styles),Te=0;return null!=pe&&(d++,Te=he.offset=pe),_=_||Te<0||Te>1,g=g||Te<w,w=Te,f.push(Te),he});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&t.errors.push("Please ensure that all keyframe offsets are in order");const T=e.steps.length;let S=0;d>0&&d<T?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(S=1/(T-1));const N=T-1,R=t.currentTime,k=t.currentAnimateTimings,$=k.duration;return C.forEach((Y,he)=>{const pe=S>0?he==N?1:S*he:f[he],Te=pe*$;t.currentTime=R+k.delay+Te,k.duration=Te,this._validateStyleAst(Y,t),Y.offset=pe,o.styles.push(Y)}),o}visitReference(e,t){return{type:8,animation:Qi(this,Y_(e.animation),t),options:Qd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qd(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,u=e.options||{};t.queryCount++,t.currentQuery=e;const[d,f]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(vF,"")),[i=i.replace(/@\*/g,dT).replace(/@\w+/g,t=>dT+"-"+t.substr(1)).replace(/:animating/g,W1),e]}(e.selector);t.currentQuerySelector=o.length?o+" "+d:d,Yi(t.collectedStyles,t.currentQuerySelector,{});const g=Qi(this,Y_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:d,limit:u.limit||0,optional:!!u.optional,includeSelf:f,animation:g,originalSelector:e.selector,options:Qd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:hT(e.timings,t.errors,!0);return{type:12,animation:Qi(this,Y_(e.animation),t),timings:o,options:null}}}class EF{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vT(i){return!Array.isArray(i)&&"object"==typeof i}function Qd(i){return i?(i=hg(i)).params&&(i.params=function(i){return i?hg(i):null}(i.params)):i={},i}function X1(i,e,t){return{duration:i,delay:e,easing:t}}function eN(i,e,t,o,u,d,f=null,g=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:u,delay:d,totalTime:u+d,easing:f,subTimeline:g}}class _T{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const AF=new RegExp(":enter","g"),MF=new RegExp(":leave","g");function tN(i,e,t,o,u,d={},f={},g,_,w=[]){return(new NF).buildKeyframes(i,e,t,o,u,d,f,g,_,w)}class NF{buildKeyframes(e,t,o,u,d,f,g,_,w,C=[]){w=w||new _T;const T=new nN(e,t,w,u,d,C,[]);T.options=_,T.currentTimeline.setStyles([f],null,T.errors,_),Qi(this,o,T);const S=T.timelines.filter(N=>N.containsAnimation());if(S.length&&Object.keys(g).length){const N=S[S.length-1];N.allowOnlyTimelineStyles()||N.setStyles([g],null,T.errors,_)}return S.length?S.map(N=>N.buildKeyframes()):[eN(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.consume(t.element);if(o){const u=t.createSubContext(e.options),d=t.currentTimeline.currentTime,f=this._visitSubInstructions(o,u,u.options);d!=f&&t.transformIntoNewTimeline(f)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let d=t.currentTimeline.currentTime;const f=null!=o.duration?Kd(o.duration):null,g=null!=o.delay?Kd(o.delay):null;return 0!==f&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,f,g);d=Math.max(d,w.duration+w.delay)}),d}visitReference(e,t){t.updateOptions(e.options,!0),Qi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let u=t;const d=e.options;if(d&&(d.params||d.delay)&&(u=t.createSubContext(d),u.transformIntoNewTimeline(),null!=d.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=bT);const f=Kd(d.delay);u.delayNextStep(f)}e.steps.length&&(e.steps.forEach(f=>Qi(this,f,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let u=t.currentTimeline.currentTime;const d=e.options&&e.options.delay?Kd(e.options.delay):0;e.steps.forEach(f=>{const g=t.createSubContext(e.options);d&&g.delayNextStep(d),Qi(this,f,g),u=Math.max(u,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(u),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return hT(t.params?fT(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),u=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),u.snapshotCurrentStyles());const d=e.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(o.duration),this.visitStyle(d,t),u.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,u=t.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const d=u&&u.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(d):o.setStyles(e.styles,d,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,u=t.currentTimeline.duration,d=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,e.styles.forEach(_=>{g.forwardTime((_.offset||0)*d),g.setStyles(_.styles,_.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(u+d),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,u=e.options||{},d=u.delay?Kd(u.delay):0;d&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bT);let f=o;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!u.optional,t.errors);t.currentQueryTotal=g.length;let _=null;g.forEach((w,C)=>{t.currentQueryIndex=C;const T=t.createSubContext(e.options,w);d&&T.delayNextStep(d),w===t.element&&(_=T.currentTimeline),Qi(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,u=t.currentTimeline,d=e.timings,f=Math.abs(d.duration),g=f*(t.currentQueryTotal-1);let _=f*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":_=g-_;break;case"full":_=o.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const T=C.currentTime;Qi(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=u.currentTime-T+(u.startTime-o.currentTimeline.startTime)}}const bT={};class nN{constructor(e,t,o,u,d,f,g,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=d,this.errors=f,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new wT(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let u=this.options;null!=o.duration&&(u.duration=Kd(o.duration)),null!=o.delay&&(u.delay=Kd(o.delay));const d=o.params;if(d){let f=u.params;f||(f=this.options.params={}),Object.keys(d).forEach(g=>{(!t||!f.hasOwnProperty(g))&&(f[g]=fT(d[g],f,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(u=>{o[u]=t[u]})}}return e}createSubContext(e=null,t,o){const u=t||this.element,d=new nN(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(e),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(e){return this.previousNode=bT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const u={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},d=new RF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,u,e.stretchStartingKeyframe);return this.timelines.push(d),u}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,u,d,f){let g=[];if(u&&g.push(this.element),e.length>0){e=(e=e.replace(AF,"."+this._enterClassName)).replace(MF,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=o);0!==o&&(w=o<0?w.slice(w.length+o,w.length):w.slice(0,o)),g.push(...w)}return!d&&0==g.length&&f.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),g}}class wT{constructor(e,t,o,u){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ou,this._currentKeyframe[t]=ou}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,u){t&&(this._previousKeyframe.easing=t);const d=u&&u.params||{},f=function(i,e){const t={};let o;return i.forEach(u=>{"*"===u?(o=o||Object.keys(e),o.forEach(d=>{t[d]=ou})):zl(u,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(f).forEach(g=>{const _=fT(f[g],d,o);this._pendingStyles[g]=_,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:ou),this._updateStyle(g,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=e[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],u=e._styleSummary[t];(!o||u.time>o.time)&&this._updateStyle(t,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((g,_)=>{const w=zl(g,!0);Object.keys(w).forEach(C=>{const T=w[C];"!"==T?e.add(C):T==ou&&t.add(C)}),o||(w.offset=_/this.duration),u.push(w)});const d=e.size?pT(e.values()):[],f=t.size?pT(t.values()):[];if(o){const g=u[0],_=hg(g);g.offset=0,_.offset=1,u=[g,_]}return eN(this.element,u,d,f,this.duration,this.startTime,this.easing,!1)}}class RF extends wT{constructor(e,t,o,u,d,f,g=!1){super(e,t,f.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=d,this._stretchStartingKeyframe=g,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],f=o+t,g=t/f,_=zl(e[0],!1);_.offset=0,d.push(_);const w=zl(e[0],!1);w.offset=FO(g),d.push(w);const C=e.length-1;for(let T=1;T<=C;T++){let S=zl(e[T],!1);S.offset=FO((t+S.offset*o)/f),d.push(S)}o=f,t=0,u="",e=d}return eN(this.element,e,this.preStyleProps,this.postStyleProps,o,t,u,!0)}}function FO(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class rN{}class xF extends rN{normalizePropertyName(e,t){return Q1(e)}normalizeStyleValue(e,t,o,u){let d="";const f=o.toString().trim();if(FF[t]&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&u.push(`Please provide a CSS unit value for ${e}:${o}`)}return f+d}}const FF=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PO(i,e,t,o,u,d,f,g,_,w,C,T,S){return{type:0,element:i,triggerName:e,isRemovalTransition:u,fromState:t,fromStyles:d,toState:o,toStyles:f,timelines:g,queriedElements:_,preStyleProps:w,postStyleProps:C,totalTime:T,errors:S}}const iN={};class kO{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,u){return function(i,e,t,o,u){return i.some(d=>d(e,t,o,u))}(this.ast.matchers,e,t,o,u)}buildStyles(e,t,o){const u=this._stateStyles["*"],d=this._stateStyles[e],f=u?u.buildStyles(t,o):{};return d?d.buildStyles(t,o):f}build(e,t,o,u,d,f,g,_,w,C){const T=[],S=this.ast.options&&this.ast.options.params||iN,R=this.buildStyles(o,g&&g.params||iN,T),k=_&&_.params||iN,$=this.buildStyles(u,k,T),Y=new Set,he=new Map,pe=new Map,Te="void"===u,Ie={params:Object.assign(Object.assign({},S),k)},et=C?[]:tN(e,t,this.ast.animation,d,f,R,$,Ie,w,T);let pt=0;if(et.forEach(er=>{pt=Math.max(er.duration+er.delay,pt)}),T.length)return PO(t,this._triggerName,o,u,Te,R,$,[],[],he,pe,pt,T);et.forEach(er=>{const Gr=er.element,Wl=Yi(he,Gr,{});er.preStyleProps.forEach(Ys=>Wl[Ys]=!0);const Kl=Yi(pe,Gr,{});er.postStyleProps.forEach(Ys=>Kl[Ys]=!0),Gr!==t&&Y.add(Gr)});const Tr=pT(Y.values());return PO(t,this._triggerName,o,u,Te,R,$,et,Tr,he,pe,pt)}}class LF{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},u=hg(this.defaultParams);return Object.keys(e).forEach(d=>{const f=e[d];null!=f&&(u[d]=f)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const f=d;Object.keys(f).forEach(g=>{let _=f[g];_.length>1&&(_=fT(_,u,t));const w=this.normalizer.normalizePropertyName(g,t);_=this.normalizer.normalizeStyleValue(g,w,_,t),o[w]=_})}}),o}}class BF{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(u=>{this.states[u.name]=new LF(u.style,u.options&&u.options.params||{},o)}),LO(this.states,"true","1"),LO(this.states,"false","0"),t.transitions.forEach(u=>{this.transitionFactories.push(new kO(e,u,this.states))}),this.fallbackTransition=function(i,e,t){return new kO(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,u){return this.transitionFactories.find(f=>f.match(e,t,o,u))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function LO(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const UF=new _T;class HF{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],u=J1(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=u}_buildPlayer(e,t,o){const u=e.element,d=mO(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(u,d,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const u=[],d=this._animations[e];let f;const g=new Map;if(d?(f=tN(this._driver,t,d,z1,lT,{},{},o,UF,u),f.forEach(C=>{const T=Yi(g,C.element,{});C.postStyleProps.forEach(S=>T[S]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),f=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);g.forEach((C,T)=>{Object.keys(C).forEach(S=>{C[S]=this._driver.computeStyle(T,S,ou)})});const w=ql(f.map(C=>{const T=g.get(C.element);return this._buildPlayer(C,{},T)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,u){const d=V1(t,"","","");return k1(this._getPlayer(e),o,d,u),()=>{}}command(e,t,o,u){if("register"==o)return void this.register(e,u[0]);if("create"==o)return void this.create(e,t,u[0]||{});const d=this._getPlayer(e);switch(o){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(e)}}}const VO="ng-animate-queued",BO="ng-animate-disabled",jO=".ng-animate-disabled",zF=[],UO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Do="__ng_removed";class oN{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(o?e.value:e),o){const d=hg(e);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(u=>{null==o[u]&&(o[u]=t[u])})}}}const Q_="void",sN=new oN(Q_);class KF{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,To(t,this._hostClassName)}listen(e,t,o,u){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const d=Yi(this._elementListeners,e,[]),f={name:t,phase:o,callback:u};d.push(f);const g=Yi(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(To(e,cT),To(e,cT+"-"+t),g[t]=sN),()=>{this._engine.afterFlush(()=>{const _=d.indexOf(f);_>=0&&d.splice(_,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,u=!0){const d=this._getTrigger(t),f=new aN(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(To(e,cT),To(e,cT+"-"+t),this._engine.statesByElement.set(e,g={}));let _=g[t];const w=new oN(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),g[t]=w,_||(_=sN),w.value!==Q_&&_.value===w.value){if(!function(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let u=0;u<t.length;u++){const d=t[u];if(!e.hasOwnProperty(d)||i[d]!==e[d])return!1}return!0}(_.params,w.params)){const k=[],$=d.matchStyles(_.value,_.params,k),Y=d.matchStyles(w.value,w.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{Yd(e,$),Ks(e,Y)})}return}const S=Yi(this._engine.playersByElement,e,[]);S.forEach(k=>{k.namespaceId==this.id&&k.triggerName==t&&k.queued&&k.destroy()});let N=d.matchTransition(_.value,w.value,e,w.params),R=!1;if(!N){if(!u)return;N=d.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:_,toState:w,player:f,isFallbackTransition:R}),R||(To(e,VO),f.onStart(()=>{fg(e,VO)})),f.onDone(()=>{let k=this.players.indexOf(f);k>=0&&this.players.splice(k,1);const $=this._engine.playersByElement.get(e);if($){let Y=$.indexOf(f);Y>=0&&$.splice(Y,1)}}),this.players.push(f),S.push(f),f}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(u=>u.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,dT,!0);o.forEach(u=>{if(u[Do])return;const d=this._engine.fetchNamespacesByElement(u);d.size?d.forEach(f=>f.triggerLeaveAnimation(u,t,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(e,t,o,u){const d=this._engine.statesByElement.get(e);if(d){const f=[];if(Object.keys(d).forEach(g=>{if(this._triggers[g]){const _=this.trigger(e,g,Q_,u);_&&f.push(_)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),o&&ql(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const u=new Set;t.forEach(d=>{const f=d.name;if(u.has(f))return;u.add(f);const _=this._triggers[f].fallbackTransition,w=o[f]||sN,C=new oN(Q_),T=new aN(this.id,f,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:f,transition:_,fromState:w,toState:C,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let u=!1;if(o.totalAnimations){const d=o.players.length?o.playersByQueriedElement.get(e):[];if(d&&d.length)u=!0;else{let f=e;for(;f=f.parentNode;)if(o.statesByElement.get(f)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(e),u)o.markElementAsRemoved(this.id,e,!1,t);else{const d=e[Do];(!d||d===UO)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){To(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const d=o.element,f=this._elementListeners.get(d);f&&f.forEach(g=>{if(g.name==o.triggerName){const _=V1(d,o.triggerName,o.fromState.value,o.toState.value);_._data=e,k1(o.player,g.phase,_,g.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):t.push(o)}),this._queue=[],t.sort((o,u)=>{const d=o.transition.ast.depCount,f=u.transition.ast.depCount;return 0==d||0==f?d-f:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class YF{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,d)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new KF(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let u=!1;for(let d=o;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,t)){this._namespaceList.splice(d+1,0,e),u=!0;break}u||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let u=this._namespaceLookup[e];u&&u.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const u=Object.keys(o);for(let d=0;d<u.length;d++){const f=o[u[d]].namespaceId;if(f){const g=this._fetchNamespace(f);g&&t.add(g)}}}return t}trigger(e,t,o,u){if(ET(t)){const d=this._fetchNamespace(e);if(d)return d.trigger(t,o,u),!0}return!1}insertNode(e,t,o,u){if(!ET(t))return;const d=t[Do];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(e){const f=this._fetchNamespace(e);f&&f.insertNode(t,o)}u&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),To(e,BO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fg(e,BO))}removeNode(e,t,o,u){if(ET(t)){const d=e?this._fetchNamespace(e):null;if(d?d.removeNode(t,u):this.markElementAsRemoved(e,t,!1,u),o){const f=this.namespacesByHostElement.get(t);f&&f.id!==e&&f.removeNode(t,u)}}else this._onRemovalComplete(t,u)}markElementAsRemoved(e,t,o,u){this.collectedLeaveElements.push(t),t[Do]={namespaceId:e,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1}}listen(e,t,o,u,d){return ET(t)?this._fetchNamespace(e).listen(t,o,u,d):()=>{}}_buildInstruction(e,t,o,u,d){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,u,e.fromState.options,e.toState.options,t,d)}destroyInnerAnimations(e){let t=this.driver.query(e,dT,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,W1,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ql(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Do];if(t&&t.setForRemoval){if(e[Do]=UO,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,jO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,jO,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)To(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?ql(t).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new _T,u=[],d=new Map,f=[],g=new Map,_=new Map,w=new Map,C=new Set;this.disabledNodes.forEach(Fe=>{C.add(Fe);const je=this.driver.query(Fe,".ng-animate-queued",!0);for(let nt=0;nt<je.length;nt++)C.add(je[nt])});const T=this.bodyNode,S=Array.from(this.statesByElement.keys()),N=$O(S,this.collectedEnterElements),R=new Map;let k=0;N.forEach((Fe,je)=>{const nt=z1+k++;R.set(je,nt),Fe.forEach(Nt=>To(Nt,nt))});const $=[],Y=new Set,he=new Set;for(let Fe=0;Fe<this.collectedLeaveElements.length;Fe++){const je=this.collectedLeaveElements[Fe],nt=je[Do];nt&&nt.setForRemoval&&($.push(je),Y.add(je),nt.hasAnimation?this.driver.query(je,".ng-star-inserted",!0).forEach(Nt=>Y.add(Nt)):he.add(je))}const pe=new Map,Te=$O(S,Array.from(Y));Te.forEach((Fe,je)=>{const nt=lT+k++;pe.set(je,nt),Fe.forEach(Nt=>To(Nt,nt))}),e.push(()=>{N.forEach((Fe,je)=>{const nt=R.get(je);Fe.forEach(Nt=>fg(Nt,nt))}),Te.forEach((Fe,je)=>{const nt=pe.get(je);Fe.forEach(Nt=>fg(Nt,nt))}),$.forEach(Fe=>{this.processLeaveNode(Fe)})});const Ie=[],et=[];for(let Fe=this._namespaceList.length-1;Fe>=0;Fe--)this._namespaceList[Fe].drainQueuedTransitions(t).forEach(nt=>{const Nt=nt.player,hr=nt.element;if(Ie.push(Nt),this.collectedEnterElements.length){const Zs=hr[Do];if(Zs&&Zs.setForMove)return void Nt.destroy()}const Qs=!T||!this.driver.containsElement(T,hr),Zi=pe.get(hr),Yl=R.get(hr),Mn=this._buildInstruction(nt,o,Yl,Zi,Qs);if(Mn.errors&&Mn.errors.length)et.push(Mn);else{if(Qs)return Nt.onStart(()=>Yd(hr,Mn.fromStyles)),Nt.onDestroy(()=>Ks(hr,Mn.toStyles)),void u.push(Nt);if(nt.isFallbackTransition)return Nt.onStart(()=>Yd(hr,Mn.fromStyles)),Nt.onDestroy(()=>Ks(hr,Mn.toStyles)),void u.push(Nt);Mn.timelines.forEach(Zs=>Zs.stretchStartingKeyframe=!0),o.append(hr,Mn.timelines),f.push({instruction:Mn,player:Nt,element:hr}),Mn.queriedElements.forEach(Zs=>Yi(g,Zs,[]).push(Nt)),Mn.preStyleProps.forEach((Zs,X_)=>{const AT=Object.keys(Zs);if(AT.length){let Zd=_.get(X_);Zd||_.set(X_,Zd=new Set),AT.forEach(dN=>Zd.add(dN))}}),Mn.postStyleProps.forEach((Zs,X_)=>{const AT=Object.keys(Zs);let Zd=w.get(X_);Zd||w.set(X_,Zd=new Set),AT.forEach(dN=>Zd.add(dN))})}});if(et.length){const Fe=[];et.forEach(je=>{Fe.push(`@${je.triggerName} has failed due to:\n`),je.errors.forEach(nt=>Fe.push(`- ${nt}\n`))}),Ie.forEach(je=>je.destroy()),this.reportError(Fe)}const pt=new Map,Tr=new Map;f.forEach(Fe=>{const je=Fe.element;o.has(je)&&(Tr.set(je,je),this._beforeAnimationBuild(Fe.player.namespaceId,Fe.instruction,pt))}),u.forEach(Fe=>{const je=Fe.element;this._getPreviousPlayers(je,!1,Fe.namespaceId,Fe.triggerName,null).forEach(Nt=>{Yi(pt,je,[]).push(Nt),Nt.destroy()})});const er=$.filter(Fe=>zO(Fe,_,w)),Gr=new Map;GO(Gr,this.driver,he,w,ou).forEach(Fe=>{zO(Fe,_,w)&&er.push(Fe)});const Kl=new Map;N.forEach((Fe,je)=>{GO(Kl,this.driver,new Set(Fe),_,"!")}),er.forEach(Fe=>{const je=Gr.get(Fe),nt=Kl.get(Fe);Gr.set(Fe,Object.assign(Object.assign({},je),nt))});const Ys=[],Z_=[],J_={};f.forEach(Fe=>{const{element:je,player:nt,instruction:Nt}=Fe;if(o.has(je)){if(C.has(je))return nt.onDestroy(()=>Ks(je,Nt.toStyles)),nt.disabled=!0,nt.overrideTotalTime(Nt.totalTime),void u.push(nt);let hr=J_;if(Tr.size>1){let Zi=je;const Yl=[];for(;Zi=Zi.parentNode;){const Mn=Tr.get(Zi);if(Mn){hr=Mn;break}Yl.push(Zi)}Yl.forEach(Mn=>Tr.set(Mn,hr))}const Qs=this._buildAnimation(nt.namespaceId,Nt,pt,d,Kl,Gr);if(nt.setRealPlayer(Qs),hr===J_)Ys.push(nt);else{const Zi=this.playersByElement.get(hr);Zi&&Zi.length&&(nt.parentPlayer=ql(Zi)),u.push(nt)}}else Yd(je,Nt.fromStyles),nt.onDestroy(()=>Ks(je,Nt.toStyles)),Z_.push(nt),C.has(je)&&u.push(nt)}),Z_.forEach(Fe=>{const je=d.get(Fe.element);if(je&&je.length){const nt=ql(je);Fe.setRealPlayer(nt)}}),u.forEach(Fe=>{Fe.parentPlayer?Fe.syncPlayerEvents(Fe.parentPlayer):Fe.destroy()});for(let Fe=0;Fe<$.length;Fe++){const je=$[Fe],nt=je[Do];if(fg(je,lT),nt&&nt.hasAnimation)continue;let Nt=[];if(g.size){let Qs=g.get(je);Qs&&Qs.length&&Nt.push(...Qs);let Zi=this.driver.query(je,W1,!0);for(let Yl=0;Yl<Zi.length;Yl++){let Mn=g.get(Zi[Yl]);Mn&&Mn.length&&Nt.push(...Mn)}}const hr=Nt.filter(Qs=>!Qs.destroyed);hr.length?XF(this,je,hr):this.processLeaveNode(je)}return $.length=0,Ys.forEach(Fe=>{this.players.push(Fe),Fe.onDone(()=>{Fe.destroy();const je=this.players.indexOf(Fe);this.players.splice(je,1)}),Fe.play()}),Ys}elementContainsData(e,t){let o=!1;const u=t[Do];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,u,d){let f=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(f=g)}else{const g=this.playersByElement.get(e);if(g){const _=!d||d==Q_;g.forEach(w=>{w.queued||!_&&w.triggerName!=u||f.push(w)})}}return(o||u)&&(f=f.filter(g=>!(o&&o!=g.namespaceId||u&&u!=g.triggerName))),f}_beforeAnimationBuild(e,t,o){const d=t.element,f=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,C=w!==d,T=Yi(o,w,[]);this._getPreviousPlayers(w,C,f,g,t.toState).forEach(N=>{const R=N.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),N.destroy(),T.push(N)})}Yd(d,t.fromStyles)}_buildAnimation(e,t,o,u,d,f){const g=t.triggerName,_=t.element,w=[],C=new Set,T=new Set,S=t.timelines.map(R=>{const k=R.element;C.add(k);const $=k[Do];if($&&$.removedBeforeQueried)return new dg(R.duration,R.delay);const Y=k!==_,he=function(i){const e=[];return qO(i,e),e}((o.get(k)||zF).map(pt=>pt.getRealPlayer())).filter(pt=>!!pt.element&&pt.element===k),pe=d.get(k),Te=f.get(k),Ie=mO(0,this._normalizer,0,R.keyframes,pe,Te),et=this._buildPlayer(R,Ie,he);if(R.subTimeline&&u&&T.add(k),Y){const pt=new aN(e,g,k);pt.setRealPlayer(et),w.push(pt)}return et});w.forEach(R=>{Yi(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function(i,e,t){let o;if(i instanceof Map){if(o=i.get(e),o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&i.delete(e)}}else if(o=i[e],o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&delete i[e]}return o}(this.playersByQueriedElement,R.element,R))}),C.forEach(R=>To(R,DO));const N=ql(S);return N.onDestroy(()=>{C.forEach(R=>fg(R,DO)),Ks(_,t.toStyles)}),T.forEach(R=>{Yi(u,R,[]).push(N)}),N}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new dg(e.duration,e.delay)}}class aN{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new dg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>k1(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Yi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ET(i){return i&&1===i.nodeType}function HO(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function GO(i,e,t,o,u){const d=[];t.forEach(_=>d.push(HO(_)));const f=[];o.forEach((_,w)=>{const C={};_.forEach(T=>{const S=C[T]=e.computeStyle(w,T,u);(!S||0==S.length)&&(w[Do]=WF,f.push(w))}),i.set(w,C)});let g=0;return t.forEach(_=>HO(_,d[g++])),f}function $O(i,e){const t=new Map;if(i.forEach(g=>t.set(g,[])),0==e.length)return t;const u=new Set(e),d=new Map;function f(g){if(!g)return 1;let _=d.get(g);if(_)return _;const w=g.parentNode;return _=t.has(w)?w:u.has(w)?1:f(w),d.set(g,_),_}return e.forEach(g=>{const _=f(g);1!==_&&t.get(_).push(g)}),t}const CT="$$classes";function To(i,e){if(i.classList)i.classList.add(e);else{let t=i[CT];t||(t=i[CT]={}),t[e]=!0}}function fg(i,e){if(i.classList)i.classList.remove(e);else{let t=i[CT];t&&delete t[e]}}function XF(i,e,t){ql(t).onDone(()=>i.processLeaveNode(e))}function qO(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof dO?qO(o.players,e):e.push(o)}}function zO(i,e,t){const o=t.get(i);if(!o)return!1;let u=e.get(i);return u?o.forEach(d=>u.add(d)):e.set(i,o),t.delete(i),!0}class DT{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,d)=>{},this._transitionEngine=new YF(e,t,o),this._timelineEngine=new HF(e,t,o),this._transitionEngine.onRemovalComplete=(u,d)=>this.onRemovalComplete(u,d)}registerTrigger(e,t,o,u,d){const f=e+"-"+u;let g=this._triggerCache[f];if(!g){const _=[],w=J1(this._driver,d,_);if(_.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);g=function(i,e,t){return new BF(i,e,t)}(u,w,this._normalizer),this._triggerCache[f]=g}this._transitionEngine.registerTrigger(t,u,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,u){this._transitionEngine.insertNode(e,t,o,u)}onRemove(e,t,o,u){this._transitionEngine.removeNode(e,t,u||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,u){if("@"==o.charAt(0)){const[d,f]=yO(o);this._timelineEngine.command(d,t,f,u)}else this._transitionEngine.trigger(e,t,o,u)}listen(e,t,o,u,d){if("@"==o.charAt(0)){const[f,g]=yO(o);return this._timelineEngine.listen(f,t,g,d)}return this._transitionEngine.listen(e,t,o,u,d)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function WO(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=uN(e[0]),e.length>1&&(o=uN(e[e.length-1]))):e&&(t=uN(e)),t||o?new nP(i,t,o):null}let nP=(()=>{class i{constructor(t,o,u){this._element=t,this._startStyles=o,this._endStyles=u,this._state=0;let d=i.initialStylesByElement.get(t);d||i.initialStylesByElement.set(t,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Ks(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ks(this._element,this._initialStyles),this._endStyles&&(Ks(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Yd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yd(this._element,this._endStyles),this._endStyles=null),Ks(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function uN(i){let e=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const u=t[o];rP(u)&&(e=e||{},e[u]=i[u])}return e}function rP(i){return"display"===i||"position"===i}const KO="animation",YO="animationend";class sP{constructor(e,t,o,u,d,f,g){this._element=e,this._name=t,this._duration=o,this._delay=u,this._easing=d,this._fillMode=f,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(i,e){const t=cN(i,"").trim();let o=0;t.length&&(function(i,e){let t=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&t++;return t}(t)+1,e=`${t}, ${e}`),TT(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),JO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){QO(this._element,this._name,"paused")}resume(){QO(this._element,this._name,"running")}setPosition(e){const t=ZO(this._element,this._name);this._position=e*this._duration,TT(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),JO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,e){const o=cN(i,"").split(","),u=lN(o,e);u>=0&&(o.splice(u,1),TT(i,"",o.join(",")))}(this._element,this._name))}}function QO(i,e,t){TT(i,"PlayState",t,ZO(i,e))}function ZO(i,e){const t=cN(i,"");return t.indexOf(",")>0?lN(t.split(","),e):lN([t],e)}function lN(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function JO(i,e,t){t?i.removeEventListener(YO,e):i.addEventListener(YO,e)}function TT(i,e,t,o){const u=KO+e;if(null!=o){const d=i.style[u];if(d.length){const f=d.split(",");f[o]=t,t=f.join(",")}}i.style[u]=t}function cN(i,e){return i.style[KO+e]||""}class XO{constructor(e,t,o,u,d,f,g,_){this.element=e,this.keyframes=t,this.animationName=o,this._duration=u,this._delay=d,this._finalStyles=g,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=u+d,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new sP(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(e[o]=t?this._finalStyles[o]:Z1(this.element,o))})}this.currentSnapshot=e}}class hP extends dg{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=wO(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class tx{constructor(){this._count=0}validateStyleProperty(e){return U1(e)}matchesElement(e,t){return H1(e,t)}containsElement(e,t){return G1(e,t)}query(e,t,o){return $1(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,o){o=o.map(g=>wO(g));let u=`@keyframes ${t} {\n`,d="";o.forEach(g=>{d=" ";const _=parseFloat(g.offset);u+=`${d}${100*_}% {\n`,d+=" ",Object.keys(g).forEach(w=>{const C=g[w];switch(w){case"offset":return;case"easing":return void(C&&(u+=`${d}animation-timing-function: ${C};\n`));default:return void(u+=`${d}${w}: ${C};\n`)}}),u+=`${d}}\n`}),u+="}\n";const f=document.createElement("style");return f.textContent=u,f}animate(e,t,o,u,d,f=[],g){const _=f.filter($=>$ instanceof XO),w={};MO(o,u)&&_.forEach($=>{let Y=$.currentSnapshot;Object.keys(Y).forEach(he=>w[he]=Y[he])});const C=function(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(u=>{"offset"==u||"easing"==u||(e[u]=o[u])})}),e}(t=NO(e,t,w));if(0==o)return new hP(e,C);const T="gen_css_kf_"+this._count++,S=this.buildKeyframeElement(e,T,t);(function(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(S);const R=WO(e,t),k=new XO(e,t,T,o,u,d,C,R);return k.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(S)),k}}class rx{constructor(e,t,o,u){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,o){return e.animate(t,o)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Z1(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class yP{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ix().toString()),this._cssKeyframesDriver=new tx}validateStyleProperty(e){return U1(e)}matchesElement(e,t){return H1(e,t)}containsElement(e,t){return G1(e,t)}query(e,t,o){return $1(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,o,u,d,f=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,o,u,d,f);const C={duration:o,delay:u,fill:0==u?"both":"forwards"};d&&(C.easing=d);const T={},S=f.filter(R=>R instanceof rx);MO(o,u)&&S.forEach(R=>{let k=R.currentSnapshot;Object.keys(k).forEach($=>T[$]=k[$])});const N=WO(e,t=NO(e,t=t.map(R=>zl(R,!1)),T));return new rx(e,t,C,N)}}function ix(){return gO()&&Element.prototype.animate||{}}let _P=(()=>{class i extends aT{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(t)?lO(t):t;return ox(this._renderer,null,o,"register",[u]),new bP(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.FYo),m.LFG(fe))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class bP extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new wP(this._id,e,t||{},this._renderer)}}class wP{constructor(e,t,o,u){this.id=e,this.element=t,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ox(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ox(i,e,t,o,u){return i.setProperty(e,`@@${t}:${o}`,u)}const sx="@.disabled";let EP=(()=>{class i{constructor(t,o,u){this.delegate=t,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(d,f)=>{f&&f.parentNode(d)&&f.removeChild(d.parentNode,d)}}createRenderer(t,o){const d=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let C=this._rendererCache.get(d);return C||(C=new ax("",d,this.engine),this._rendererCache.set(d,C)),C}const f=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(f,g,t,C.name,C)};return o.data.animation.forEach(_),new CP(this,g,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,u){t>=0&&t<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[f,g]=d;f(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(m.FYo),m.LFG(DT),m.LFG(m.R0b))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class ax{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,u=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,u)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,u){this.delegate.setAttribute(e,t,o,u)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,u){this.delegate.setStyle(e,t,o,u)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==sx?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class CP extends ax{constructor(e,t,o,u){super(t,o,u),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sx?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const u=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let d=t.substr(1),f="";return"@"!=d.charAt(0)&&([d,f]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(d)),this.engine.listen(this.namespaceId,u,d,f,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(e,t,o)}}let SP=(()=>{class i extends DT{constructor(t,o,u){super(t.body,o,u)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(fe),m.LFG(q1),m.LFG(rN))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const ux=new m.OlP("AnimationModuleType"),lx=[{provide:aT,useClass:_P},{provide:rN,useFactory:function(){return new xF}},{provide:DT,useClass:SP},{provide:m.FYo,useFactory:function(i,e,t){return new EP(i,e,t)},deps:[na,DT,m.R0b]}],cx=[{provide:q1,useFactory:function(){return"function"==typeof ix()?new yP:new tx}},{provide:ux,useValue:"BrowserAnimations"},...lx],dx=[{provide:q1,useClass:EO},{provide:ux,useValue:"NoopAnimations"},...lx];let NP=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?dx:cx}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:cx,imports:[ra]}),i})(),RP=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i,bootstrap:[sF]}),i.\u0275inj=m.cJS({providers:[],imports:[[ra,oF,H0,cn.hO.initializeApp(hM_firestoreConfig),NP,ER,O_,ig]]}),i})();(0,m.G48)(),ZT().bootstrapModule(RP).catch(i=>console.error(i))},4762:(Ue,ve,F)=>{"use strict";F.d(ve,{ZT:()=>re,pi:()=>ge,gn:()=>ae,w6:()=>fe,mG:()=>de,Jh:()=>z,XA:()=>U,CR:()=>L,ev:()=>se});var m=function(Q,te){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,Z){K.__proto__=Z}||function(K,Z){for(var be in Z)Object.prototype.hasOwnProperty.call(Z,be)&&(K[be]=Z[be])})(Q,te)};function re(Q,te){if("function"!=typeof te&&null!==te)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function K(){this.constructor=Q}m(Q,te),Q.prototype=null===te?Object.create(te):(K.prototype=te.prototype,new K)}var ge=function(){return(ge=Object.assign||function(te){for(var K,Z=1,be=arguments.length;Z<be;Z++)for(var X in K=arguments[Z])Object.prototype.hasOwnProperty.call(K,X)&&(te[X]=K[X]);return te}).apply(this,arguments)};function ae(Q,te,K,Z){var Pe,be=arguments.length,X=be<3?te:null===Z?Z=Object.getOwnPropertyDescriptor(te,K):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(Q,te,K,Z);else for(var Je=Q.length-1;Je>=0;Je--)(Pe=Q[Je])&&(X=(be<3?Pe(X):be>3?Pe(te,K,X):Pe(te,K))||X);return be>3&&X&&Object.defineProperty(te,K,X),X}function fe(Q,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Q,te)}function de(Q,te,K,Z){return new(K||(K=Promise))(function(X,Pe){function Je(Kt){try{Be(Z.next(Kt))}catch(Qe){Pe(Qe)}}function Wt(Kt){try{Be(Z.throw(Kt))}catch(Qe){Pe(Qe)}}function Be(Kt){Kt.done?X(Kt.value):function(X){return X instanceof K?X:new K(function(Pe){Pe(X)})}(Kt.value).then(Je,Wt)}Be((Z=Z.apply(Q,te||[])).next())})}function z(Q,te){var Z,be,X,Pe,K={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return Pe={next:Je(0),throw:Je(1),return:Je(2)},"function"==typeof Symbol&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Je(Be){return function(Kt){return function(Be){if(Z)throw new TypeError("Generator is already executing.");for(;K;)try{if(Z=1,be&&(X=2&Be[0]?be.return:Be[0]?be.throw||((X=be.return)&&X.call(be),0):be.next)&&!(X=X.call(be,Be[1])).done)return X;switch(be=0,X&&(Be=[2&Be[0],X.value]),Be[0]){case 0:case 1:X=Be;break;case 4:return K.label++,{value:Be[1],done:!1};case 5:K.label++,be=Be[1],Be=[0];continue;case 7:Be=K.ops.pop(),K.trys.pop();continue;default:if(!(X=(X=K.trys).length>0&&X[X.length-1])&&(6===Be[0]||2===Be[0])){K=0;continue}if(3===Be[0]&&(!X||Be[1]>X[0]&&Be[1]<X[3])){K.label=Be[1];break}if(6===Be[0]&&K.label<X[1]){K.label=X[1],X=Be;break}if(X&&K.label<X[2]){K.label=X[2],K.ops.push(Be);break}X[2]&&K.ops.pop(),K.trys.pop();continue}Be=te.call(Q,K)}catch(Kt){Be=[6,Kt],be=0}finally{Z=X=0}if(5&Be[0])throw Be[1];return{value:Be[0]?Be[1]:void 0,done:!0}}([Be,Kt])}}}function U(Q){var te="function"==typeof Symbol&&Symbol.iterator,K=te&&Q[te],Z=0;if(K)return K.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&Z>=Q.length&&(Q=void 0),{value:Q&&Q[Z++],done:!Q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(Q,te){var K="function"==typeof Symbol&&Q[Symbol.iterator];if(!K)return Q;var be,Pe,Z=K.call(Q),X=[];try{for(;(void 0===te||te-- >0)&&!(be=Z.next()).done;)X.push(be.value)}catch(Je){Pe={error:Je}}finally{try{be&&!be.done&&(K=Z.return)&&K.call(Z)}finally{if(Pe)throw Pe.error}}return X}function se(Q,te,K){if(K||2===arguments.length)for(var X,Z=0,be=te.length;Z<be;Z++)(X||!(Z in te))&&(X||(X=Array.prototype.slice.call(te,0,Z)),X[Z]=te[Z]);return Q.concat(X||Array.prototype.slice.call(te))}}},Ue=>{Ue(Ue.s=1016)}]);